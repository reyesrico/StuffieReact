(this.webpackJsonpstuffiereact=this.webpackJsonpstuffiereact||[]).push([[0],{16:function(e,t,n){"use strict";var a=n(4),r={category:{add:function(){return"".concat(a.a.server,"categories")},list:function(){return"".concat(a.a.server,"categories")},detail:function(e){return"".concat(a.a.server,"categories?q=").concat(JSON.stringify({id:parseInt(e)}))}},cloudinary:{exist:function(){return"https://".concat(a.a.cloudinary.apiKey,":").concat(a.a.cloudinary.apiSecret,"@api.cloudinary.com/v1_1/").concat(a.a.cloudinary.cloudName,"/resources/image")}},subcategory:{add:function(){return"".concat(a.a.server,"subcategories")},list:function(){return"".concat(a.a.server,"subcategories")},detail:function(e){return"".concat(a.a.server,"subcategories?q=").concat(JSON.stringify({id:parseInt(e)}))}},stuff:{addStuffiersStuff:function(){return"".concat(a.a.server,"stuffiers-stuff")},addStuff:function(){return"".concat(a.a.server,"stuff")},detail:function(e){return"".concat(a.a.server,"stuff?q=").concat(JSON.stringify({id:parseInt(e)}))},listDetail:function(e){return"".concat(a.a.server,'stuff?q={"$or":').concat(JSON.stringify(e),"}&metafields=true")},listForStuffier:function(e){return"".concat(a.a.server,"stuffiers-stuff?q=").concat(JSON.stringify({id_stuffier:e}))},listStuffiers:function(e){return"".concat(a.a.server,'stuffiers-stuff?q={"$or":').concat(JSON.stringify(e),"}")},detailFromCategories:function(e,t){return"".concat(a.a.server,'stuff?q={"$and":[{"category": ').concat(e,'}, {"subcategory": ').concat(t,"}]}")},listPendingPics:function(){return"".concat(a.a.server,'stuff?q={"$or": [ {"file_name": {"$exists": false}}, {"file_name": ""} ]}')},updateStuff:function(e){return"".concat(a.a.server,"stuffiers-stuff/").concat(e)}},user:{detail:function(e){return"".concat(a.a.server,"stuffiers?q=").concat(JSON.stringify({email:e}))},listDetail:function(e){return"".concat(a.a.server,'stuffiers?q={"$or":').concat(JSON.stringify(e),"}")},friends:function(e){return"".concat(a.a.server,"friends?q=").concat(JSON.stringify({email_stuffier:e}))},list:function(){return"".concat(a.a.server,"stuffiers")},loginUser:function(e,t){return"".concat(a.a.server,"stuffiers?q=").concat(JSON.stringify({email:e,password:t}))},registerUser:function(){return"".concat(a.a.server,"stuffiers")},lastId:function(){return"".concat(a.a.server,'stuffiers?q={}&h={"$fields": {"id":1}, "$aggregate":["COUNT:"] }')},requestToBeFriend:function(){return"".concat(a.a.server,"friend-requests")},friendsRequest:function(e){return"".concat(a.a.server,"friend-requests?q=").concat(JSON.stringify({email_stuffier:e}))},friendRequestDetail:function(e,t){return"".concat(a.a.server,"friend-requests?q=").concat(JSON.stringify({email_stuffier:e,id_friend:t}))},deleteFriendRequest:function(e){return"".concat(a.a.server,"friend-requests/").concat(e)},friend:function(){return"".concat(a.a.server,"friends")},userRequests:function(){return"".concat(a.a.server,'stuffiers?q={"request": true}')},deleteUserRequest:function(e){return"".concat(a.a.server,"stuffiers/").concat(e)}},exchange:{request:function(){return"".concat(a.a.server,"exchange-requests")},list:function(e){return"".concat(a.a.server,'exchange-requests?q={ "$or": [{ "id_stuffier": ').concat(e,' } ,{ "id_friend": ').concat(e," }] }")},deleteRequest:function(e){return"".concat(a.a.server,"exchange-requests/").concat(e)}},loan:{request:function(){return"".concat(a.a.server,"loan-requests")},list:function(e){return"".concat(a.a.server,'loan-requests?q={ "$or": [{ "id_stuffier": ').concat(e,' } ,{ "id_friend": ').concat(e," }] }")},deleteRequest:function(e){return"".concat(a.a.server,"loan-requests/").concat(e)}},covid:{default:function(){return"https://api.covid19api.com/"},all:function(){return"https://api.covid19api.com/all"},countries:function(){return"https://api.covid19api.com/countries"},country:function(e){return"https://api.covid19api.com/dayone/country/".concat(e)}},spotify:{fetch:function(){return"".concat(a.a.server,'conf?q={"platform": "spotify"}')}}};t.a=r},312:function(e,t){},324:function(e){e.exports=JSON.parse('{"translations":{"Add-Friend":"Add Friend","Admin":"Admin","English":"English","Feed":"Feed","Friends":"Friends","Friends-Title":"{{ first_name }} Friends","Language":"Language","Logout":"Logout","Products":"Products","Spanish":"Spanish","Summary":"Summary","Welcome":"Welcome ","Welcome to React Translation":"Welcome to React Translate.","This is test view":"This is the test view.","Loading-data":"Loading data and products...","Loading-Feed":"Loading Feed"}}')},325:function(e){e.exports=JSON.parse('{"translations":{"Add-Friend":"Agregar Amigo","Admin":"Admin","English":"Ingles","Feed":"Feed","Friends":"Amigos","Friends-Title":"Amigos de {{ first_name }}","Language":"Idioma","Logout":"Salir","Products":"Productos","Spanish":"Espa\xf1ol","Summary":"Inventario","Welcome":"Hola ","Welcome to React Translation":"Bienvenido.","This is test view":"Esta es una prueba.","Loading-data":"Cargando datos and productos...","Loading-Feed":"Cargando Feed"}}')},352:function(e,t,n){e.exports=n(749)},370:function(e,t,n){},371:function(e,t,n){},372:function(e,t,n){},394:function(e,t){},396:function(e,t){},4:function(e,t,n){"use strict";t.a={cloudinary:{url:"https://res.cloudinary.com/reyesrico/image/upload/c_scale,f_auto,w_100/v1",cloudName:"reyesrico",apiKey:"981789986692969",apiSecret:"xxQPfLvWpN_iIlt1RfMZnB3jRw0"},cloudinary_headers:{"cache-control":"no-cache","x-apikey":"981789986692969"},fb:{appId:"1458399831108421"},headers:{"cache-control":"no-cache","x-apikey":"5c932ad1cac6621685acc11e"},server:"https://stuffie-98b2.restdb.io/rest/"}},405:function(e,t){},407:function(e,t){},434:function(e,t){},435:function(e,t){},500:function(e,t,n){},502:function(e,t,n){},503:function(e,t,n){},504:function(e,t,n){},505:function(e,t,n){},506:function(e,t,n){},507:function(e,t,n){},508:function(e,t,n){},606:function(e,t,n){},607:function(e,t,n){},608:function(e,t,n){},609:function(e,t,n){},610:function(e,t,n){},722:function(e,t,n){},723:function(e,t,n){},724:function(e,t,n){},725:function(e,t,n){},727:function(e,t){},728:function(e,t){},729:function(e,t,n){},732:function(e,t,n){},736:function(e,t,n){},737:function(e,t,n){},738:function(e,t,n){},739:function(e,t,n){},740:function(e,t,n){},741:function(e,t,n){},742:function(e,t,n){},743:function(e,t,n){},745:function(e,t,n){},746:function(e,t,n){},749:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(56),s=n.n(c),o=n(58),i=n(317),u=n(6),l=n(7),f=n(9),d=n(8),m=n(2),p=n(19),h=n(26),v=n(15),g=n(139),y=n(324),E=n(325);g.a.use(h.b).init({lng:"en",resources:{en:y,es:E},fallbackLng:"en",debug:!1,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}},(function(e,t){e&&console.info("i18n.language",g.a.language)}));var b=g.a,_=n(59),O=n(13),R=n(326),j=n.n(R);n(370);var S=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"getSize",value:function(){switch(this.props.size){case"sm":return 8;case"md":return 16;case"lg":return 32;case"xl":return 64;default:return 8}}},{key:"render",value:function(){var e=this.props.message,t=this.getSize();return r.a.createElement("div",{className:"stuffie-loading"},r.a.createElement(j.a,{type:"spin",color:"#00f",height:t,width:t}),e&&r.a.createElement("div",{className:"stuffie-loading__message"},e))}}]),n}(a.Component),N=n(327),C=n.n(N);n(371);var D=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.type,a=e.text,c=e.onClick;return c?r.a.createElement("button",{className:"button",type:n||"button",onClick:function(e){return e&&c()},disabled:t},a):r.a.createElement("button",{className:"button",type:n||"button",disabled:t},a)}}]),n}(a.Component);n(372);var P=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.placeholder,a=e.type,c=e.value,s=e.onChange,o=e.disabled,i=e.reference,u=e.min,l=e.max,f=null;return(u||l)&&(f={min:u,max:l}),r.a.createElement("div",{className:"textfield"},null!==c&&!s&&r.a.createElement("input",Object.assign({type:a,name:t,placeholder:n||"",value:c,disabled:o,ref:i},f)),s&&r.a.createElement("input",Object.assign({type:a,name:t,placeholder:n||"",disabled:o,onChange:function(e){return s(e.target.value)},ref:i,value:c},f)))}}]),n}(a.Component),k=n(4),x=n(21),q=n(11),w=n.n(q),T=function(e){return function(t,n){return{meta:n,payload:t,type:e}}},L=function(e,t){return function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return function(n){return e.apply(void 0,[].concat(a)).then((function(e){var r=e.data;return n(t(r,Object(x.a)({},a))),Promise.resolve(r)}))}}},F=function(e,t,n){return function(a){return function(r){return n&&r(n(void 0,a)),e(a).then((function e(n){var c=n.data;return r(t(c,a)),c.next?w.a.get(c.next).then(e):Promise.resolve({data:c})}))}}},U=n(16),A=n(189),I=n.n(A),z=n(135),M=n.n(z),B={encrypt:function(e){return I.a.SHA256(e).toString(I.a.enc.Hex)},digest:function(e){return M.a.createHash("sha256").update(e).digest("hex")},pbkdf2:function(e,t){return new Promise((function(n,a){M.a.pbkdf2(e,t,100,256,"sha256",(function(e,t){return e?a(e):n(t.toString("hex"))}))}))}},H=function(e){return e.length>0?w.a.get(U.a.user.listDetail(e),{headers:k.a.headers}):Promise.resolve({})},G=function(e,t){return w.a.post(U.a.user.requestToBeFriend(),{email_stuffier:e,id_friend:t},{headers:k.a.headers})},W=function(e,t){return w.a.get(U.a.user.friendRequestDetail(e,t),{headers:k.a.headers}).then((function(e){return w.a.delete(U.a.user.deleteFriendRequest(e.data[0]._id),{headers:k.a.headers})}))},K=function(e,t){return w.a.post(U.a.user.friend(),{email_stuffier:e,id_friend:t},{headers:k.a.headers})},V=(T("STUFFIE:LOGIN_USER_FETCHED"),T("STUFFIE:USER_FETCHED")),Y=function(e){return function(t){return function(e){return w.a.get(U.a.user.detail(e),{headers:k.a.headers})}(e).then((function(n){return t(V(n.data[0],e)),Promise.resolve(n)}))}},J=T("STUFFIE:USER_REGISTERED"),$=T("STUFFIE:USER_PICTURE_ADDED");n(500);var Q=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:null,password:null,loginFB:!1},e.onClick=function(){var t=e.props,n=t.fetchUser,a=t.loginUser,r=t.setMessage,c=e.state,s=c.email,o=c.password;s&&o&&a(s,o).then((function(e){return n(e.data[0].email)})).then((function(e){localStorage.setItem("username",e.data[0].email),r("Login successful")})).catch((function(){return r("Error: Couldn't login. Try again.")}))},e.responseFacebook=function(t){var n=e.props,a=n.addUserPicture,r=n.fetchUser,c=n.setMessage;t&&r(t.email).then((function(e){var n=t.picture.data.url;localStorage.setItem("username",e.data[0].email),a(e.data[0],n),c("Login successful")})).catch((function(){return c("Error: Couldn't login. Try again.")}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.state.loginFB;return r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{className:"login__form"},r.a.createElement(P,{type:"email",name:"email",placeholder:"Email",onChange:function(t){return e.setState({email:t})}}),r.a.createElement(P,{type:"password",name:"password",placeholder:"Password",onChange:function(t){return e.setState({password:t})}}),r.a.createElement(D,{onClick:function(){return e.onClick()},text:"Login"})),r.a.createElement("hr",{className:"login__hr"}),r.a.createElement(C.a,{appId:k.a.fb.appId,autoLoad:t,fields:"name,email,picture",scope:"public_profile,user_friends",onClick:function(t){return t&&e.setState({loginFB:!0})},callback:this.responseFacebook}))}}]),n}(a.Component),X={addUserPicture:function(e,t){return function(n){var a=Object(x.a)(Object(x.a)({},e),{},{picture:t});n($(a,a.email))}},loginUser:function(e,t){return function(n){return function(e,t){return B.pbkdf2(t,e).then((function(t){return w.a.get(U.a.user.loginUser(e,t),{headers:k.a.headers})})).catch((function(e){return Promise.reject(e)}))}(e,t).then((function(e){return Promise.resolve(e)}))}},fetchUser:Y},Z=Object(v.b)(null,X)(Object(_.g)(Q)),ee=n(23),te=[{value:"en",label:"English"},{value:"es",label:"Spanish"}];n(502);var ne=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1},e.open=function(){e.setState({isOpen:!0})},e.toggle=function(){e.setState({isOpen:!e.state.isOpen})},e}return Object(l.a)(n,[{key:"handleClickOutside",value:function(){this.setState({isOpen:!1})}},{key:"render",value:function(){var e=this.state.isOpen?"dropdown--is-open":"";return r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{className:"dropdown__label",onClick:this.toggle},this.props.label(this.state.isOpen)),r.a.createElement("div",{className:"dropdown__content-container"},r.a.createElement("div",{className:"dropdown__content ".concat(e)},this.props.children)))}}]),n}(a.Component);n(503);var ae=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={lang:te[0]},e.changeLang=function(t){var n=e.props.i18n;e.setState({lang:t}),n.changeLanguage(t.value)},e.renderCurrentLanguage=function(t){var n=e.props.t;return r.a.createElement("div",{className:t?"apps__language-open":"apps__language"},n("Language"))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"apps"},r.a.createElement("div",{className:"apps__title"},"Apps & extras"),r.a.createElement("div",{className:"apps__item"},r.a.createElement(p.b,{to:"/tickets"},"Tickets")),r.a.createElement("div",{className:"apps__item"},r.a.createElement(p.b,{to:"/support"},"Support")),r.a.createElement("div",{className:"apps__item"},r.a.createElement(p.b,{to:"/charts"},"Charts")),r.a.createElement("div",{className:"apps__item"},r.a.createElement(p.b,{to:"/spotify"},"Spotify")),r.a.createElement("div",{className:"apps__item"},r.a.createElement(p.b,{to:"/test"},"Test")),r.a.createElement("div",{className:"apps__item"},r.a.createElement("a",{href:"https://reyesrico.github.io/CovidCharts"},"Covid Charts")),r.a.createElement("div",{className:"apps__item"},r.a.createElement(p.b,{to:"/test2"},"Test2")),r.a.createElement("hr",null),r.a.createElement("div",{className:"apps__item"},r.a.createElement(ne,{label:function(t){return e.renderCurrentLanguage(t)}},te.map((function(t){return r.a.createElement("div",{key:t.value,className:"apps__option",onClick:function(){return e.changeLang(t)}},t.label)})))))}}]),n}(a.Component),re=Object(v.b)((function(e){return{user:e.user}}),{})(Object(h.c)()(Object(_.g)(ae)));n(504);var ce=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={messageList:[]},e}return Object(l.a)(n,[{key:"onMessageWasSent",value:function(e){this.setState({messageList:[].concat(Object(ee.a)(this.state.messageList),[e])})}},{key:"sendMessage",value:function(e){e.length>0&&this.setState({messageList:[].concat(Object(ee.a)(this.state.messageList),[{author:"them",type:"text",data:{text:e}}])})}},{key:"render",value:function(){return r.a.createElement("div",{className:"chat"},"Get new Chat-Window")}}]),n}(a.Component),se=function(e){return w.a.get(U.a.stuff.listForStuffier(e),{headers:k.a.headers})},oe=function(e){return e.length?w.a.get(U.a.stuff.listDetail(e),{headers:k.a.headers}):Promise.resolve([])},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return w.a.get(U.a.category.list(),{headers:k.a.headers,cancelToken:e})},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return w.a.get(U.a.subcategory.list(),{headers:k.a.headers,cancelToken:e})},le=function(e,t){return w.a.post(U.a.stuff.addStuffiersStuff(),{id_stuffier:e,id_stuff:t},{headers:k.a.headers})},fe=function(e,t,n){var a=[],r=e.toLowerCase();return Promise.all([ie(n),ue(n)]).then((function(e){return e[0].data.forEach((function(e){e.name.toLowerCase().includes(r)&&a.push({type:"Category",name:e.name,id:e.id})})),e[1].data.forEach((function(e){e.name.toLowerCase().includes(r)&&a.push({type:"Subcategory",name:e.name,id:e.id})})),Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.name.toLowerCase().includes(r)&&a.push({type:"Product",name:e.name,id:e.id})}))})),Promise.resolve(a)}))},de=function(e,t){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))},me=T("MENU::CATEGORIES_FETCHED"),pe=F(ie,me),he=(F((function(e){return w.a.get(U.a.category.detail(e),{headers:k.a.headers})}),T("MENU::CATEGORY_FETCHED")),F((function(e){var t=e.id,n=e.name;return w.a.post(U.a.category.add(),{id:t,name:n},{headers:k.a.headers})}),T("MENU:CATEGORY_ADDED"))),ve=T("MENU::SUBCATEGORIES_FETCHED"),ge=F(ue,ve),ye=(F((function(e){return w.a.get(U.a.subcategory.detail(e),{headers:k.a.headers})}),T("MENU::SUBCATEGORY_FETCHED")),F((function(e){var t=e.id,n=e.name;return w.a.post(U.a.subcategory.add(),{id:t,name:n},{headers:k.a.headers})}),T("MENU:SUBCATEGORY_ADDED")));n(505);var Ee="category",be="subcategory",_e=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={isLoading:!1,id:"",name:"",categories:[],subcategories:[],tempObjects:null},e.createValue=function(){var t=e.props,n=t.addCategory,a=t.addSubCategory,r=t.type,c=e.state,s=c.categories,o=c.subcategories;r===Ee&&(e.setState({isLoading:!0}),n({name:e.state.name,id:Number(e.state.id)}).then((function(t){var n={_id:t.data._id,id:t.data.id,name:t.data.name};e.setState({categories:[].concat(Object(ee.a)(s),[n]),name:"",id:""})})).finally((function(){e.setState({isLoading:!1})}))),r===be&&(e.setState({isLoading:!0}),a({name:e.state.name,id:Number(e.state.id)}).then((function(t){var n={_id:t.data._id,id:t.data.id,name:t.data.name};e.setState({subcategories:[].concat(Object(ee.a)(o),[n]),name:"",id:""})})).finally((function(){e.setState({isLoading:!1})})))},e.renderValues=function(t){var n=e.props,a=n.categories,c=n.subcategories,s=t===Ee?a:c;return Object(O.map)(s,(function(e){return r.a.createElement("li",{className:"add-category__item",key:"".concat(t,"_").concat(e.id)},r.a.createElement("span",{className:"add-category__id"},"(",e.id,")")," - ",e.name)}))},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.type;"subcategory"===e.type&&"category"===t&&this.setState({label:"Category"}),"category"===e.type&&"subcategory"===t&&this.setState({label:"SubCategory"})}},{key:"render",value:function(){var e=this,t=this.props.type;if(this.state.isLoading)return r.a.createElement(S,{size:"md"});var n=t===Ee?"Category":"SubCategory",a=t!==Ee?"Category":"SubCategory",c=t===Ee?be:Ee;return r.a.createElement("div",{className:"add-category"},r.a.createElement("form",null,r.a.createElement("div",{className:"add-category__values"},r.a.createElement("div",null,r.a.createElement("h2",null,n),r.a.createElement("ul",{className:"add-category__list"},this.renderValues(t))),r.a.createElement("div",null,r.a.createElement("h2",null,a),r.a.createElement("ul",{className:"add-category__list"},this.renderValues(c)))),r.a.createElement("hr",null),r.a.createElement("div",{className:"add-category__row"},r.a.createElement("label",null,"Id"),r.a.createElement(P,{name:"id",type:"text",onChange:function(t){return e.setState({id:t})}})),r.a.createElement("div",{className:"add-category__row"},r.a.createElement("label",null,n),r.a.createElement(P,{name:"name",type:"text",onChange:function(t){return e.setState({name:t})}})),r.a.createElement("hr",null),r.a.createElement(D,{onClick:function(){return e.createValue()},text:"Send"})))}}]),n}(a.Component),Oe={addCategory:he,addSubCategory:ye},Re=Object(v.b)((function(e){return{user:e.user,categories:e.categories,subcategories:e.subcategories}}),Oe)(_e);var je=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={valueSelected:null},e.updateChange=function(t){var n=e.props,a=n.onChange,r=n.values,c=Number(t.target.value),s=Object(O.find)(r,(function(e){return e.id===c}));e.setState({valueSelected:c}),a(s)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.values,t=this.state.valueSelected,n=e&&e[0]?e[0].id:null,a=t||n;return r.a.createElement("select",{onChange:this.updateChange,value:a},e&&e.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})))}}]),n}(a.Component);n(506);var Se,Ne=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.type;return t?r.a.createElement("div",{className:"warning-message warning-message__".concat(n)},t):r.a.createElement("div",null)}}]),n}(a.Component);!function(e){e.ERROR="error",e.SUCCESSFUL="successful",e.WARNING="warning",e.EMPTY=""}(Se||(Se={}));var Ce=n(42);function De(e){return Object(O.map)(e,(function(e){return{id:e.id_stuff}}))}function Pe(e){return!Object.values(e).filter((function(e){return e.length>0})).length}function ke(e){return Object.values(e).filter((function(e){return e.length>0})).flat()}function xe(e,t){return ke(t).find((function(t){return t.id===e}))||{}}var qe=T("MENU::PRODUCT_FETCHED"),we=T("MENU::PRODUCTS_FETCHED"),Te=T("PRODUCTS::PRODUCT_UPDATED"),Le=T("PRODUCTS::PRODUCT_ADDED"),Fe=F((function(e){return w.a.get(U.a.stuff.detail(e),{headers:k.a.headers})}),qe),Ue=L((function(e,t,n){return se(e).then((function(e){var a=e.data.find((function(e){return e.id_stuff===t}));return a?w.a.put(U.a.stuff.updateStuff(a._id),Object(x.a)(Object(x.a)({},a),{},{cost:n}),{headers:k.a.headers}):Promise.resolve([])}))}),Te);n(507);var Ae=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={status:Se.EMPTY,name:null,file_name:null,category:e.props.categories[0],product:{id:null,name:null},subcategory:e.props.subcategories[0],stuffStuffier:{},productsByCategories:[]},e.createProduct=function(){var t=e.props,n=t.addProduct,a=t.user,r=e.state,c=r.name,s=r.category,o=r.subcategory;c&&s&&o&&n({name:c,category:s.id,subcategory:o.id},a).then((function(t){e.setState({product:t,stuffStuffier:t,status:Se.SUCCESSFUL})})).catch((function(){var t={name:c,category:s.id,subcategory:o.id};e.setState({product:t,stuffStuffier:t,status:Se.ERROR})}))},e.clearState=function(){e.setState({status:Se.EMPTY,name:null,file_name:null,category:e.props.categories[0],subcategory:e.props.subcategories[0],product:{},stuffStuffier:{}})},e.getMessage=function(){var t=e.state,n=t.stuffStuffier,a=t.status,r=t.product,c=a===Se.ERROR?"was not added":"was added successfully!";return r&&!Object(O.isEmpty)(n)?"Stuff ".concat(r.name," ").concat(c):""},e.updateCategory=function(t){e.renderProducts(t,e.state.subcategory),e.setState({category:t})},e.updateSubcategory=function(t){e.renderProducts(e.state.category,t),e.setState({subcategory:t})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.renderProducts(this.state.category,this.state.subcategory)}},{key:"setProduct",value:function(){var e=this,t=this.props,n=t.addRegisteredProduct,a=t.history;n(t.user,this.state.product).then((function(t){e.setState({stuffStuffier:t,status:Se.SUCCESSFUL}),a.push("/products")}))}},{key:"renderProducts",value:function(e,t){var n=this,a=this.props.products;(function(e,t){return w.a.get(U.a.stuff.detailFromCategories(e,t),{headers:k.a.headers})})(e.id,t.id).then((function(e){var t=e.data[0],r=e.data.filter((function(e){return e.id&&!function(e,t){for(var n=Object.values(t),a=null,r=0;r<n.length&&!(a=n[r].find((function(t){return t.id===e})));r++);return a}(e.id,a)}));n.setState({productsByCategories:r,product:t})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.categories,a=t.subcategories,c=this.state,s=c.product,o=c.productsByCategories,i=c.category,u=c.status,l=c.subcategory;return r.a.createElement("div",{className:"add-product"},r.a.createElement("h3",null,"Add Stuff"),r.a.createElement(Ne,{message:this.getMessage(),type:u}),r.a.createElement("hr",null),r.a.createElement("form",null,r.a.createElement("div",null,"Select Product"),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"Category"),r.a.createElement(je,{onChange:function(t){return e.updateCategory(t)},values:n})),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"SubCategory"),r.a.createElement(je,{onChange:function(t){return e.updateSubcategory(t)},values:a})),!o.length&&r.a.createElement("div",null,"There are no products"),o.length>0&&r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"Product"),r.a.createElement(je,{onChange:function(t){return e.setState({product:t})},values:o})),r.a.createElement("hr",null),r.a.createElement(D,{text:"Add Product",disabled:!(i&&l&&s&&s.name),onClick:function(){return e.setProduct()}}),r.a.createElement("hr",null),r.a.createElement("div",null,"Create New Product"),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"Name"),r.a.createElement(P,{name:"name",type:"text",onChange:function(t){return e.setState({name:t})}})),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"Category"),r.a.createElement(je,{onChange:function(t){return e.setState({category:t})},values:n})),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"SubCategory"),r.a.createElement(je,{onChange:function(t){return e.setState({subcategory:t})},values:a})),r.a.createElement("hr",null),r.a.createElement(D,{onClick:function(){return e.createProduct()},text:"Send"})))}}]),n}(a.Component),Ie={addProduct:function(e,t){return function(n){return function(e){var t=e.name,n=e.category,a=e.subcategory,r=e.fileName;return w.a.post(U.a.stuff.addStuff(),{name:t,category:n,subcategory:a,file_name:r},{headers:k.a.headers})}(e).then((function(e){var n=e.data;return le(t.id,n.id)})).then((function(){return n(Le(e,t.email)),Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},addRegisteredProduct:function(e,t){return function(n){return le(e.id,t.id).then((function(){return n(Le(t,e.email)),Promise.resolve(t)})).catch((function(e){return Promise.reject(e)}))}}},ze=Object(v.b)((function(e){return{user:e.user,categories:e.categories,subcategories:e.subcategories,products:e.products}}),Ie)(Object(_.g)(Ae)),Me=L((function(){return w.a.get(U.a.user.userRequests(),{headers:k.a.headers})}),T("STUFFIE:USER_REQUESTS_FETCHED")),Be=L((function(e){return w.a.put(U.a.user.deleteUserRequest(e._id),Object(x.a)(Object(x.a)({},e),{},{request:!1}),{headers:k.a.headers})}),T("STUFFIE::USER_REQUEST_DELETED"));n(508);var He=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).executeRequest=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.props.deleteRequest;n&&a(t).then((function(){return alert("Request Accepted and Deleted")}))},e.renderRequests=function(){var t=e.props.userRequests;return r.a.createElement("div",{className:"admin__requests"},r.a.createElement("hr",null),r.a.createElement("h3",{className:"admin__title"},r.a.createElement("div",null,"User Requests"),r.a.createElement("div",{className:"admin__warning"},t.length)),r.a.createElement("ul",null,t.map((function(t,n){return r.a.createElement("li",{className:"admin__request",key:n},r.a.createElement("div",{className:"admin__request-text"},t.first_name," ",t.last_name," (",t.email,")"),r.a.createElement("div",{className:"admin__request-button"},r.a.createElement(D,{onClick:function(){return e.executeRequest(t,!0)},text:"Accept"})))}))))},e.renderPendingProducts=function(){var t=e.props.pendingProducts;return console.log(t),r.a.createElement("div",{className:"admin__requests"},r.a.createElement("hr",null),r.a.createElement("h3",{className:"admin__title"},r.a.createElement("div",null,"Products Pending of Pics"),r.a.createElement("div",{className:"admin__warning"},t.length)),r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.id,className:"admin__request"},r.a.createElement("div",null,"Product: ",e.name),r.a.createElement("div",null,"Id: ",e.id," / Category: ",e.category," / Subcategory: ",e.subcategory))}))))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.pendingProducts,n=e.userRequests;return r.a.createElement("div",{className:"admin"},t.length>0&&this.renderPendingProducts(),n.length>0&&this.renderRequests(),r.a.createElement("div",{className:"admin__link"},r.a.createElement(p.b,{to:"/category/add"},"Add Category")),r.a.createElement("hr",null),r.a.createElement("div",{className:"admin__link"},r.a.createElement(p.b,{to:"/subcategory/add"},"Add SubCategory")),r.a.createElement("hr",null))}}]),n}(a.Component),Ge={deleteRequest:Be},We=Object(v.b)((function(e){return{userRequests:e.userRequests,pendingProducts:e.pendingProducts}}),Ge)(He),Ke=n(101),Ve=function(e){return w.a.get("".concat(k.a.cloudinary.url,"/").concat(e))};n(606);var Ye=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={imageUrl:"default_product"},e.setUrl=function(){var t=e.props,n=t.fileName,a=t.category,r=t.subcategory;if(t.isProduct&&a&&r){var c="products/".concat(a,"/").concat(r,"/").concat(n);Ve(c).then((function(){return e.setState({imageUrl:c})})).catch((function(){return e.setState({imageUrl:"default_product"})}))}else e.setState({imageUrl:n})},e.renderImage=function(){var t=e.props,n=t.format,a=t.width,c=e.state.imageUrl,s="default_product"===c?"png":n;return r.a.createElement("div",{className:"media__image"},r.a.createElement(Ke.Image,{publicId:c,format:s},r.a.createElement(Ke.Transformation,{width:a,fetchFormat:"auto",crop:"scale"})))},e.renderVideo=function(){var t=e.props,n=t.fileName,a=t.format;return r.a.createElement(Ke.Video,{publicId:n,format:a})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){"mp4"!==this.props.format&&this.setUrl()}},{key:"componentDidUpdate",value:function(e){e.fileName!==this.props.fileName&&"mp4"!==this.props.format&&this.setUrl()}},{key:"render",value:function(){var e="mp4"===this.props.format;return r.a.createElement(Ke.CloudinaryContext,{cloudName:k.a.cloudinary.cloudName},e&&this.renderVideo(),!e&&this.renderImage())}}]),n}(a.Component);n(607);var Je=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={id:null,cost:0,message:"",type:Se.EMPTY},e.updateCost=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.props,a=n.product,r=n.user,c=n.updateProduct,s=e.state.cost,o=t?0:s;c(r.id,null===a||void 0===a?void 0:a.id,o).then((function(){return e.setState({message:"Cost updated successfully",type:Se.SUCCESSFUL})})).catch((function(){return e.setState({message:"Cost not updated",type:Se.ERROR})}))},e.renderCost=function(){var t=e.props,n=t.product,a=t.hideOfferButton,c=e.state.cost;return(null===n||void 0===n?void 0:n.cost)?r.a.createElement("div",{className:"product__cost"},r.a.createElement("div",{className:"product__cost-value"},"Cost $",null===n||void 0===n?void 0:n.cost),!a&&r.a.createElement("div",{className:"product__cost-button"},r.a.createElement(D,{text:"Stop Offer",onClick:function(){return e.updateCost(!0)}}))):r.a.createElement("div",{className:"product__cost"},r.a.createElement("div",{className:"product__cost-text"},"Want to sell it? Just set a cost! (MAX $100)"),r.a.createElement("div",{className:"product__cost-elements"},"$",r.a.createElement(P,{type:"number",name:"costTF",value:c.toString(),min:0,max:100,onChange:function(t){return e.setState({cost:t})}}),r.a.createElement(D,{text:"Sell",onClick:e.updateCost})))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.categories,n=e.product,a=e.subcategories,c=e.showCost,s=this.state,o=s.message,i=s.type;if(!n)return r.a.createElement(S,{size:"lg",message:"Loading product..."});var u=Object(O.find)(t,(function(e){return e.id===n.category})),l=Object(O.find)(a,(function(e){return e.id===n.subcategory}));return r.a.createElement("div",{className:"product"},r.a.createElement(Ne,{message:o,type:i}),r.a.createElement("h3",null,n.name),r.a.createElement("hr",null),r.a.createElement(Ye,{fileName:n.id,category:n.category,subcategory:n.subcategory,isProduct:"true",height:"200",width:"100"}),r.a.createElement("hr",null),r.a.createElement("div",null,"Category: ",u&&u.name),r.a.createElement("div",null,"Subcategory: ",l&&l.name),c&&this.renderCost())}}]),n}(a.Component),$e={updateProduct:Ue},Qe=Object(v.b)((function(e){return{categories:e.categories,products:e.products,subcategories:e.subcategories,user:e.user}}),$e)(Je);n(608);var Xe=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={friend:{first_name:""},message:"",type:Se.EMPTY},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.history,a=t.location,r=a.product;this._isMounted=!0,this._isMounted&&(r&&void 0!==r||n.push("/"),H([{id:a.friend}]).then((function(t){return e.setState({friend:t.data[0]})})))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.location,t=this.state,n=t.friend,a=t.message,c=t.type,s=e.product;if(!s)return r.a.createElement(_.a,{to:"/"});var o={params:{id:s.id}};return r.a.createElement("div",{className:"buy"},r.a.createElement(Ne,{message:a,type:c}),r.a.createElement("div",{className:"buy__product"},r.a.createElement("h2",null,null===n||void 0===n?void 0:n.first_name," Product"),r.a.createElement("hr",null),r.a.createElement(Qe,{match:o,key:s.id,product:s,showCost:!0,hideOfferButton:!0})),r.a.createElement(D,{type:"submit",onClick:function(){return console.log("submit")},text:"Request Buy"}))}}]),n}(a.Component),Ze=Object(_.g)(Xe);var et=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.subcategories,a=t.location,c=t.products,s=t.match.params.id,o=a.category||a.subcategory||"",i=s.length>=5?parseInt(s[0]):parseInt(s);s.length>=5&&(i=parseInt(s[0]),o=null===(e=n.find((function(e){return e.id===parseInt(s)})))||void 0===e?void 0:e.name);var u=c[i];return r.a.createElement("div",{className:"category-page"},r.a.createElement("h3",null,o),r.a.createElement("hr",null),!u.length&&r.a.createElement("div",null,"No products"),r.a.createElement("ul",null,Object(O.map)(u,(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(p.b,{to:"/product/".concat(e.id)},e.name))}))))}}]),n}(a.Component),tt=Object(v.b)((function(e){return{products:e.products,categories:e.categories,subcategories:e.subcategories}}),{})(et);n(609);var nt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getProductType=function(){var t=e.props,n=t.feedPost,a=t.subcategories.find((function(e){return e.id===n.product.subcategory}));return a?a.name:null},e}return Object(l.a)(n,[{key:"renderMessage",value:function(){var e=this.props.feedPost;return r.a.createElement("div",{className:"feed-row__description"},r.a.createElement("span",{className:"feed-row__name"},e.friend_firstName," ",e.friend_lastName," ")," added ",r.a.createElement("b",null,e.product.name)," in ",this.getProductType())}},{key:"render",value:function(){var e=this.props.feedPost,t={pathname:"/exchange",product:e.product,friend:e.friend_id},n={pathname:"/loan",product:e.product,friend:e.friend_id},a={pathname:"/buy",product:e.product,friend:e.friend_id};return r.a.createElement("div",{className:"feed-row"},this.renderMessage(),r.a.createElement("div",{className:"feed-row__image"},r.a.createElement(Ye,{fileName:e.product.id,category:e.product.category,subcategory:e.product.subcategory,format:"jpg",height:"100",width:"100",isProduct:"true"})),r.a.createElement("div",{className:"feed-row__actions"},r.a.createElement("div",{className:"feed-row__action feed-row__text"},"Ask for:"),r.a.createElement("div",{className:"feed-row__action feed-row__link"},r.a.createElement(p.b,{to:n},"Borrow")),r.a.createElement("div",{className:"feed-row__action feed-row__link"},r.a.createElement(p.b,{to:t},"Trade")),e.product.cost&&r.a.createElement("div",{className:"feed-row__action feed-row__link"},r.a.createElement(p.b,{to:a},"Buy"))))}}]),n}(a.Component),at={fetchProduct:Fe},rt=Object(v.b)((function(e){return{subcategories:e.subcategories}}),at)(nt);var ct=T("USER::FRIENDS_FETCHED"),st=T("FRIENDS::PRODUCTS_FETCHED"),ot=T("FEED::FETCHED");n(610);var it=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={isLoading:!1,feed:[]},e.getFeed=function(){var t=e.props,n=t.fetchFriendsProducts,a=t.fetchFeed;n(t.friends).then((function(e){return a(e)})).catch((function(){return console.log("Error Feed Fetched")})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.feed;this._isMounted=!0,e.length||this.setState({isLoading:!0}),this.getFeed()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.feed,n=e.friends,a=e.t;return this.state.isLoading?r.a.createElement("div",{className:"content__loading"},r.a.createElement(S,{size:"xl",message:a("Loading-Feed")})):n.length&&t.length?r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"content__info"},r.a.createElement("div",{className:"content__rows"},Object(O.map)(t,(function(e,t){return r.a.createElement(rt,{key:t,feedPost:e})}))))):r.a.createElement("div",null,"No Friends! Add friends!")}}]),n}(a.Component),ut={fetchFriendsProducts:function(e){return function(t){var n=[];return function(e){if(e.length>0){var t=Object(O.map)(e,(function(e){return{id_stuffier:e.id}}));return w.a.get(U.a.stuff.listStuffiers(t),{headers:k.a.headers})}return Promise.resolve([])}(e).then((function(e){return n=e.data,oe(De(e.data))})).then((function(a){var r=a.data,c=function(e,t,n){var a=[];return Object(O.forEach)(e,(function(e){var r=n.filter((function(t){return t.id_stuffier===e.id})).map((function(e){var n=Object(O.find)(t,(function(t){return t.id===e.id_stuff}));return void 0!==e.cost?Object(x.a)(Object(x.a)({},n),{},{cost:e.cost}):n||{}}));a.push(Object(x.a)(Object(x.a)({},e),{},{products:r}))})),a}(e,r,n);return t(st(c)),Promise.resolve(c)}))}},fetchFeed:function(e){return function(t){var n=function(e){var t=[];return e.forEach((function(e){e.products&&e.products.forEach((function(n){t.push({friend_id:e.id,friend_firstName:e.first_name||"",friend_lastName:e.last_name||"",product:n,date:n._created})}))})),Object(O.sortBy)(t,"date")}(e);return t(ot(n)),n}}},lt=Object(v.b)((function(e){return{user:e.user,friends:e.friends,subcategories:e.subcategories,feed:e.feed}}),ut)(Object(h.c)()(it)),ft=n(14),dt=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}],mt=[{name:"axis",children:[{name:"Axes",size:1302},{name:"Axis",size:24593},{name:"AxisGridLine",size:652},{name:"AxisLabel",size:636},{name:"CartesianAxes",size:6703}]},{name:"controls",children:[{name:"AnchorControl",size:2138},{name:"ClickControl",size:3824},{name:"Control",size:1353},{name:"ControlList",size:4665},{name:"DragControl",size:2649},{name:"ExpandControl",size:2832},{name:"HoverControl",size:4896},{name:"IControl",size:763},{name:"PanZoomControl",size:5222},{name:"SelectionControl",size:7862},{name:"TooltipControl",size:8435}]},{name:"data",children:[{name:"Data",size:20544},{name:"DataList",size:19788},{name:"DataSprite",size:10349},{name:"EdgeSprite",size:3301},{name:"NodeSprite",size:19382},{name:"render",children:[{name:"ArrowType",size:698},{name:"EdgeRenderer",size:5569},{name:"IRenderer",size:353},{name:"ShapeRenderer",size:2247}]},{name:"ScaleBinding",size:11275},{name:"Tree",size:7147},{name:"TreeBuilder",size:9930}]},{name:"events",children:[{name:"DataEvent",size:7313},{name:"SelectionEvent",size:6880},{name:"TooltipEvent",size:3701},{name:"VisualizationEvent",size:2117}]},{name:"legend",children:[{name:"Legend",size:20859},{name:"LegendItem",size:4614},{name:"LegendRange",size:10530}]},{name:"operator",children:[{name:"distortion",children:[{name:"BifocalDistortion",size:4461},{name:"Distortion",size:6314},{name:"FisheyeDistortion",size:3444}]},{name:"encoder",children:[{name:"ColorEncoder",size:3179},{name:"Encoder",size:4060},{name:"PropertyEncoder",size:4138},{name:"ShapeEncoder",size:1690},{name:"SizeEncoder",size:1830}]},{name:"filter",children:[{name:"FisheyeTreeFilter",size:5219},{name:"GraphDistanceFilter",size:3165},{name:"VisibilityFilter",size:3509}]},{name:"IOperator",size:1286},{name:"label",children:[{name:"Labeler",size:9956},{name:"RadialLabeler",size:3899},{name:"StackedAreaLabeler",size:3202}]},{name:"layout",children:[{name:"AxisLayout",size:6725},{name:"BundledEdgeRouter",size:3727},{name:"CircleLayout",size:9317},{name:"CirclePackingLayout",size:12003},{name:"DendrogramLayout",size:4853},{name:"ForceDirectedLayout",size:8411},{name:"IcicleTreeLayout",size:4864},{name:"IndentedTreeLayout",size:3174},{name:"Layout",size:7881},{name:"NodeLinkTreeLayout",size:12870},{name:"PieLayout",size:2728},{name:"RadialTreeLayout",size:12348},{name:"RandomLayout",size:870},{name:"StackedAreaLayout",size:9121},{name:"TreeMapLayout",size:9191}]},{name:"Operator",size:2490},{name:"OperatorList",size:5248},{name:"OperatorSequence",size:4190},{name:"OperatorSwitch",size:2581},{name:"SortOperator",size:2023}]}],pt=[{name:"Group A",value:400},{name:"Group B",value:300},{name:"Group C",value:300},{name:"Group D",value:200}],ht=[{name:"A1",value:100},{name:"A2",value:300},{name:"B1",value:100},{name:"B2",value:80},{name:"B3",value:40},{name:"B4",value:30},{name:"B5",value:50},{name:"C1",value:100},{name:"C2",value:200},{name:"D1",value:150},{name:"D2",value:50}],vt=[{name:"18-24",uv:31.47,pv:2400,fill:"#8884d8"},{name:"25-29",uv:26.69,pv:4567,fill:"#83a6ed"},{name:"30-34",uv:15.69,pv:1398,fill:"#8dd1e1"},{name:"35-39",uv:8.22,pv:9800,fill:"#82ca9d"},{name:"40-49",uv:8.63,pv:3908,fill:"#a4de6c"},{name:"50+",uv:2.63,pv:4800,fill:"#d0ed57"},{name:"unknow",uv:6.67,pv:4800,fill:"#ffc658"}];var gt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={barChartData:[],treemapChartData:[],pieChartData01:[],pieChartData02:[],radialChartData:[]},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ft.d,{width:600,height:300,data:dt,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(ft.q,{dataKey:"name"}),r.a.createElement(ft.r,null),r.a.createElement(ft.e,{strokeDasharray:"3 3"}),r.a.createElement(ft.o,null),r.a.createElement(ft.f,null),r.a.createElement(ft.c,{dataKey:"pv",fill:"#8884d8"}),r.a.createElement(ft.c,{dataKey:"uv",fill:"#82ca9d"})),r.a.createElement(ft.h,{width:600,height:300,data:dt},r.a.createElement(ft.q,{dataKey:"name",padding:{left:30,right:30}}),r.a.createElement(ft.r,null),r.a.createElement(ft.e,{strokeDasharray:"3 3"}),r.a.createElement(ft.o,null),r.a.createElement(ft.f,null),r.a.createElement(ft.g,{type:"monotone",dataKey:"pv",stroke:"#8884d8",activeDot:{r:8}}),r.a.createElement(ft.g,{type:"monotone",dataKey:"uv",stroke:"#82ca9d"})),r.a.createElement(ft.b,{width:730,height:250,data:dt,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})),r.a.createElement("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0}))),r.a.createElement(ft.q,{dataKey:"name"}),r.a.createElement(ft.r,null),r.a.createElement(ft.e,{strokeDasharray:"3 3"}),r.a.createElement(ft.o,null),r.a.createElement(ft.a,{type:"monotone",dataKey:"uv",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"}),r.a.createElement(ft.a,{type:"monotone",dataKey:"pv",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorPv)"})),r.a.createElement(ft.p,{width:730,height:250,data:mt,dataKey:"size",aspectRatio:4/3,stroke:"#fff",fill:"#8884d8"}),r.a.createElement(ft.j,{width:800,height:400},r.a.createElement(ft.i,{dataKey:"value",data:pt,cx:200,cy:200,outerRadius:60,fill:"#8884d8"}),r.a.createElement(ft.i,{dataKey:"value",data:ht,cx:200,cy:200,innerRadius:70,outerRadius:90,fill:"#82ca9d",label:!0})),r.a.createElement(ft.n,{width:730,height:250,margin:{top:20,right:20,bottom:10,left:10}},r.a.createElement(ft.e,{strokeDasharray:"3 3"}),r.a.createElement(ft.q,{dataKey:"value",name:"stature",unit:"cm"}),r.a.createElement(ft.r,{dataKey:"value",name:"weight",unit:"cm"}),r.a.createElement(ft.o,{cursor:{strokeDasharray:"3 3"}}),r.a.createElement(ft.f,null),r.a.createElement(ft.m,{name:"Data01",data:pt,fill:"#8884d8"}),r.a.createElement(ft.m,{name:"Data02",data:ht,fill:"#82ca9d"})),r.a.createElement(ft.l,{width:730,height:250,innerRadius:"10%",outerRadius:"80%",data:vt,startAngle:180,endAngle:0},r.a.createElement(ft.k,{angleAxisId:15,label:{fill:"#666",position:"insideStart"},background:!0,dataKey:"uv"}),r.a.createElement(ft.f,{iconSize:10,width:120,height:140,layout:"vertical",verticalAlign:"middle",align:"right"}),r.a.createElement(ft.o,null)))}}]),n}(a.Component),yt=n(134);n(722);var Et=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).source=null,e.node=null,e.state={isLoading:!1,isOpen:!1,searchText:"",results:[]},e.handleClickOutside=function(t){var n=s.a.findDOMNode(Object(yt.a)(e));n&&n.contains(t.target)||e.setState({searchText:"",isOpen:!1})},e.fetchResults=function(t){var n=e.props,a=n.products,r=n.selectProduct;e.source&&e.source.cancel("Cancel pending requests."),e.source=w.a.CancelToken.source(),e.setState({searchText:t,isOpen:!0,isLoading:!0}),t?r?e.setState({results:de(t,a),isOpen:!0,isLoading:!1}):fe(t,a,e.source.token).then((function(t){t.length?e.setState({results:t,isOpen:!0,isLoading:!1}):e.setState({isOpen:!1,isLoading:!1})})):e.setState({isOpen:!1,isLoading:!1})},e.getLinkTo=function(e){return Object(Ce.a)({pathname:"/".concat(e.type.toLowerCase(),"/").concat(e.id)},e.type.toLowerCase(),e.name)},e.renderResultName=function(e){var t=e.type?e.type[0]:"P";return r.a.createElement("div",{className:"search__result-info"},r.a.createElement("div",{className:"search__result-name"},e.name),r.a.createElement("div",{className:"search__result-type search__result-".concat(t)},"| ",t))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!0)}},{key:"renderResults",value:function(){var e=this,t=this.state.results,n=this.props.selectProduct;if(t.length)return r.a.createElement("div",{className:"search__results"},t.map((function(t,a){return r.a.createElement("div",{className:"search__result",key:a},!n&&r.a.createElement(p.b,{key:a,className:"search__result-link",to:e.getLinkTo(t)},e.renderResultName(t)),n&&r.a.createElement("button",{key:a,onClick:function(e){return e&&n(t)}},e.renderResultName(t)))})))}},{key:"render",value:function(){var e=this,t=this.state.isLoading,n=this.state.isOpen?"dropdown--is-open":"";return r.a.createElement("div",{className:"search-bar",ref:function(t){return e.node=t}},r.a.createElement("div",{className:"search-bar__form"},r.a.createElement(P,{name:"search",type:"input",placeholder:"Find stuff...",onChange:function(t){return e.fetchResults(t)},value:this.state.searchText}),r.a.createElement("div",{className:"search-bar__button"},r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement("div",{className:"search-bar__content-container"},r.a.createElement("div",{className:"search-bar__content ".concat(n)},t&&r.a.createElement(S,{size:"md"}),!t&&this.renderResults())))}}]),n}(a.Component),bt=T("EXCHANGE::REQUESTED"),_t=T("EXCHANGES::FETCHED"),Ot=T("EXCHANGE::DELETED");n(723);var Rt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={userProducts:[],selectedProduct:{},message:"",friend:{first_name:""},type:Se.EMPTY},e.requestExchange=function(){var t=e.props,n=t.exchangeRequest,a=t.history,r=t.location,c=t.user,s=e.state.selectedProduct,o=r.friend;console.log("This is to execute request exchange"),n(o,r.product.id,c.id,Object(O.get)(s,"id")).then((function(){return e.setState({message:"Exchange request successfully",type:Se.SUCCESSFUL})})).catch((function(){return e.setState({message:"Exchange request failed",type:Se.SUCCESSFUL})})).finally((function(){return a.push("/")}))},e.selectProduct=function(t){e.setState({selectedProduct:t})},e.renderProduct=function(t){var n=e.props,a=n.categories,c=n.subcategories,s=a.filter((function(e){return e.id===t.category}))[0],o=c.filter((function(e){return e.id===t.subcategory}))[0];return r.a.createElement("div",{className:"exchange__product"},r.a.createElement(Ye,{fileName:t.id,category:t.category,subcategory:t.subcategory,format:"jpg",height:"100",width:"100",isProduct:"true"}),r.a.createElement("div",{className:"exchange__product-info"},r.a.createElement("div",null,t.name),r.a.createElement("div",null,s.name),r.a.createElement("div",null,o.name)))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.history,a=t.location,r=t.products,c=a.product;c&&void 0!==c||n.push("/");var s=ke(r).filter((function(e){return e.category===c.category||e.subcategory===c.subcategory}));this.setState({userProducts:s}),H([{id:a.friend}]).then((function(t){return e.setState({friend:t.data[0]})}))}},{key:"render",value:function(){var e=this,t=this.props.location,n=this.state,a=n.friend,c=n.selectedProduct,s=n.userProducts,o=n.message,i=n.type,u=t.product;return s.length?u?r.a.createElement("div",{className:"exchange"},r.a.createElement(Ne,{message:o,type:i}),r.a.createElement("div",{className:"exchange__header"},r.a.createElement(Et,{products:s,selectProduct:function(t){return e.selectProduct(t)}})),!Object(O.isEmpty)(c)&&r.a.createElement("div",{className:"exchange__content"},r.a.createElement("div",{className:"exchange__compare"},r.a.createElement("div",{className:"exchange__compare-info"},r.a.createElement("h4",null,"My Product"),this.renderProduct(c)),r.a.createElement("div",{className:"exchange__line"}),r.a.createElement("div",{className:"exchange__compare-info"},r.a.createElement("h4",null,null===a||void 0===a?void 0:a.first_name," Product"),this.renderProduct(u))),r.a.createElement(D,{type:"submit",onClick:this.requestExchange,text:"Request Exchange"}))):r.a.createElement(_.a,{to:"/"}):r.a.createElement("div",null,"No products to exchange under same category")}}]),n}(a.Component),jt={exchangeRequest:function(e,t,n,a){return function(r){return(c=e,s=t,o=n,i=a,w.a.post(U.a.exchange.request(),{id_stuffier:c,id_friend:o,id_stuff:s,id_friend_stuff:i},{headers:k.a.headers})).then((function(t){r(bt(t.data,e)),Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}));var c,s,o,i}}},St=Object(v.b)((function(e){return{categories:e.categories,products:e.products,subcategories:e.subcategories,user:e.user}}),jt)(Object(_.g)(Rt));n(724);var Nt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).textField=r.a.createRef(),e.state={requests:[],emailToRequest:"",message:null,textfield:null,executeStatus:Se.EMPTY},e.executeRequest=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.props.user,r=[W(a.email,t.id)];n&&r.push(K(a.email,t.id)),Promise.all(r).then((function(t){!n&&e.setState({executeStatus:Se.WARNING}),console.log(t[0].data),n&&e.setState({executeStatus:Se.SUCCESSFUL}),n&&console.log(t[1].data)})).catch((function(){return e.setState({executeStatus:Se.ERROR})}))},e.renderRequests=function(){var t=e.state.requests;return r.a.createElement("div",{className:"friends__requests"},r.a.createElement("hr",null),r.a.createElement("h3",{className:"friends__title"},r.a.createElement("div",null,"Requests"),r.a.createElement("div",{className:"friends__warning"},t.length)),r.a.createElement("ul",null,t.map((function(t,n){return r.a.createElement("li",{className:"friends__request",key:n},r.a.createElement("div",{className:"friends__request-text"},t.first_name," ",t.last_name," (",t.email,")"),r.a.createElement("div",{className:"friends__request-button"},r.a.createElement(D,{onClick:function(){return e.executeRequest(t,!0)},text:"Accept"})),r.a.createElement("div",{className:"friends__request-button"},r.a.createElement(D,{onClick:function(){return e.executeRequest(t)},text:"Reject"})))}))))},e.handleRequest=function(){var t=e.props.user,n=e.state.emailToRequest;G(n,t.id).then((function(){return e.setState({message:"Request sent succesfully",emailToRequest:""})})).catch((function(){return e.setState({message:"Request couldnt be sent",emailToRequest:""})}))},e.getMessage=function(){var t=e.state,n=t.emailToRequest,a=t.executeStatus,r=a===Se.ERROR?"was not added":a===Se.WARNING?"was rejected!":a===Se.SUCCESSFUL?"was accepted!":null;return r?"Friend ".concat(n," ").concat(r):""},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props.friendsRequests;n.length>0&&H((e=n,Object(O.map)(e,(function(e){return{id:e.id_friend}})))).then((function(e){return t.setState({requests:e.data})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.friends,a=t.t,c=t.user,s=this.state,o=s.requests,i=s.message,u=s.emailToRequest,l=s.executeStatus;return r.a.createElement("div",{className:"friends"},r.a.createElement("h2",{className:"friends__title"},a("Friends-Title",{first_name:c.first_name})),r.a.createElement(Ne,{message:this.getMessage(),type:l}),r.a.createElement("ul",null,n.map((function(e){return r.a.createElement("li",{key:e.id},e.first_name," ",e.last_name," - ",e.email)}))),o.length>0&&this.renderRequests(),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("h3",{className:"friends__title"},a("Add-Friend")),r.a.createElement("div",{className:"friends__form"},r.a.createElement(P,{placeholder:"Friend Email",type:"text",name:"friend_email",value:u,onChange:function(t){return e.setState({emailToRequest:t})}}),r.a.createElement("div",{className:"friends__button"},r.a.createElement(D,{text:"Request",onClick:function(){return e.handleRequest()}}))),i&&r.a.createElement("div",{className:"friends__message"},i)))}}]),n}(a.Component),Ct=Object(v.b)((function(e){return{user:e.user,friends:e.friends,friendsRequests:e.friendsRequests}}),{})(Object(h.c)()(Nt)),Dt=T("LOAN::REQUESTED"),Pt=T("LOANS::FETCHED"),kt=T("LOAN::DELETED");n(725);var xt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={friend:{first_name:""},message:"",type:Se.EMPTY},e.requestLoan=function(){var t=e.props,n=t.loanRequest,a=t.location,r=t.user;n(a.friend,a.product.id,r.id).then((function(){return e.setState({message:"Exchange request successfully",type:Se.SUCCESSFUL})})).catch((function(){return e.setState({message:"Exchange request failed",type:Se.SUCCESSFUL})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.history,a=t.location,r=a.product;this._isMounted=!0,this._isMounted&&(r&&void 0!==r||n.push("/"),H([{id:a.friend}]).then((function(t){return e.setState({friend:t.data[0]})})))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.location,t=this.state,n=t.friend,a=t.message,c=t.type,s=e.product;if(!s)return r.a.createElement(_.a,{to:"/"});var o={params:{id:s.id}};return r.a.createElement("div",{className:"loan"},r.a.createElement(Ne,{message:a,type:c}),r.a.createElement("div",{className:"loan__product"},r.a.createElement("h2",null,null===n||void 0===n?void 0:n.first_name," Product"),r.a.createElement("hr",null),r.a.createElement(Qe,{match:o,key:s.id,product:s})),r.a.createElement(D,{type:"submit",onClick:this.requestLoan,text:"Request To Borrow"}))}}]),n}(a.Component),qt={loanRequest:function(e,t,n){return function(a){return(r=e,c=t,s=n,w.a.post(U.a.loan.request(),{id_stuffier:r,id_friend:s,id_stuff:c},{headers:k.a.headers})).then((function(t){a(Dt(t.data,e)),Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}));var r,c,s}}},wt=Object(v.b)((function(e){return{categories:e.categories,products:e.products,subcategories:e.subcategories,user:e.user}}),qt)(Object(_.g)(xt)),Tt=n(103),Lt=n.n(Tt);function Ft(e,t){var n=function(e){var t=[];return Object.keys(e).forEach((function(n){if(e[n].length>0){t.length||(t=[(r={id:e[n][0].id,name:e[n][0].name,category:e[n][0].category,subcategory:e[n][0].subcategory},Object.keys(r).map((function(e){return(t=e).charAt(0).toUpperCase()+t.slice(1);var t})))]);var a=e[n].map((function(e){return[e.id,e.name,e.category,e.subcategory]}));t=[].concat(Object(ee.a)(t),Object(ee.a)(a))}var r})),t}(e),a=Lt.a.utils.book_new(),r=Lt.a.utils.aoa_to_sheet(n);Lt.a.utils.book_append_sheet(a,r,"Products_Sheet"),Lt.a.writeFile(a,"".concat(t).concat(".xlsx"))}n(729);var Ut=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={requestedProducts:[],message:"",type:Se.EMPTY},e.generateReport=function(){var t=e.props,n=t.products,a=t.user;Ft(n,"".concat(a.first_name,"_products"))},e.executeDeleteExchange=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.props,r=a.deleteRequest,c=a.deleteRequestLoan;n?c(t).then((function(){return e.setState({message:"Loan request deleted",type:Se.SUCCESSFUL})})).catch((function(){return e.setState({message:"Loan request couldn't be deleted",type:Se.ERROR})})):r(t).then((function(){return e.setState({message:"Exchange request deleted",type:Se.SUCCESSFUL})})).catch((function(){return e.setState({message:"Exchange request couldn't be deleted",type:Se.ERROR})}))},e.renderRequests=function(){var t=e.props,n=t.exchangeRequests,a=t.friends,c=t.user,s=e.state.requestedProducts;return r.a.createElement("div",{className:"products__requests"},r.a.createElement("hr",null),r.a.createElement("h3",{className:"products__requests-title"},r.a.createElement("div",null,"Exchange Requests"),r.a.createElement("div",{className:"products__warning"},n.length)),r.a.createElement("ul",null,n.map((function(t,n){var o=t.id_stuffier===c.id?c:a.filter((function(e){return e.id===t.id_stuffier}))[0],i=t.id_friend===c.id?c:a.filter((function(e){return e.id===t.id_friend}))[0],u=c===i,l=c===o,f=u?"Cancel":"Reject",d=s.find((function(e){return e.id===t.id_stuff})),m=s.find((function(e){return e.id===t.id_friend_stuff}));return r.a.createElement("li",{className:"products__request",key:n},r.a.createElement("div",{className:"products__request-group"},r.a.createElement("div",{className:"products__request-text"},"Owner: ",l?"Me":"".concat(o.first_name," ").concat(o.last_name," (").concat(o.email,")")),r.a.createElement("div",{className:"products__request-text"},"Product: ",Object(O.get)(d,"name")),r.a.createElement("div",{className:"products__request-text"},"Requestor: ",u?"Me":"".concat(i.first_name," ").concat(i.last_name," (").concat(i.email,")")),r.a.createElement("div",{className:"products__request-text"},"Product: ",Object(O.get)(m,"name"))),r.a.createElement("div",{className:"products__request-buttons"},!u&&r.a.createElement("div",{className:"products__request-button"},r.a.createElement(D,{onClick:function(){return console.log("Accept Exchange")},text:"Accept"})),r.a.createElement("div",{className:"products__request-button"},r.a.createElement(D,{onClick:function(){return e.executeDeleteExchange(t._id)},text:f}))))}))))},e.renderLoans=function(){var t=e.props,n=t.loanRequests,a=t.friends,c=t.user,s=e.state.requestedProducts;return r.a.createElement("div",{className:"products__requests"},r.a.createElement("hr",null),r.a.createElement("h3",{className:"products__requests-title"},r.a.createElement("div",null,"Loan Requests"),r.a.createElement("div",{className:"products__warning"},n.length)),r.a.createElement("ul",null,n.map((function(t,n){var o=t.id_stuffier===c.id?c:a.filter((function(e){return e.id===t.id_stuffier}))[0],i=t.id_friend===c.id?c:a.filter((function(e){return e.id===t.id_friend}))[0],u=c===i,l=c===o,f=u?"Cancel":"Reject",d=s.find((function(e){return e.id===t.id_stuff}));return r.a.createElement("li",{className:"products__request",key:n},r.a.createElement("div",{className:"products__request-group"},r.a.createElement("div",{className:"products__request-text"},"Owner: ",l?"Me":"".concat(o.first_name," ").concat(o.last_name," (").concat(o.email,")")),r.a.createElement("div",{className:"products__request-text"},"Requestor: ",u?"Me":"".concat(i.first_name," ").concat(i.last_name," (").concat(i.email,")")),r.a.createElement("div",{className:"products__request-text"},"Product: ",Object(O.get)(d,"name"))),r.a.createElement("div",{className:"products__request-buttons"},!u&&r.a.createElement("div",{className:"products__request-button"},r.a.createElement(D,{onClick:function(){return console.log("Accept Exchange")},text:"Accept"})),r.a.createElement("div",{className:"products__request-button"},r.a.createElement(D,{onClick:function(){return e.executeDeleteExchange(t._id,!0)},text:f}))))}))))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.exchangeRequests,a=t.loanRequests.map((function(e){return e.id_stuff})),r=n.map((function(e){return e.id_stuff})),c=n.map((function(e){return e.id_friend_stuff}));(function(e){return w.a.get(U.a.stuff.listDetail(e),{headers:k.a.headers})})(function(e){return Object(O.map)(e,(function(e){return{id:e}}))}(Object(O.uniq)([].concat(Object(ee.a)(a),Object(ee.a)(r),Object(ee.a)(c))))).then((function(t){return e.setState({requestedProducts:t.data})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.categories,a=t.exchangeRequests,c=t.loanRequests,s=t.history,o=t.products,i=t.user,u=this.state,l=u.message,f=u.type;return r.a.createElement("div",{className:"products"},r.a.createElement(Ne,{message:l,type:f}),r.a.createElement("div",{className:"products__title"},r.a.createElement("h2",null,i.first_name," Stuff"),r.a.createElement("div",{className:"products__add-product"},r.a.createElement(D,{text:"Add Product",onClick:function(){return s.push("/product/add")}}))),a.length>0&&this.renderRequests(),c.length>0&&this.renderLoans(),r.a.createElement("hr",null),Pe(o)&&r.a.createElement("div",null,"No Stuff! Add Products!"),!Pe(o)&&r.a.createElement("div",null,n.map((function(e,t){return o[e.id]&&o[e.id].length?r.a.createElement("div",{key:e.id},r.a.createElement("h4",{className:"products__subheader"},e.name),r.a.createElement("ul",{className:"products__list"},Object(O.map)(o[e.id],(function(e){var t={params:{id:e.id}};return r.a.createElement(Qe,{key:e.id,match:t,showCost:!0,product:e})})))):r.a.createElement("div",{key:"".concat(e.id,"_").concat(t)})})),r.a.createElement("hr",null),r.a.createElement(D,{onClick:function(){return e.generateReport()},text:"Generate Report"})))}}]),n}(a.Component),At={deleteRequest:function(e){return function(t){return function(e){return w.a.delete(U.a.exchange.deleteRequest(e),{headers:k.a.headers})}(e).then((function(e){var n=e.data.result[0];t(Ot(n)),Promise.resolve(n)})).catch((function(e){return Promise.reject(e)}))}},deleteRequestLoan:function(e){return function(t){return function(e){return w.a.delete(U.a.loan.deleteRequest(e),{headers:k.a.headers})}(e).then((function(e){var n=e.data.result[0];t(kt(n)),Promise.resolve(n)})).catch((function(e){return Promise.reject(e)}))}}},It=Object(v.b)((function(e){return{user:e.user,categories:e.categories,friends:e.friends,exchangeRequests:e.exchangeRequests,loanRequests:e.loanRequests,products:e.products}}),At)(Ut);var zt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("iframe",{src:"https://webchat.botframework.com/embed/StuffieBot?s=fkpQavtTB78.cwA.pjM.9djZJuhRob4Mt-Lb5-1Wk7yrsHtLAxOKIL6w3gE4910",title:"WebChat"})}}]),n}(a.Component),Mt=n(338),Bt=n.n(Mt);var Ht=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={file:"",progressValue:0},e}return Object(l.a)(n,[{key:"handleChange",value:function(e){if(e&&e.target&&e.target.files){var t=e.target.files[0];this.setState({file:t})}}},{key:"handleSubmit",value:function(e){e.stopPropagation(),e.preventDefault(),Bt.a.recognize(this.state.file,"eng").progress(this.progressUpdate).then(this.result)}},{key:"result",value:function(e){var t=document.getElementById("info"),n=document.getElementById("result");t.innerHTML="Finished!",n.innerHTML=e?e.text:""}},{key:"progressUpdate",value:function(e){if("progress"in e){var t=document.querySelector("progress");t.value=e.progress,t.max=1,document.getElementById("info").innerHTML="Analyzing file..."}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"tickets"},r.a.createElement("h3",null,"Tickets"),r.a.createElement("div",{className:"ticketsForm"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("input",{type:"file",id:"fileId",name:"fileName",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("hr",null),r.a.createElement("input",{type:"submit",value:"Analyze",disabled:!this.state.file}))),r.a.createElement("hr",null),r.a.createElement("div",{id:"status",className:"ticketsStatus"},r.a.createElement("progress",{value:this.state.progressValue,max:"100"}),r.a.createElement("span",{id:"statusInfo",className:"statusInfo"},"Status: ",r.a.createElement("span",{id:"info"}))),r.a.createElement("hr",null),r.a.createElement("div",{id:"result"}))}}]),n}(a.Component);var Gt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).authenticate=function(){console.log("secreto: ".concat(B.encrypt("secreto"))),console.log("mario: ".concat(B.encrypt("mario"))),console.log("doc: ".concat(B.encrypt("secrdoceto"))),console.log("merol: ".concat(B.encrypt("merol")))},e.getStuff=function(){console.log([{id:1,name:"Carlos Reyes 1"},{id:2,name:"Carlos Reyes 2"},{id:1,name:"Carlos Reyes 1"},{id:3,name:"Carlos Reyes 3"}]);var e=[1,1,2,3,4,5];return e.filter((function(t,n){return e.indexOf(t)===n}))},e.proto=function(){var e,t={jumps:!0,__proto__:{eats:!0}},n=t.propertyIsEnumerable(null===t||void 0===t||null===(e=t.__proto__)||void 0===e?void 0:e.hasOwnProperty);console.log(n)},e.myFlat=function(t){var n=[];return e.myFlatTemp(t,n),n},e.myFlatTemp=function(t,n){t.forEach((function(t){if(Array.isArray(t))return e.myFlatTemp(t,n);n.push(t)}))},e.dom=function(){var e=document.getElementsByTagName("span");e&&void 0!==e&&(console.log(e),console.log(e[0]))},e.debounce=function(e,t){var n=null;return function(){clearTimeout(n),n=setTimeout((function(){e()}),t)}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e;null===(e=document.getElementById("myButton"))||void 0===e||e.addEventListener("click",this.debounce((function(){return console.log("click")}),4e3))}},{key:"reverseStuff",value:function(e){return e.split("").reverse().join("")}},{key:"flat",value:function(e){return e.reduce((function(e,t){return[].concat(Object(ee.a)(e),Object(ee.a)(t))}),[])}},{key:"loop",value:function(e,t,n,a){for(var r=e;t(r);r=n(r))a(r)}},{key:"every",value:function(e,t){var n=!0;return e.forEach((function(e){t(e)||(n=!1)})),n}},{key:"everySome",value:function(e,t){return!e.some((function(e){return!t(e)}))}},{key:"waysToDecode",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"4123",t=0,n=e.split(""),a=0;a<n.length;a++)("1"===n[a]||"2"===n[a])&&a+1<n.length&&t++;return t+1}},{key:"getAnagrams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["star","rats","car","arc","arts","star","stars"],t={};return e.forEach((function(e){var n=e.split("").sort().join("");Object.keys(t).includes(n)?t[n].includes(e)||t[n].push(e):t=Object(x.a)(Object(x.a)({},t),{},Object(Ce.a)({},n,[e]))})),Object.keys(t).map((function(e){return t[e]}))}},{key:"reduce",value:function(e,t,n){var a=n;return e.forEach((function(e){a=t(a,e)})),a}},{key:"getRoman",value:function(e){var t="",n=e,a=Math.floor(n/1e3);a&&(t+="M".repeat(a),n-=1e3*a);var r=Math.floor(n/100);r&&(t+=r>5?"D".concat("C".repeat(r-5)):5===r?"D":4===r?"CD":"C".repeat(r),n-=100*r);var c=Math.floor(n/10);return c&&(t+=c>5?"L".concat("X".repeat(c-5)):5===c?"L":4===c?"XL":"X".repeat(c),n-=10*c),t+=n>5?"V".concat("I".repeat(n-5)):5===n?"V":4===n?"IV":"I".repeat(n)}},{key:"excludeItems",value:function(){var e=[{color:"red",type:"tv",age:18},{color:"silver",type:"phone",age:20}];return[{k:"color",v:"silver"},{k:"type",v:"tv"}].forEach((function(t){e=e.filter((function(e){return e[t.k]===t.v}))})),e}},{key:"orderArray",value:function(){var e=["a","b","c","d","e"];return[1,3,2,4,0].forEach((function(t,n){var a=e[n];e[n]=e[t],e[t]=a})),e}},{key:"render",value:function(){var e=this.getStuff(),t=this.reverseStuff("unodostres");return this.dom(),console.log(this.orderArray()),r.a.createElement("div",null,r.a.createElement("span",null,"This is my test = ",t),r.a.createElement("span",null,"This is my other test = ",e),r.a.createElement("button",{id:"myButton"},"Click"))}}]),n}(a.Component);var Wt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(_.d,null,r.a.createElement(_.b,{exact:!0,path:"/",component:lt}),r.a.createElement(_.b,{exact:!0,path:"/StuffieReact",component:lt}),r.a.createElement(_.b,{path:"/admin",component:We}),r.a.createElement(_.b,{path:"/friends",component:Ct}),r.a.createElement(_.b,{path:"/products",component:It}),r.a.createElement(_.b,{path:"/product/add",component:ze}),r.a.createElement(_.b,{path:"/product/:id",render:function(e){return r.a.createElement(Qe,e)}}),r.a.createElement(_.b,{path:"/category/add",render:function(){return r.a.createElement(Re,{type:"category"})}}),r.a.createElement(_.b,{path:"/category/:id",render:function(t){return r.a.createElement(tt,Object.assign({},t,e.props))}}),r.a.createElement(_.b,{path:"/subcategory/add",render:function(){return r.a.createElement(Re,{type:"subcategory"})}}),r.a.createElement(_.b,{path:"/subcategory/:id",render:function(t){return r.a.createElement(tt,Object.assign({},t,e.props))}}),r.a.createElement(_.b,{path:"/exchange",render:function(t){return r.a.createElement(St,Object.assign({},t,e.props))}}),r.a.createElement(_.b,{path:"/loan",render:function(t){return r.a.createElement(wt,Object.assign({},t,e.props))}}),r.a.createElement(_.b,{path:"/buy",render:function(t){return r.a.createElement(Ze,Object.assign({},t,e.props))}}),r.a.createElement(_.b,{path:"/charts",component:gt}),r.a.createElement(_.b,{path:"/support",component:zt}),r.a.createElement(_.b,{path:"/tickets",component:Ht}),r.a.createElement(_.b,{path:"/test",component:Gt}))}}]),n}(a.Component);n(732);var Kt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("hr",null),"Stuffie\u2122 is a platform coded and registered by \xa0",r.a.createElement("a",{href:"http://stuffie.azurewebsites.net/PM_Carlos-Reyes2.html",target:"_blank",rel:"noopener noreferrer"},"Carlos Reyes-Rico"),".")}}]),n}(a.Component),Vt=n(99);n(736);var Yt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={accessToken:null,expiresIn:null,items:[]},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.spotifyConf;Object(Vt.b)(t.key,t.secret).then((function(t){return e.setState({accessToken:t.data.access_token,expiresIn:t.data.expires_in}),Promise.resolve(t.data.access_token)})).then((function(e){return Object(Vt.c)(e,"Musica Ligera","Soda Stereo")})).then((function(t){return e.setState({items:t.data.tracks.items})}))}},{key:"render",value:function(){var e=this.state.items;if(!e.length)return r.a.createElement("div",null);var t=Object(O.get)(e[0],"album.images[0]");return r.a.createElement("div",{className:"spotify"},t&&r.a.createElement("img",{src:Object(O.get)(t,"url"),height:"30",width:"30",alt:""}),r.a.createElement("audio",{"aria-label":"Label",autoPlay:!0,className:"spotify__audio",controls:!0,src:Object(O.get)(e[0],"preview_url")}))}}]),n}(a.Component),Jt=Object(v.b)((function(e){return{spotifyConf:e.spotifyConf}}),null)(Yt);n(737);var $t=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(t){var n=e.props,a=n.logout,r=n.history;t.preventDefault(),a(),r.push("/")},e.toggleMenu=function(){var e=document.getElementById("apps");"block"===e.style.display?e.style.display="none":e.style.cssText="\n        display: block;\n        float: right;\n        top: 28px; right: 0px;\n        position: absolute; background-color: white;\n        width: 146px;\n        padding: 8px;\n        box-shadow: 5px 5px #888888;\n        border-radius: 6px;      \n      "},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.friendsRequests,a=t.exchangeRequests,c=t.loanRequests,s=t.pendingProducts,o=t.products,i=t.t,u=t.user,l=t.userRequests,f=a.length>0?"stuffie-header__section-exchange":"",d=a.length+c.length;if(i)return r.a.createElement("div",{className:"stuffie-header"},r.a.createElement("div",{className:"stuffie-header__left"},r.a.createElement("div",{className:"stuffie-header__info"},r.a.createElement("div",{className:"stuffie-header__logo"},r.a.createElement(Ye,{fileName:"logo_2020",format:"jpg",height:"50",width:"50"})),r.a.createElement("div",{className:"stuffie-header__user"},"Stuffie")),r.a.createElement("div",{className:"stuffie-header__sections"},r.a.createElement("div",{className:"stuffie-header__section-item"},r.a.createElement(p.b,{to:"/StuffieReact"},i("Feed"))),r.a.createElement("div",{className:"stuffie-header__section-item"},r.a.createElement(p.b,{to:"/friends"},i("Friends")),n.length>0&&r.a.createElement("div",{className:"stuffie-header__warning"},n.length)),r.a.createElement("div",{className:"stuffie-header__section-item ".concat(f)},r.a.createElement(p.b,{to:"/products"},window.outerWidth>=1024&&!d?"Products":"Prods"),d>0&&r.a.createElement("div",{className:"stuffie-header__warning"},r.a.createElement("span",{className:"stuffie-header__warning-text"},d))),u.admin&&r.a.createElement("div",{className:"stuffie-header__section-item"},r.a.createElement(p.b,{to:"/admin"},i("Admin")),(l.length>0||s.length>0)&&r.a.createElement("div",{className:"stuffie-header__warning"},r.a.createElement("span",{className:"stuffie-header__warning-text"},l.length+s.length))),r.a.createElement("div",{className:"stuffie-header__section-item"},r.a.createElement("button",{className:"stuffie-header__button",onClick:this.handleLogout},i("Logout"))))),r.a.createElement("div",{className:"stuffie-header__search"},r.a.createElement(Et,{products:o}),r.a.createElement("div",{className:"stuffie-header__menu"},r.a.createElement("div",{id:"apps"},r.a.createElement("div",{className:"stuffie-header__menu-spotify"},r.a.createElement(Jt,null)),r.a.createElement("div",{className:"stuffie-header__menu-apps"},r.a.createElement(re,null))),r.a.createElement("button",{className:"icon",onClick:function(t){return t&&e.toggleMenu()}},r.a.createElement("i",{className:"fa fa-bars"})))))}}]),n}(a.Component),Qt={logout:function(){return localStorage.removeItem("picture"),localStorage.removeItem("username"),{type:"STUFFIE::REVOKE_USER"}}},Xt=Object(v.b)((function(e){return{user:e.user,userRequests:e.userRequests,friendsRequests:e.friendsRequests,products:e.products,exchangeRequests:e.exchangeRequests,loanRequests:e.loanRequests,pendingProducts:e.pendingProducts}}),Qt)(Object(h.c)()(Object(_.g)($t)));n(738);var Zt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).renderCategories=function(){var t=e.props,n=t.categories,a=t.products;if(n&&a)return n.filter((function(e){return a[e.id]&&a[e.id].length})).map((function(e){var t={pathname:"/category/".concat(e.id),category:e.name};return r.a.createElement("div",{key:e.id,className:"menu__category"},r.a.createElement(p.b,{className:"",key:e.id,to:t},e.name))}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.products,n=e.t;return r.a.createElement("div",null,r.a.createElement("div",{className:"menu__title"},n("Summary")),Pe(t)&&r.a.createElement("div",null,"No products"),r.a.createElement("div",{className:"menu__list"},this.renderCategories()))}}]),n}(a.Component),en=Object(v.b)((function(e){return{user:e.user,categories:e.categories,products:e.products}}),{})(Object(h.c)()(Zt));n(739);var tn=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.t;return r.a.createElement("div",{className:"stuffie"},r.a.createElement("div",{className:"stuffie__header"},r.a.createElement(Xt,null)),r.a.createElement("div",{className:"stuffie__main"},r.a.createElement("div",{className:"stuffie__menu"},r.a.createElement(en,null)),r.a.createElement("div",{className:"stuffie__content"},r.a.createElement(Wt,null)),r.a.createElement("div",{className:"stuffie__right"},r.a.createElement("div",{className:"stuffie__user"},t.picture&&r.a.createElement("img",{src:t.picture,alt:"User Pic"}),r.a.createElement("div",{className:"stuffie__welcome"},n("Welcome")," ",t.first_name)),r.a.createElement("div",{className:"stuffie__spotify"},r.a.createElement(Jt,null)),r.a.createElement("div",{className:"stuffie__apps"},r.a.createElement(re,null)))),r.a.createElement("div",{className:"stuffie_footer"},r.a.createElement(Kt,null)),r.a.createElement(ce,null))}}]),n}(a.Component),nn=Object(v.b)((function(e){return{user:e.user}}),{})(Object(h.c)()(tn)),an=T("MENU::FRIENDS_REQUESTS_FETCHED"),rn=T("ADMIN::PENDING_PRODUCTS_FETCHED"),cn=T("APPS::SPOTIFY_FETCHED");n(740);var sn=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!0},e.fetchData=function(){var t=e.props,n=t.user,a=t.fetchCategories,r=t.fetchFriends,c=t.fetchSubCategories,s=t.fetchProducts,o=t.fetchFriendsRequests,i=t.fetchExchangeRequests,u=t.fetchLoanRequests,l=t.fetchPendingProducts,f=t.fetchUserRequests,d=t.fetchSpotify,m=[a(),c(),r(n.email),o(n.email),i(n.id),u(n.id),d()],p=[f(),l()];n.admin&&(m=[].concat(Object(ee.a)(m),p)),Promise.all(m).then((function(e){return s(n,e[0].data)})).catch((function(e){return console.log(e)})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this.props.t;return this.state.isLoading?r.a.createElement("div",{className:"fetch-data__loading"},r.a.createElement(S,{size:"xl",message:e("Loading-data")})):r.a.createElement(nn,null)}}]),n}(a.Component),on={fetchCategories:pe,fetchFriends:function(e){return function(t){return function(e){return w.a.get(U.a.user.friends(e),{headers:k.a.headers})}(e).then((function(e){return H((t=e.data,Object(O.map)(t,(function(e){return{id:e.id_friend}}))));var t})).then((function(n){var a=n.data||[];return t(ct(a,e)),Promise.resolve(a)}))}},fetchFriendsRequests:function(){return function(e){return w.a.get(U.a.user.friendsRequest(t),{headers:k.a.headers}).then((function(t){return e(an(t.data)),Promise.resolve(t.data)}));var t}},fetchProducts:function(e,t){return function(n){var a;return se(e.id).then((function(e){return a=e.data,oe(De(e.data))})).then((function(r){var c=function(e,t){return e.map((function(e){var n=t.find((function(t){return t.id_stuff===e.id}));return n?Object(x.a)(Object(x.a)({},e),{},{cost:n.cost}):e}))}(r.data,a),s=function(e,t){var n={};return Object(O.forEach)(e,(function(e){n=Object(x.a)(Object(x.a)({},n),{},Object(Ce.a)({},e.id,[]))})),Object(O.isEmpty)(n)||Object(O.forEach)(t,(function(e){n[e.category].push(e)})),n}(t,c);return n(we(s,e.email)),Promise.resolve(s)}))}},fetchSubCategories:ge,fetchExchangeRequests:function(e){return function(t){return(n=e,w.a.get(U.a.exchange.list(n),{headers:k.a.headers})).then((function(n){t(_t(n.data,e)),Promise.resolve(n.data)})).catch((function(e){return Promise.reject(e)}));var n}},fetchLoanRequests:function(e){return function(t){return(n=e,w.a.get(U.a.loan.list(n),{headers:k.a.headers})).then((function(n){t(Pt(n.data,e)),Promise.resolve(n.data)})).catch((function(e){return Promise.reject(e)}));var n}},fetchPendingProducts:function(){return function(e){return w.a.get(U.a.stuff.listPendingPics(),{headers:k.a.headers}).then((function(t){return e(rn(t.data)),Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}))}},fetchUserRequests:Me,fetchSpotify:function(){return function(e){return Object(Vt.a)().then((function(t){var n=t.data[0];e(cn(n)),Promise.resolve(n)})).catch((function(e){return Promise.reject(e)}))}}},un=Object(v.b)((function(e){return{user:e.user}}),on)(Object(h.c)()(sn));n(741);var ln=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",firstName:"",lastName:"",isLoading:!1},e.handleSubmit=function(t){var n=e.props,a=n.registerUser,r=n.setMessage,c=e.state,s={email:c.email,password:c.password,first_name:c.firstName,last_name:c.lastName,admin:!1};t.preventDefault(),e.setState({isLoading:!0}),a(s).then((function(e){localStorage.setItem("username",e.email),r("Register Successful. Request to be accepted by Admin. Do not login yet!")})).catch((function(e){return r("Error: Couldn't register. Try again.")})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(l.a)(n,[{key:"enableButton",value:function(){var e=this.state,t=e.email,n=e.password,a=e.firstName,r=e.lastName;return t.length>0&&n.length>0&&a.length>0&&r.length>0}},{key:"render",value:function(){var e=this,t=this.state.isLoading;return r.a.createElement("div",{className:"register"},r.a.createElement("h1",null,"Register"),r.a.createElement("form",{className:"register__form",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"register__content"},r.a.createElement("div",{className:"register__row"},r.a.createElement("div",{className:"register__text"},"Email"),r.a.createElement(P,{type:"text",name:"email",placeholder:"Email",disabled:t,onChange:function(t){return e.setState({email:t})}})),r.a.createElement("div",{className:"register__row"},r.a.createElement("div",{className:"register__text"},"Password"),r.a.createElement(P,{type:"password",name:"password",placeholder:"Password",disabled:t,onChange:function(t){return e.setState({password:t})}})),r.a.createElement("div",{className:"register__row"},r.a.createElement("div",{className:"register__text"},"First Name"),r.a.createElement(P,{type:"text",name:"firstName",placeholder:"First Name",disabled:t,onChange:function(t){return e.setState({firstName:t})}})),r.a.createElement("div",{className:"register__row"},r.a.createElement("div",{className:"register__text"},"Last Name"),r.a.createElement(P,{type:"text",name:"lastName",placeholder:"Last Name",disabled:t,onChange:function(t){return e.setState({lastName:t})}}))),r.a.createElement("div",{className:"register__button"},r.a.createElement(D,{type:"submit",text:"Register",disabled:!this.enableButton()||t}),t&&r.a.createElement("div",{className:"register__loading"},r.a.createElement(S,{size:"md"})))))}}]),n}(a.Component),fn={registerUser:function(e){return function(t){return function(e){return Promise.all([w.a.get(U.a.user.lastId(),{headers:k.a.headers}),B.pbkdf2(e.password,e.email)]).then((function(t){var n=Object.values(t[0].data)[0]+1,a=t[1];return w.a.post(U.a.user.registerUser(),Object(x.a)(Object(x.a)({},e),{},{password:a,id:n,request:!0}),{headers:k.a.headers})})).catch((function(e){return Promise.reject(e)}))}(e).then((function(){return t(J(e,e.email)),Promise.resolve(e)}))}}},dn=Object(v.b)((function(e){return{user:e.user}}),fn)(Object(_.g)(ln));n(742);var mn=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!0,message:""},e.getMessageType=function(e){return e.toLowerCase().includes("Error")?Se.ERROR:e.toLowerCase().includes("successful")?Se.SUCCESSFUL:Se.WARNING},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.fetchUser;localStorage.getItem("username")?t(localStorage.getItem("username")).finally((function(){return e.setState({isLoading:!1})})):this.setState({isLoading:!1})}},{key:"componentDidUpdate",value:function(e,t){e.user!==this.props.user&&this.setState({message:""})}},{key:"render",value:function(){var e=this,t=this.props.user,n=this.state,a=n.isLoading,c=n.message,s=Object(O.get)(t,"request"),o=s?"User already registered, wait for authorization. Don't register again.":c;return a?r.a.createElement("div",{className:"auth__loading"},r.a.createElement(S,{size:"xl",message:"Loading"})):Object(O.isEmpty)(t)||s?r.a.createElement("div",{className:"auth"},r.a.createElement("div",{className:"auth__header"},r.a.createElement(Ye,{fileName:"logo_2020_2",format:"jpg",height:"50",width:"50"}),r.a.createElement("h1",{className:"auth__title"},r.a.createElement("span",{className:"auth__stuffie"},"Stuffie"),r.a.createElement("span",{className:"auth__slogan"},"Connecting Life"))),r.a.createElement("div",{className:"auth__horizontal-line"}),r.a.createElement(Ne,{message:o,type:this.getMessageType(o)}),r.a.createElement("div",{className:"auth__content"},r.a.createElement(dn,{setMessage:function(t){return e.setState({message:t})}}),r.a.createElement("div",{className:"auth__line"}),r.a.createElement(Z,{setMessage:function(t){return e.setState({message:t})}}))):Object(O.isEmpty)(t)?void 0:r.a.createElement(un,null)}}]),n}(a.Component),pn={fetchUser:Y},hn=Object(v.b)((function(e){return{user:e.user}}),pn)(mn);var vn=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(_.d,null,r.a.createElement(_.b,{path:"/",component:hn}),r.a.createElement(_.b,{path:"/login",component:Z}),r.a.createElement(_.b,{path:"/register",component:dn}))}}]),n}(a.Component),gn=Object(h.c)()(vn);n(743),n(744);var yn=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.store;return r.a.createElement("div",{className:"stuffie__app"},r.a.createElement(v.a,{store:e},r.a.createElement(h.a,{i18n:b},r.a.createElement(p.a,null,r.a.createElement(gn,null)))))}}]),n}(a.Component),En=Object(h.c)()(yn),bn=Object(o.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STUFFIE:LOGIN_USER_FETCHED":case"STUFFIE:USER_FETCHED":case"STUFFIE:USER_PICTURE_ADDED":return t.payload;default:return e}},userRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STUFFIE:USER_REQUESTS_FETCHED":return t.payload;case"STUFFIE::USER_REQUEST_DELETED":var n=e.filter((function(e){return e._id!==t.payload._id}));return n;default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU:CATEGORY_ADDED":var n=t.payload;return[].concat(Object(ee.a)(e),[n]);case"MENU::CATEGORIES_FETCHED":case"MENU::CATEGORY_FETCHED":return t.payload;default:return e}},friends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER::FRIENDS_FETCHED":case"FRIENDS::PRODUCTS_FETCHED":return t.payload;default:return e}},friendsRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU::FRIENDS_REQUESTS_FETCHED":return t.payload;default:return e}},products:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"PRODUCTS::PRODUCT_ADDED":return t=n[(e=a.payload).category],Object(x.a)(Object(x.a)({},n),{},Object(Ce.a)({},e.category,[].concat(Object(ee.a)(t),[e])));case"PRODUCTS::PRODUCT_UPDATED":t=n[(e=xe(a.payload.id_stuff,n)).category].filter((function(t){return t.id!==e.id}));var r=Object(x.a)(Object(x.a)({},e),{},{cost:a.payload.cost});return Object(x.a)(Object(x.a)({},n),{},Object(Ce.a)({},e.category,[].concat(Object(ee.a)(t),[r])));case"MENU::PRODUCTS_FETCHED":return a.payload;default:return n}},subcategories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU:SUBCATEGORY_ADDED":var n=t.payload;return[].concat(Object(ee.a)(e),[n]);case"MENU::SUBCATEGORIES_FETCHED":case"MENU::SUBCATEGORY_FETCHED":return t.payload;default:return e}},exchangeRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXCHANGE::REQUESTED":return[].concat(Object(ee.a)(e),[t.payload]);case"EXCHANGES::FETCHED":return t.payload;case"EXCHANGE::DELETED":var n=e.filter((function(e){return e._id!==t.payload}));return n;default:return e}},pendingProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADMIN::PENDING_PRODUCTS_FETCHED":return t.payload;default:return e}},loanRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAN::REQUESTED":return[].concat(Object(ee.a)(e),[t.payload]);case"LOANS::FETCHED":return t.payload;case"LOAN::DELETED":var n=e.filter((function(e){return e._id!==t.payload}));return n;default:return e}},spotifyConf:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APPS::SPOTIFY_FETCHED":return console.log(t.payload),t.payload;default:return e}},feed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FEED::FETCHED":return t.payload;default:return e}}}),_n=function(e,t){return"STUFFIE::REVOKE_USER"===t.type&&(e=void 0),bn(e,t)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(745),n(746);var On=[i.a],Rn="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d;On.push(n(747));var jn=Object(o.e)(_n,Rn(o.a.apply(void 0,On)));s.a.render(r.a.createElement(En,{store:jn}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},99:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var a=n(16),r=n(4),c=n(11),s=n.n(c),o=n(733),i=function(){return s.a.get(a.a.spotify.fetch(),{headers:r.a.headers})},u=function(t,n){var a={Authorization:"Basic "+new e(t+":"+n).toString("base64"),"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"};return s.a.post("https://accounts.spotify.com/api/token",o.stringify({grant_type:"client_credentials"}),{headers:a})},l=function(e,t,n){var a={url:"https://api.spotify.com/v1/search?q=track:".concat(t,"%20artist:").concat(n,"&type=track"),headers:{Authorization:"Bearer "+e}};return s.a.get(a.url,{headers:a.headers})}}).call(this,n(24).Buffer)}},[[352,1,2]]]);
//# sourceMappingURL=main.65fbab8d.chunk.js.map