(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{295:function(e,t){},303:function(e){e.exports={translations:{"Add-Friend":"Add Friend",Admin:"Admin",English:"English",Feed:"Feed",Friends:"Friends","Friends-Title":"{{ first_name }} Friends",Language:"Language",Logout:"Logout",Products:"Products",Spanish:"Spanish",Summary:"Summary",Welcome:"Welcome ","Welcome to React Translation":"Welcome to React Translate.","This is test view":"This is the test view.","Loading-data":"Loading data and products...","Loading-Feed":"Loading Feed"}}},304:function(e){e.exports={translations:{"Add-Friend":"Agregar Amigo",Admin:"Admin",English:"Ingles",Feed:"Feed",Friends:"Amigos","Friends-Title":"Amigos de {{ first_name }}",Language:"Idioma",Logout:"Salir",Products:"Productos",Spanish:"Espa\xf1ol",Summary:"Inventario",Welcome:"Hola ","Welcome to React Translation":"Bienvenido.","This is test view":"Esta es una prueba.","Loading-data":"Cargando datos and productos...","Loading-Feed":"Cargando Feed"}}},331:function(e,t,a){e.exports=a(720)},349:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){},372:function(e,t){},374:function(e,t){},408:function(e,t){},409:function(e,t){},478:function(e,t,a){},480:function(e,t,a){},481:function(e,t,a){},482:function(e,t,a){},483:function(e,t,a){},484:function(e,t,a){},485:function(e,t,a){},486:function(e,t,a){},584:function(e,t,a){},585:function(e,t,a){},586:function(e,t,a){},698:function(e,t,a){},699:function(e,t,a){},700:function(e,t,a){},702:function(e,t){},703:function(e,t){},704:function(e,t,a){},707:function(e,t,a){},708:function(e,t,a){},709:function(e,t,a){},710:function(e,t,a){},711:function(e,t,a){},712:function(e,t,a){},713:function(e,t,a){},714:function(e,t,a){},716:function(e,t,a){},717:function(e,t,a){},720:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(75),s=a.n(c),i=a(56),o=a(298),u=a(3),l=a(4),d=a(6),m=a(7),f=a(8),p=a(18),h=a(22),g=a(15),E=a(134),v=a(303),b=a(304);E.a.use(h.b).init({lng:"en",resources:{en:v,es:b},fallbackLng:"en",debug:!1,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}},function(e,t){e&&console.info("i18n.language",E.a.language)});var y,_=E.a,O=a(57),S=a(16),j=a(305),N=a.n(j),C=(a(349),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"getSize",value:function(){switch(this.props.size){case"sm":return 8;case"md":return 16;case"lg":return 32;case"xl":return 64;default:return 8}}},{key:"render",value:function(){var e=this.props.message,t=this.getSize();return r.a.createElement("div",{className:"stuffie-loading"},r.a.createElement(N.a,{type:"spin",color:"#00f",height:t,width:t}),e&&r.a.createElement("div",{className:"stuffie-loading__message"},e))}}]),t}(n.Component)),R=a(306),w=a.n(R),k=(a(350),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,a=e.type,n=e.text,c=e.onClick;return c?r.a.createElement("button",{className:"button",type:a||"button",onClick:function(e){return e&&c()},disabled:t},n):r.a.createElement("button",{className:"button",type:a||"button",disabled:t},n)}}]),t}(n.Component)),P=(a(351),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.placeholder,n=e.type,c=e.value,s=e.onChange,i=e.disabled,o=e.ref;return r.a.createElement("div",{className:"textfield"},null!==c&&!s&&r.a.createElement("input",{type:n,name:t,placeholder:a||"",value:c,disabled:i,ref:o||null}),s&&r.a.createElement("input",{type:n,name:t,placeholder:a||"",disabled:i,onChange:function(e){return s(e.target.value)},ref:o||null}))}}]),t}(n.Component)),T={cloudinary:{url:"https://res.cloudinary.com/reyesrico/image/upload/c_scale,f_auto,w_100/v1",cloudName:"reyesrico",apiKey:"981789986692969",apiSecret:"xxQPfLvWpN_iIlt1RfMZnB3jRw0"},cloudinary_headers:{"cache-control":"no-cache","x-apikey":"981789986692969"},fb:{appId:"1458399831108421"},headers:{"cache-control":"no-cache","x-apikey":"5c932ad1cac6621685acc11e"},server:"https://stuffie-98b2.restdb.io/rest/"},q=a(20),D=a(12),x=a.n(D),U=function(e){return function(t,a){return{meta:a,payload:t,type:e}}},F=function(e,t){return function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return function(a){return e.apply(void 0,n).then(function(e){var r=e.data;return a(t(r,Object(q.a)({},n))),Promise.resolve(r)})}}},L=function(e,t,a){return function(n){return function(r){return a&&r(a(void 0,n)),e(n).then(function e(a){var c=a.data;return r(t(c,n)),c.next?x.a.get(c.next).then(e):Promise.resolve({data:c})})}}},A={category:{add:function(){return"".concat(T.server,"categories")},list:function(){return"".concat(T.server,"categories")},detail:function(e){return"".concat(T.server,"categories?q=").concat(JSON.stringify({id:parseInt(e)}))}},cloudinary:{exist:function(){return"https://".concat(T.cloudinary.apiKey,":").concat(T.cloudinary.apiSecret,"@api.cloudinary.com/v1_1/").concat(T.cloudinary.cloudName,"/resources/image")}},subcategory:{add:function(){return"".concat(T.server,"subcategories")},list:function(){return"".concat(T.server,"subcategories")},detail:function(e){return"".concat(T.server,"subcategories?q=").concat(JSON.stringify({id:parseInt(e)}))}},stuff:{addStuffiersStuff:function(){return"".concat(T.server,"stuffiers-stuff")},addStuff:function(){return"".concat(T.server,"stuff")},detail:function(e){return"".concat(T.server,"stuff?q=").concat(JSON.stringify({id:parseInt(e)}))},listDetail:function(e){return"".concat(T.server,'stuff?q={"$or":').concat(JSON.stringify(e),"}")},listForStuffier:function(e){return"".concat(T.server,"stuffiers-stuff?q=").concat(JSON.stringify({id_stuffier:e}))},listStuffiers:function(e){return"".concat(T.server,'stuffiers-stuff?q={"$or":').concat(JSON.stringify(e),"}")},detailFromCategories:function(e,t){return"".concat(T.server,'stuff?q={"$and":[{"category": ').concat(e,'}, {"subcategory": ').concat(t,"}]}")},listPendingPics:function(){return"".concat(T.server,'stuff?q={"$or": [ {"file_name": {"$exists": false}}, {"file_name": ""} ]}')}},user:{detail:function(e){return"".concat(T.server,"stuffiers?q=").concat(JSON.stringify({email:e}))},listDetail:function(e){return"".concat(T.server,'stuffiers?q={"$or":').concat(JSON.stringify(e),"}")},friends:function(e){return"".concat(T.server,"friends?q=").concat(JSON.stringify({email_stuffier:e}))},list:function(){return"".concat(T.server,"stuffiers")},loginUser:function(e,t){return"".concat(T.server,"stuffiers?q=").concat(JSON.stringify({email:e,password:t}))},registerUser:function(){return"".concat(T.server,"stuffiers")},lastId:function(){return"".concat(T.server,'stuffiers?q={}&h={"$fields": {"id":1}, "$aggregate":["COUNT:"] }')},requestToBeFriend:function(){return"".concat(T.server,"friend-requests")},friendsRequest:function(e){return"".concat(T.server,"friend-requests?q=").concat(JSON.stringify({email_stuffier:e}))},friendRequestDetail:function(e,t){return"".concat(T.server,"friend-requests?q=").concat(JSON.stringify({email_stuffier:e,id_friend:t}))},deleteFriendRequest:function(e){return"".concat(T.server,"friend-requests/").concat(e)},friend:function(){return"".concat(T.server,"friends")},userRequests:function(){return"".concat(T.server,'stuffiers?q={"request": true}')},deleteUserRequest:function(e){return"".concat(T.server,"stuffiers/").concat(e)}},exchange:{request:function(){return"".concat(T.server,"exchange-requests")},list:function(e){return"".concat(T.server,'exchange-requests?q={ "$or": [{ "id_stuffier": ').concat(e,' } ,{ "id_friend": ').concat(e," }] }")},deleteRequest:function(e){return"".concat(T.server,"exchange-requests/").concat(e)}}},z=a(182),I=a.n(z),M={encrypt:function(e){return I.a.SHA256(e).toString(I.a.enc.Hex)}},G=function(e){return e.length>0?x.a.get(A.user.listDetail(e),{headers:T.headers}):Promise.resolve({})},B=function(e){var t=M.encrypt(e.password);return x.a.get(A.user.lastId(),{headers:T.headers}).then(function(a){var n=Object.values(a.data)[0]+1;return x.a.post(A.user.registerUser(),Object(q.a)({},e,{password:t,id:n,request:!0}),{headers:T.headers})})},H=function(e,t){return x.a.post(A.user.requestToBeFriend(),{email_stuffier:e,id_friend:t},{headers:T.headers})},Y=function(e,t){return x.a.get(A.user.friendRequestDetail(e,t),{headers:T.headers}).then(function(e){return x.a.delete(A.user.deleteFriendRequest(e.data[0]._id),{headers:T.headers})})},K=function(e,t){return x.a.post(A.user.friend(),{email_stuffier:e,id_friend:t},{headers:T.headers})},W=(U("STUFFIE:LOGIN_USER_FETCHED"),U("STUFFIE:USER_FETCHED")),V=function(e){return function(t){return function(e){return x.a.get(A.user.detail(e),{headers:T.headers})}(e).then(function(a){return t(W(a.data[0],e)),Promise.resolve(a)})}},J=U("STUFFIE:USER_REGISTERED"),Q=U("STUFFIE:USER_PICTURE_ADDED"),$=(a(478),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:null,password:null,loginFB:!1},a.onClick=function(){var e=a.props,t=e.fetchUser,n=e.loginUser,r=e.setMessage,c=a.state,s=c.email,i=c.password;s&&i&&n(s,i).then(function(e){return t(e.data[0].email)}).then(function(e){localStorage.setItem("username",e.data[0].email),r("Login successful")}).catch(function(e){return r("Error: Couldn't login. Try again.")})},a.responseFacebook=function(e){var t=a.props,n=t.addUserPicture,r=t.fetchUser,c=t.setMessage;e&&r(e.email).then(function(t){var a=e.picture.data.url;localStorage.setItem("username",t.data[0].email),n(t.data[0],a),c("Login successful")}).catch(function(){return c("Error: Couldn't login. Try again.")})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.loginFB;return r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{className:"login__form"},r.a.createElement(P,{type:"email",name:"email",placeholder:"Email",onChange:function(t){return e.setState({email:t})}}),r.a.createElement(P,{type:"password",name:"password",placeholder:"Password",onChange:function(t){return e.setState({password:t})}}),r.a.createElement(k,{onClick:function(){return e.onClick()},text:"Login"})),r.a.createElement("hr",{className:"login__hr"}),r.a.createElement(w.a,{appId:T.fb.appId,autoLoad:t,fields:"name,email,picture",scope:"public_profile,user_friends",onClick:function(t){return t&&e.setState({loginFB:!0})},callback:this.responseFacebook}))}}]),t}(n.Component)),X={addUserPicture:function(e,t){return function(a){var n=Object(q.a)({},e,{picture:t});a(Q(n,n.email))}},loginUser:function(e,t){return function(a){return function(e,t){return x.a.get(A.user.loginUser(e,M.encrypt(t)),{headers:T.headers})}(e,t).then(function(e){return Promise.resolve(e)})}},fetchUser:V},Z=Object(g.b)(null,X)(Object(O.g)($)),ee=a(23),te=[{value:"en",label:"English"},{value:"es",label:"Spanish"}],ae=(a(480),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.open=function(){a.setState({isOpen:!0})},a.toggle=function(){a.setState({isOpen:!a.state.isOpen})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"handleClickOutside",value:function(){this.setState({isOpen:!1})}},{key:"render",value:function(){var e=this.state.isOpen?"dropdown--is-open":"";return r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{className:"dropdown__label",onClick:this.toggle},this.props.label(this.state.isOpen)),r.a.createElement("div",{className:"dropdown__content-container"},r.a.createElement("div",{className:"dropdown__content ".concat(e)},this.props.children)))}}]),t}(n.Component)),ne=(a(481),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={lang:te[0]},a.changeLang=function(e){var t=a.props.i18n;a.setState({lang:e}),t.changeLanguage(e.value)},a.renderCurrentLanguage=function(e){var t=a.props.t;return r.a.createElement("div",{className:e?"apps__language-open":"apps__language"},t("Language"))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"apps"},r.a.createElement("div",{className:"apps__title"},"Apps & extras"),r.a.createElement("div",{className:"apps__item"},r.a.createElement(p.b,{to:"/tickets"},"Tickets")),r.a.createElement("div",{className:"apps__item"},r.a.createElement(p.b,{to:"/support"},"Support")),r.a.createElement("div",{className:"apps__item"},r.a.createElement(p.b,{to:"/charts"},"Charts")),r.a.createElement("div",{className:"apps__item"},r.a.createElement(p.b,{to:"/test"},"Test")),r.a.createElement("hr",null),r.a.createElement("div",{className:"apps__item"},r.a.createElement(ae,{label:function(t){return e.renderCurrentLanguage(t)}},te.map(function(t){return r.a.createElement("div",{key:t.value,className:"apps__option",onClick:function(){return e.changeLang(t)}},t.label)}))))}}]),t}(n.Component)),re=Object(g.b)(function(e){return{user:e.user}},{})(Object(h.c)()(Object(O.g)(ne))),ce=(a(482),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={messageList:[]},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"onMessageWasSent",value:function(e){this.setState({messageList:[].concat(Object(ee.a)(this.state.messageList),[e])})}},{key:"sendMessage",value:function(e){e.length>0&&this.setState({messageList:[].concat(Object(ee.a)(this.state.messageList),[{author:"them",type:"text",data:{text:e}}])})}},{key:"render",value:function(){return r.a.createElement("div",{className:"chat"},"Get new Chat-Window")}}]),t}(n.Component)),se=function(e){return e.length?x.a.get(A.stuff.listDetail(e),{headers:T.headers}):Promise.resolve([])},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return x.a.get(A.category.list(),{headers:T.headers,cancelToken:e})},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return x.a.get(A.subcategory.list(),{headers:T.headers,cancelToken:e})},ue=function(e,t){return x.a.post(A.stuff.addStuffiersStuff(),{id_stuffier:e,id_stuff:t},{headers:T.headers})},le=function(e,t,a){var n=[];return Promise.all([ie(a),oe(a)]).then(function(a){return a[0].data.forEach(function(t){t.name.toLowerCase().includes(e)&&n.push({type:"Category",name:t.name,id:t.id})}),a[1].data.forEach(function(t){t.name.toLowerCase().includes(e)&&n.push({type:"Subcategory",name:t.name,id:t.id})}),Object.keys(t).forEach(function(a){t[a].forEach(function(t){t.name.toLowerCase().includes(e)&&n.push({type:"Product",name:t.name,id:t.id})})}),Promise.resolve(n)})},de=function(e,t){return t.filter(function(t){return t.name.toLowerCase().includes(e)})},me=U("MENU::CATEGORIES_FETCHED"),fe=L(ie,me),pe=(L(function(e){return x.a.get(A.category.detail(e),{headers:T.headers})},U("MENU::CATEGORY_FETCHED")),L(function(e){var t=e.id,a=e.name;return x.a.post(A.category.add(),{id:t,name:a},{headers:T.headers})},U("MENU:CATEGORY_ADDED"))),he=U("MENU::SUBCATEGORIES_FETCHED"),ge=L(oe,he),Ee=(L(function(e){return x.a.get(A.subcategory.detail(e),{headers:T.headers})},U("MENU::SUBCATEGORY_FETCHED")),L(function(e){var t=e.id,a=e.name;return x.a.post(A.subcategory.add(),{id:t,name:a},{headers:T.headers})},U("MENU:SUBCATEGORY_ADDED"))),ve=(a(483),{CATEGORY:"category",SUBCATEGORY:"subcategory"}),be=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={isLoading:!1,id:"",name:"",categories:[],subcategories:[],tempObjects:null},a.createValue=function(){var e=a.props,t=e.addCategory,n=e.addSubCategory,r=e.type,c=a.state,s=c.categories,i=c.subcategories;r===ve.CATEGORY&&(a.setState({isLoading:!0}),t({name:a.state.name,id:Number(a.state.id)}).then(function(e){var t={_id:e.data._id,id:e.data.id,name:e.data.name};a.setState({categories:[].concat(Object(ee.a)(s),[t]),name:"",id:""})}).finally(function(){a.setState({isLoading:!1})})),r===ve.SUBCATEGORY&&(a.setState({isLoading:!0}),n({name:a.state.name,id:Number(a.state.id)}).then(function(e){var t={_id:e.data._id,id:e.data.id,name:e.data.name};a.setState({subcategories:[].concat(Object(ee.a)(i),[t]),name:"",id:""})}).finally(function(){a.setState({isLoading:!1})}))},a.renderValues=function(e){var t=a.props,n=t.categories,c=t.subcategories,s=e===ve.CATEGORY?n:c;return Object(S.map)(s,function(t){return r.a.createElement("li",{className:"add-category__item",key:"".concat(e,"_").concat(t.id)},r.a.createElement("span",{className:"add-category__id"},"(",t.id,")")," - ",t.name)})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.type;"subcategory"===e.type&&"category"===t&&this.setState({label:"Category"}),"category"===e.type&&"subcategory"===t&&this.setState({label:"SubCategory"})}},{key:"render",value:function(){var e=this,t=this.props.type;if(this.state.isLoading)return r.a.createElement(C,{size:"md"});var a=t===ve.CATEGORY?"Category":"SubCategory",n=t!==ve.CATEGORY?"Category":"SubCategory",c=t===ve.CATEGORY?ve.SUBCATEGORY:ve.CATEGORY;return r.a.createElement("div",{className:"add-category"},r.a.createElement("form",null,r.a.createElement("div",{className:"add-category__values"},r.a.createElement("div",null,r.a.createElement("h2",null,a),r.a.createElement("ul",{className:"add-category__list"},this.renderValues(t))),r.a.createElement("div",null,r.a.createElement("h2",null,n),r.a.createElement("ul",{className:"add-category__list"},this.renderValues(c)))),r.a.createElement("hr",null),r.a.createElement("div",{className:"add-category__row"},r.a.createElement("label",null,"Id"),r.a.createElement(P,{name:"id",type:"text",onChange:function(t){return e.setState({id:t})}})),r.a.createElement("div",{className:"add-category__row"},r.a.createElement("label",null,a),r.a.createElement(P,{name:"name",type:"text",onChange:function(t){return e.setState({name:t})}})),r.a.createElement("hr",null),r.a.createElement(k,{onClick:function(){return e.createValue()},text:"Send"})))}}]),t}(n.Component),ye={addCategory:pe,addSubCategory:Ee},_e=Object(g.b)(function(e){return{user:e.user,categories:e.categories,subcategories:e.subcategories}},ye)(be),Oe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={valueSelected:null},a.updateChange=function(e){var t=a.props,n=t.onChange,r=t.values,c=Number(e.target.value),s=Object(S.find)(r,function(e){return e.id===c});a.setState({valueSelected:c}),n(s)},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.values,t=this.state.valueSelected,a=e&&e[0]?e[0].id:null,n=t||a;return r.a.createElement("select",{onChange:this.updateChange,value:n},e&&e.map(function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)}))}}]),t}(n.Component),Se=(a(484),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.message,a=e.type;return t?r.a.createElement("div",{className:"warning-message warning-message__".concat(a)},t):r.a.createElement("div",null)}}]),t}(n.Component));!function(e){e.ERROR="error",e.SUCCESSFUL="successful",e.WARNING="warning",e.EMPTY=""}(y||(y={}));var je=a(55);function Ne(e){return Object(S.map)(e,function(e){return{id:e.id_stuff}})}function Ce(e,t){for(var a=Object.values(t),n=null,r=0;r<a.length&&!(n=a[r].find(function(t){return t.id===e}));r++);return n}function Re(e){return!Object.values(e).filter(function(e){return e.length>0}).length}var we=U("MENU::PRODUCT_FETCHED"),ke=U("MENU::PRODUCTS_FETCHED"),Pe=U("PRODUCTS::PRODUCT_ADDED"),Te=L(function(e){return x.a.get(A.stuff.detail(e),{headers:T.headers})},we),qe=(a(485),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={status:y.EMPTY,name:null,file_name:null,category:a.props.categories[0],product:{id:null,name:null},subcategory:a.props.subcategories[0],stuffStuffier:{},productsByCategories:[]},a.createProduct=function(){var e=a.props,t=e.addProduct,n=e.user,r=a.state,c=r.name,s=r.category,i=r.subcategory;c&&s&&i&&t({name:c,category:s.id,subcategory:i.id},n).then(function(e){a.setState({product:e,stuffStuffier:e,status:y.SUCCESSFUL})}).catch(function(){var e={name:c,category:s.id,subcategory:i.id};a.setState({product:e,stuffStuffier:e,status:y.ERROR})})},a.clearState=function(){a.setState({status:y.EMPTY,name:null,file_name:null,category:a.props.categories[0],subcategory:a.props.subcategories[0],product:{},stuffStuffier:{}})},a.getMessage=function(){var e=a.state,t=e.stuffStuffier,n=e.status,r=e.product,c=n===y.ERROR?"was not added":"was added successfully!";return r&&!Object(S.isEmpty)(t)?"Stuff ".concat(r.name," ").concat(c):""},a.updateCategory=function(e){a.renderProducts(e,a.state.subcategory),a.setState({category:e})},a.updateSubcategory=function(e){a.renderProducts(a.state.category,e),a.setState({subcategory:e})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.renderProducts(this.state.category,this.state.subcategory)}},{key:"setProduct",value:function(){var e=this,t=this.props,a=t.addRegisteredProduct,n=t.history;a(t.user,this.state.product).then(function(t){e.setState({stuffStuffier:t,status:y.SUCCESSFUL}),n.push("/products")})}},{key:"renderProducts",value:function(e,t){var a=this,n=this.props.products;(function(e,t){return x.a.get(A.stuff.detailFromCategories(e,t),{headers:T.headers})})(e.id,t.id).then(function(e){var t=e.data[0],r=e.data.filter(function(e){return e.id&&!Ce(e.id,n)});a.setState({productsByCategories:r,product:t})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.categories,n=t.subcategories,c=this.state,s=c.product,i=c.productsByCategories,o=c.category,u=c.status,l=c.subcategory;return r.a.createElement("div",{className:"add-product"},r.a.createElement("h3",null,"Add Stuff"),r.a.createElement(Se,{message:this.getMessage(),type:u}),r.a.createElement("hr",null),r.a.createElement("form",null,r.a.createElement("div",null,"Select Product"),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"Category"),r.a.createElement(Oe,{onChange:function(t){return e.updateCategory(t)},values:a})),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"SubCategory"),r.a.createElement(Oe,{onChange:function(t){return e.updateSubcategory(t)},values:n})),!i.length&&r.a.createElement("div",null,"There are no products"),i.length>0&&r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"Product"),r.a.createElement(Oe,{onChange:function(t){return e.setState({product:t})},values:i})),r.a.createElement("hr",null),r.a.createElement(k,{text:"Add Product",disabled:!(o&&l&&s&&s.name),onClick:function(){return e.setProduct()}}),r.a.createElement("hr",null),r.a.createElement("div",null,"Create New Product"),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"Name"),r.a.createElement(P,{name:"name",type:"text",onChange:function(t){return e.setState({name:t})}})),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"Category"),r.a.createElement(Oe,{onChange:function(t){return e.setState({category:t})},values:a})),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"SubCategory"),r.a.createElement(Oe,{onChange:function(t){return e.setState({subcategory:t})},values:n})),r.a.createElement("hr",null),r.a.createElement(k,{onClick:function(){return e.createProduct()},text:"Send"})))}}]),t}(n.Component)),De={addProduct:function(e,t){return function(a){return function(e){var t=e.name,a=e.category,n=e.subcategory,r=e.fileName;return x.a.post(A.stuff.addStuff(),{name:t,category:a,subcategory:n,file_name:r},{headers:T.headers})}(e).then(function(e){var a=e.data;return ue(t.id,a.id)}).then(function(){return a(Pe(e,t.email)),Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})}},addRegisteredProduct:function(e,t){return function(a){return ue(e.id,t.id).then(function(){return a(Pe(t,e.email)),Promise.resolve(t)}).catch(function(e){return Promise.reject(e)})}}},xe=Object(g.b)(function(e){return{user:e.user,categories:e.categories,subcategories:e.subcategories,products:e.products}},De)(Object(O.g)(qe)),Ue=F(function(){return x.a.get(A.user.userRequests(),{headers:T.headers})},U("STUFFIE:USER_REQUESTS_FETCHED")),Fe=F(function(e){return x.a.put(A.user.deleteUserRequest(e._id),Object(q.a)({},e,{request:!1}),{headers:T.headers})},U("STUFFIE::USER_REQUEST_DELETED")),Le=(a(486),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).executeRequest=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a.props.deleteRequest;t&&n(e).then(function(){return alert("Request Accepted and Deleted")})},a.renderRequests=function(){var e=a.props.userRequests;return r.a.createElement("div",{className:"admin__requests"},r.a.createElement("hr",null),r.a.createElement("h3",{className:"admin__title"},r.a.createElement("div",null,"User Requests"),r.a.createElement("div",{className:"admin__warning"},e.length)),r.a.createElement("ul",null,e.map(function(e,t){return r.a.createElement("li",{className:"admin__request",key:t},r.a.createElement("div",{className:"admin__request-text"},e.first_name," ",e.last_name," (",e.email,")"),r.a.createElement("div",{className:"admin__request-button"},r.a.createElement(k,{onClick:function(){return a.executeRequest(e,!0)},text:"Accept"})))})))},a.renderPendingProducts=function(){var e=a.props.pendingProducts;return console.log(e),r.a.createElement("div",{className:"admin__requests"},r.a.createElement("hr",null),r.a.createElement("h3",{className:"admin__title"},r.a.createElement("div",null,"Products Pending of Pics"),r.a.createElement("div",{className:"admin__warning"},e.length)),r.a.createElement("ul",null,e.map(function(e){return r.a.createElement("li",{key:e.id,className:"admin__request"},r.a.createElement("div",null,"Product: ",e.name),r.a.createElement("div",null,"Id: ",e.id," / Category: ",e.category," / Subcategory: ",e.subcategory))})))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.pendingProducts,a=e.userRequests;return r.a.createElement("div",{className:"admin"},t.length>0&&this.renderPendingProducts(),a.length>0&&this.renderRequests(),r.a.createElement("div",{className:"admin__link"},r.a.createElement(p.b,{to:"/category/add"},"Add Category")),r.a.createElement("hr",null),r.a.createElement("div",{className:"admin__link"},r.a.createElement(p.b,{to:"/subcategory/add"},"Add SubCategory")),r.a.createElement("hr",null))}}]),t}(n.Component)),Ae={deleteRequest:Fe},ze=Object(g.b)(function(e){return{userRequests:e.userRequests,pendingProducts:e.pendingProducts}},Ae)(Le),Ie=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.location,a=e.products,n=e.match.params.id,c=t.category||"";return r.a.createElement("div",{className:"category-page"},r.a.createElement("h3",null,c),r.a.createElement("ul",null,Object(S.map)(a[n],function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(p.b,{to:"/product/".concat(e.id)},e.name))})))}}]),t}(n.Component),Me=Object(g.b)(function(e){return{products:e.products}},{})(Ie),Ge=a(96),Be=function(e){return x.a.get("".concat(T.cloudinary.url,"/").concat(e))},He=(a(584),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={imageUrl:"default_product"},a.setUrl=function(){var e=a.props,t=e.fileName,n=e.category,r=e.subcategory;if(e.isProduct&&n&&r){var c="products/".concat(n,"/").concat(r,"/").concat(t);Be(c).then(function(){return a.setState({imageUrl:c})}).catch(function(){return a.setState({imageUrl:"default_product"})})}else a.setState({imageUrl:t})},a.renderImage=function(){var e=a.props,t=e.format,n=e.width,c=a.state.imageUrl,s="default_product"===c?"png":t;return r.a.createElement("div",{className:"media__image"},r.a.createElement(Ge.Image,{publicId:c,format:s},r.a.createElement(Ge.Transformation,{width:n,fetchFormat:"auto",crop:"scale"})))},a.renderVideo=function(){var e=a.props,t=e.fileName,n=e.format;return r.a.createElement(Ge.Video,{publicId:t,format:n})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){"mp4"!==this.props.format&&this.setUrl()}},{key:"componentDidUpdate",value:function(e){e.fileName!==this.props.fileName&&"mp4"!==this.props.format&&this.setUrl()}},{key:"render",value:function(){var e="mp4"===this.props.format;return r.a.createElement(Ge.CloudinaryContext,{cloudName:T.cloudinary.cloudName},e&&this.renderVideo(),!e&&this.renderImage())}}]),t}(n.Component)),Ye=(a(585),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).getProductType=function(){var e=a.props,t=e.feedPost,n=e.subcategories.find(function(e){return e.id===t.product.subcategory});return n?n.name:null},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"renderMessage",value:function(){var e=this.props.feedPost;return r.a.createElement("div",{className:"feed-row__description"},r.a.createElement("span",{className:"feed-row__name"},e.friend_firstName," ",e.friend_lastName," ")," added ",r.a.createElement("b",null,e.product.name)," in ",this.getProductType())}},{key:"render",value:function(){var e=this.props.feedPost,t={pathname:"/exchange",product:e.product,friend:e.friend_id};return r.a.createElement("div",{className:"feed-row"},this.renderMessage(),r.a.createElement("div",{className:"feed-row__image"},r.a.createElement(He,{fileName:e.product.id,category:e.product.category,subcategory:e.product.subcategory,format:"jpg",height:"100",width:"100",isProduct:"true"})),r.a.createElement("div",{className:"feed-row__actions"},r.a.createElement("div",{className:"feed-row__action feed-row__text"},"Ask for:"),r.a.createElement("div",{className:"feed-row__action feed-row__link"},"Loan"),r.a.createElement("div",{className:"feed-row__action feed-row__link"},r.a.createElement(p.b,{to:t},"Exchange")),r.a.createElement("div",{className:"feed-row__action feed-row__link"},"Buy")))}}]),t}(n.Component)),Ke={fetchProduct:Te},We=Object(g.b)(function(e){return{subcategories:e.subcategories}},Ke)(Ye);var Ve=U("USER::FRIENDS_FETCHED"),Je=U("FRIENDS::PRODUCTS_FETCHED"),Qe=(a(586),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1,feed:[]},a.componentDidMount=function(){var e=a.props,t=e.fetchFriendsProducts,n=e.friends;Object(S.isEmpty)(a.state.feed)&&(a.setState({isLoading:!0}),t(n).then(function(e){return a.generateFeed(e)}).finally(function(){return a.setState({isLoading:!1})}))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"generateFeed",value:function(e){var t=[];e.forEach(function(e){e.products&&e.products.forEach(function(a){t.push({friend_id:e.id,friend_firstName:e.first_name||"",friend_lastName:e.last_name||"",product:a,date:(new Date).toString()})})}),this.setState({feed:Object(S.sortBy)(t,"date")})}},{key:"render",value:function(){var e=this.props,t=e.friends,a=e.t,n=this.state,c=n.isLoading,s=n.feed;return c?r.a.createElement("div",{className:"content__loading"},r.a.createElement(C,{size:"xl",message:a("Loading-Feed")})):t.length&&s.length?r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"content__info"},r.a.createElement("div",{className:"content__rows"},Object(S.map)(s,function(e,t){return r.a.createElement(We,{key:t,feedPost:e})})))):r.a.createElement("div",null,"No Friends! Add friends!")}}]),t}(n.Component)),$e={fetchFriendsProducts:function(e){return function(t){var a=[];return function(e){if(e.length>0){var t=Object(S.map)(e,function(e){return{id_stuffier:e.id}});return x.a.get(A.stuff.listStuffiers(t),{headers:T.headers})}return Promise.resolve([])}(e).then(function(e){return a=e.data,se(Ne(e.data))}).then(function(n){var r=n.data,c=function(e,t,a){var n=[];return Object(S.forEach)(e,function(e){var r=a.filter(function(t){return t.id_stuffier===e.id}).map(function(e){return Object(S.find)(t,function(t){return t.id===e.id_stuff})});n.push(Object(q.a)({},e,{products:r}))}),n}(e,r,a);return t(Je(c)),Promise.resolve(c)})}}},Xe=Object(g.b)(function(e){return{user:e.user,friends:e.friends,subcategories:e.subcategories}},$e)(Object(h.c)()(Qe)),Ze=a(11),et=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}],tt=[{name:"axis",children:[{name:"Axes",size:1302},{name:"Axis",size:24593},{name:"AxisGridLine",size:652},{name:"AxisLabel",size:636},{name:"CartesianAxes",size:6703}]},{name:"controls",children:[{name:"AnchorControl",size:2138},{name:"ClickControl",size:3824},{name:"Control",size:1353},{name:"ControlList",size:4665},{name:"DragControl",size:2649},{name:"ExpandControl",size:2832},{name:"HoverControl",size:4896},{name:"IControl",size:763},{name:"PanZoomControl",size:5222},{name:"SelectionControl",size:7862},{name:"TooltipControl",size:8435}]},{name:"data",children:[{name:"Data",size:20544},{name:"DataList",size:19788},{name:"DataSprite",size:10349},{name:"EdgeSprite",size:3301},{name:"NodeSprite",size:19382},{name:"render",children:[{name:"ArrowType",size:698},{name:"EdgeRenderer",size:5569},{name:"IRenderer",size:353},{name:"ShapeRenderer",size:2247}]},{name:"ScaleBinding",size:11275},{name:"Tree",size:7147},{name:"TreeBuilder",size:9930}]},{name:"events",children:[{name:"DataEvent",size:7313},{name:"SelectionEvent",size:6880},{name:"TooltipEvent",size:3701},{name:"VisualizationEvent",size:2117}]},{name:"legend",children:[{name:"Legend",size:20859},{name:"LegendItem",size:4614},{name:"LegendRange",size:10530}]},{name:"operator",children:[{name:"distortion",children:[{name:"BifocalDistortion",size:4461},{name:"Distortion",size:6314},{name:"FisheyeDistortion",size:3444}]},{name:"encoder",children:[{name:"ColorEncoder",size:3179},{name:"Encoder",size:4060},{name:"PropertyEncoder",size:4138},{name:"ShapeEncoder",size:1690},{name:"SizeEncoder",size:1830}]},{name:"filter",children:[{name:"FisheyeTreeFilter",size:5219},{name:"GraphDistanceFilter",size:3165},{name:"VisibilityFilter",size:3509}]},{name:"IOperator",size:1286},{name:"label",children:[{name:"Labeler",size:9956},{name:"RadialLabeler",size:3899},{name:"StackedAreaLabeler",size:3202}]},{name:"layout",children:[{name:"AxisLayout",size:6725},{name:"BundledEdgeRouter",size:3727},{name:"CircleLayout",size:9317},{name:"CirclePackingLayout",size:12003},{name:"DendrogramLayout",size:4853},{name:"ForceDirectedLayout",size:8411},{name:"IcicleTreeLayout",size:4864},{name:"IndentedTreeLayout",size:3174},{name:"Layout",size:7881},{name:"NodeLinkTreeLayout",size:12870},{name:"PieLayout",size:2728},{name:"RadialTreeLayout",size:12348},{name:"RandomLayout",size:870},{name:"StackedAreaLayout",size:9121},{name:"TreeMapLayout",size:9191}]},{name:"Operator",size:2490},{name:"OperatorList",size:5248},{name:"OperatorSequence",size:4190},{name:"OperatorSwitch",size:2581},{name:"SortOperator",size:2023}]}],at=[{name:"Group A",value:400},{name:"Group B",value:300},{name:"Group C",value:300},{name:"Group D",value:200}],nt=[{name:"A1",value:100},{name:"A2",value:300},{name:"B1",value:100},{name:"B2",value:80},{name:"B3",value:40},{name:"B4",value:30},{name:"B5",value:50},{name:"C1",value:100},{name:"C2",value:200},{name:"D1",value:150},{name:"D2",value:50}],rt=[{name:"18-24",uv:31.47,pv:2400,fill:"#8884d8"},{name:"25-29",uv:26.69,pv:4567,fill:"#83a6ed"},{name:"30-34",uv:15.69,pv:1398,fill:"#8dd1e1"},{name:"35-39",uv:8.22,pv:9800,fill:"#82ca9d"},{name:"40-49",uv:8.63,pv:3908,fill:"#a4de6c"},{name:"50+",uv:2.63,pv:4800,fill:"#d0ed57"},{name:"unknow",uv:6.67,pv:4800,fill:"#ffc658"}],ct=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={barChartData:[],treemapChartData:[],pieChartData01:[],pieChartData02:[],radialChartData:[]},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ze.d,{width:600,height:300,data:et,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(Ze.q,{dataKey:"name"}),r.a.createElement(Ze.r,null),r.a.createElement(Ze.e,{strokeDasharray:"3 3"}),r.a.createElement(Ze.o,null),r.a.createElement(Ze.f,null),r.a.createElement(Ze.c,{dataKey:"pv",fill:"#8884d8"}),r.a.createElement(Ze.c,{dataKey:"uv",fill:"#82ca9d"})),r.a.createElement(Ze.h,{width:600,height:300,data:et},r.a.createElement(Ze.q,{dataKey:"name",padding:{left:30,right:30}}),r.a.createElement(Ze.r,null),r.a.createElement(Ze.e,{strokeDasharray:"3 3"}),r.a.createElement(Ze.o,null),r.a.createElement(Ze.f,null),r.a.createElement(Ze.g,{type:"monotone",dataKey:"pv",stroke:"#8884d8",activeDot:{r:8}}),r.a.createElement(Ze.g,{type:"monotone",dataKey:"uv",stroke:"#82ca9d"})),r.a.createElement(Ze.b,{width:730,height:250,data:et,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})),r.a.createElement("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0}))),r.a.createElement(Ze.q,{dataKey:"name"}),r.a.createElement(Ze.r,null),r.a.createElement(Ze.e,{strokeDasharray:"3 3"}),r.a.createElement(Ze.o,null),r.a.createElement(Ze.a,{type:"monotone",dataKey:"uv",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"}),r.a.createElement(Ze.a,{type:"monotone",dataKey:"pv",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorPv)"})),r.a.createElement(Ze.p,{width:730,height:250,data:tt,dataKey:"size",aspectRatio:4/3,stroke:"#fff",fill:"#8884d8"}),r.a.createElement(Ze.j,{width:800,height:400},r.a.createElement(Ze.i,{dataKey:"value",data:at,cx:200,cy:200,outerRadius:60,fill:"#8884d8"}),r.a.createElement(Ze.i,{dataKey:"value",data:nt,cx:200,cy:200,innerRadius:70,outerRadius:90,fill:"#82ca9d",label:!0})),r.a.createElement(Ze.n,{width:730,height:250,margin:{top:20,right:20,bottom:10,left:10}},r.a.createElement(Ze.e,{strokeDasharray:"3 3"}),r.a.createElement(Ze.q,{dataKey:"value",name:"stature",unit:"cm"}),r.a.createElement(Ze.r,{dataKey:"value",name:"weight",unit:"cm"}),r.a.createElement(Ze.o,{cursor:{strokeDasharray:"3 3"}}),r.a.createElement(Ze.f,null),r.a.createElement(Ze.m,{name:"Data01",data:at,fill:"#8884d8"}),r.a.createElement(Ze.m,{name:"Data02",data:nt,fill:"#82ca9d"})),r.a.createElement(Ze.l,{width:730,height:250,innerRadius:"10%",outerRadius:"80%",data:rt,startAngle:180,endAngle:0},r.a.createElement(Ze.k,{angleAxisId:15,label:{fill:"#666",position:"insideStart"},background:!0,dataKey:"uv"}),r.a.createElement(Ze.f,{iconSize:10,width:120,height:140,layout:"vertical",verticalAlign:"middle",align:"right"}),r.a.createElement(Ze.o,null)))}}]),t}(n.Component),st=(a(698),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).source=null,a.state={isLoading:!1,isOpen:!1,results:[]},a.open=function(){a.setState({isOpen:!0})},a.toggle=function(){a.setState({isOpen:!a.state.isOpen})},a.fetchResults=function(e){var t=a.props,n=t.products,r=t.selectProduct;a.source&&a.source.cancel("Cancel pending requests."),a.source=x.a.CancelToken.source(),a.setState({isOpen:!0,isLoading:!0}),e?r?a.setState({results:de(e,n),isOpen:!0,isLoading:!1}):le(e,n,a.source.token).then(function(e){e.length?a.setState({results:e,isOpen:!0,isLoading:!1}):a.setState({isOpen:!1,isLoading:!1})}):a.setState({isOpen:!1,isLoading:!1})},a.getLinkTo=function(e){return Object(je.a)({pathname:"/".concat(e.type.toLowerCase(),"/").concat(e.id)},e.type.toLowerCase(),e.name)},a.renderResultName=function(e){var t=e.type?e.type[0]:"P";return r.a.createElement("div",{className:"search__result-info"},r.a.createElement("div",{className:"search__result-name"},e.name),r.a.createElement("div",{className:"search__result-type search__result-".concat(t)},"| ",t))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"handleClickOutside",value:function(){this.setState({isOpen:!1})}},{key:"renderResults",value:function(){var e=this,t=this.state.results,a=this.props.selectProduct;if(t.length)return r.a.createElement("div",{className:"search__results"},t.map(function(t,n){return r.a.createElement("div",{className:"search__result",key:n},!a&&r.a.createElement(p.b,{key:n,className:"search__result-link",to:e.getLinkTo(t)},e.renderResultName(t)),a&&r.a.createElement("button",{key:n,onClick:function(e){return e&&a(t)}},e.renderResultName(t)))}))}},{key:"render",value:function(){var e=this,t=this.state.isLoading,a=this.state.isOpen?"dropdown--is-open":"";return r.a.createElement("div",{className:"search-bar"},r.a.createElement("div",{className:"search-bar__form"},r.a.createElement(P,{name:"search",type:"input",placeholder:"Find stuff...",onChange:function(t){return e.fetchResults(t)}}),r.a.createElement("div",{className:"search-bar__button"},r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement("div",{className:"search-bar__content-container"},r.a.createElement("div",{className:"search-bar__content ".concat(a)},t&&r.a.createElement(C,{size:"md"}),!t&&this.renderResults())))}}]),t}(n.Component)),it=U("EXCHANGE::REQUESTED"),ot=U("EXCHANGES::FETCHED"),ut=U("EXCHANGE::DELETED"),lt=(a(699),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={userProducts:[],selectedProduct:{},message:"",type:y.EMPTY},a.requestExchange=function(){var e=a.props,t=e.exchangeRequest,n=e.history,r=e.location,c=e.user,s=a.state.selectedProduct,i=r.friend;console.log("This is to execute request exchange"),t(i,r.product.id,c.id,Object(S.get)(s,"id")).then(function(){return a.setState({message:"Exchange request successfully",type:y.SUCCESSFUL})}).catch(function(){return a.setState({message:"Exchange request failed",type:y.SUCCESSFUL})}).finally(function(){return n.push("/")})},a.selectProduct=function(e){a.setState({selectedProduct:e})},a.renderProduct=function(e){var t=a.props,n=t.categories,c=t.subcategories,s=n.filter(function(t){return t.id===e.category})[0],i=c.filter(function(t){return t.id===e.subcategory})[0];return r.a.createElement("div",{className:"exchange__product"},r.a.createElement(He,{fileName:e.id,category:e.category,subcategory:e.subcategory,format:"jpg",height:"100",width:"100",isProduct:"true"}),r.a.createElement("div",{className:"exchange__product-info"},r.a.createElement("div",null,e.name),r.a.createElement("div",null,s.name),r.a.createElement("div",null,i.name)))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t=this.props,a=t.location,n=t.products,r=a.product,c=(e=n,Object.values(e).filter(function(e){return e.length>0}).flat()).filter(function(e){return e.category===r.category||e.subcategory===r.subcategory});this.setState({userProducts:c})}},{key:"render",value:function(){var e=this,t=this.props.location,a=this.state,n=a.selectedProduct,c=a.userProducts,s=a.message,i=a.type,o=t.product;if(c)return o?r.a.createElement("div",{className:"exchange"},r.a.createElement(Se,{message:s,type:i}),r.a.createElement("div",{className:"exchange__header"},r.a.createElement(st,{products:c,selectProduct:function(t){return e.selectProduct(t)}})),!Object(S.isEmpty)(n)&&r.a.createElement("div",{className:"exchange__content"},r.a.createElement("div",{className:"exchange__compare"},this.renderProduct(n),r.a.createElement("div",{className:"exchange__line"}),this.renderProduct(o)),r.a.createElement(k,{type:"submit",onClick:this.requestExchange,text:"Request Exchange"}))):r.a.createElement(O.a,{to:"/"})}}]),t}(n.Component)),dt={exchangeRequest:function(e,t,a,n){return function(r){return(c=e,s=t,i=a,o=n,x.a.post(A.exchange.request(),{id_stuffier:c,id_friend:i,id_stuff:s,id_friend_stuff:o},{headers:T.headers})).then(function(t){r(it(t.data,e)),Promise.resolve(t.data)}).catch(function(e){return Promise.reject(e)});var c,s,i,o}}},mt=Object(g.b)(function(e){return{categories:e.categories,products:e.products,subcategories:e.subcategories,user:e.user}},dt)(Object(O.g)(lt)),ft=(a(700),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).textField=r.a.createRef(),a.state={requests:[],emailToRequest:"",message:null,textfield:null,executeStatus:y.EMPTY},a.executeRequest=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a.props.user,r=[Y(n.email,e.id)];t&&r.push(K(n.email,e.id)),Promise.all(r).then(function(e){!t&&a.setState({executeStatus:y.WARNING}),console.log(e[0].data),t&&a.setState({executeStatus:y.SUCCESSFUL}),t&&console.log(e[1].data)}).catch(function(){return a.setState({executeStatus:y.ERROR})})},a.renderRequests=function(){var e=a.state.requests;return r.a.createElement("div",{className:"friends__requests"},r.a.createElement("hr",null),r.a.createElement("h3",{className:"friends__title"},r.a.createElement("div",null,"Requests"),r.a.createElement("div",{className:"friends__warning"},e.length)),r.a.createElement("ul",null,e.map(function(e,t){return r.a.createElement("li",{className:"friends__request",key:t},r.a.createElement("div",{className:"friends__request-text"},e.first_name," ",e.last_name," (",e.email,")"),r.a.createElement("div",{className:"friends__request-button"},r.a.createElement(k,{onClick:function(){return a.executeRequest(e,!0)},text:"Accept"})),r.a.createElement("div",{className:"friends__request-button"},r.a.createElement(k,{onClick:function(){return a.executeRequest(e)},text:"Reject"})))})))},a.handleRequest=function(){var e=a.props.user,t=a.state.emailToRequest;H(t,e.id).then(function(){return a.setState({message:"Request sent succesfully",emailToRequest:""})}).catch(function(){return a.setState({message:"Request couldnt be sent",emailToRequest:""})})},a.getMessage=function(){var e=a.state,t=e.emailToRequest,n=e.executeStatus,r=n===y.ERROR?"was not added":n===y.WARNING?"was rejected!":n===y.SUCCESSFUL?"was accepted!":null;return r?"Friend ".concat(t," ").concat(r):""},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.friendsRequests;a.length>0&&G((e=a,Object(S.map)(e,function(e){return{id:e.id_friend}}))).then(function(e){return t.setState({requests:e.data})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.friends,n=t.t,c=t.user,s=this.state,i=s.requests,o=s.message,u=s.emailToRequest,l=s.executeStatus;return r.a.createElement("div",{className:"friends"},r.a.createElement("h2",{className:"friends__title"},n("Friends-Title",{first_name:c.first_name})),r.a.createElement(Se,{message:this.getMessage(),type:l}),r.a.createElement("ul",null,a.map(function(e){return r.a.createElement("li",{key:e.id},e.first_name," ",e.last_name," - ",e.email)})),i.length>0&&this.renderRequests(),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("h3",{className:"friends__title"},n("Add-Friend")),r.a.createElement("div",{className:"friends__form"},r.a.createElement(P,{placeholder:"Friend Email",type:"text",name:"friend_email",value:u,onChange:function(t){return e.setState({emailToRequest:t})}}),r.a.createElement("div",{className:"friends__button"},r.a.createElement(k,{text:"Request",onClick:function(){return e.handleRequest()}}))),o&&r.a.createElement("div",{className:"friends__message"},o)))}}]),t}(n.Component)),pt=Object(g.b)(function(e){return{user:e.user,friends:e.friends,friendsRequests:e.friendsRequests}},{})(Object(h.c)()(ft)),ht=a(98),gt=a.n(ht),Et=".xlsx";function vt(e,t){var a=function(e){var t=[];return Object.keys(e).forEach(function(a){if(e[a].length>0){t.length||(t=[(r={id:e[a][0].id,name:e[a][0].name,category:e[a][0].category,subcategory:e[a][0].subcategory},Object.keys(r).map(function(e){return(t=e).charAt(0).toUpperCase()+t.slice(1);var t}))]);var n=e[a].map(function(e){return[e.id,e.name,e.category,e.subcategory]});t=[].concat(Object(ee.a)(t),Object(ee.a)(n))}var r}),t}(e),n=gt.a.utils.book_new(),r=gt.a.utils.aoa_to_sheet(a);gt.a.utils.book_append_sheet(n,r,"Products_Sheet"),gt.a.writeFile(n,"".concat(t).concat(Et))}a(704);var bt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).generateReport=function(){var e=a.props,t=e.products,n=e.user;vt(t,"".concat(n.first_name,"_products"))},a.executeDeleteExchange=function(e){(0,a.props.deleteRequest)(e).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},a.renderRequests=function(){var e=a.props,t=e.exchangeRequests,n=e.friends,c=e.user;return r.a.createElement("div",{className:"products__requests"},r.a.createElement("hr",null),r.a.createElement("h3",{className:"products__requests-title"},r.a.createElement("div",null,"Exchange Requests"),r.a.createElement("div",{className:"products__warning"},t.length)),r.a.createElement("ul",null,t.map(function(e,t){var s=e.id_stuffier===c.id?c:n.filter(function(t){return t.id===e.id_stuffier})[0],i=e.id_friend===c.id?c:n.filter(function(t){return t.id===e.id_friend})[0],o=c===i,u=c===s,l=o?"Cancel":"Reject";return r.a.createElement("li",{className:"products__request",key:t},r.a.createElement("div",{className:"products__request-group"},r.a.createElement("div",{className:"products__request-text"},"Owner: ",u?"Me":"".concat(s.first_name," ").concat(s.last_name," (").concat(s.email,")")),r.a.createElement("div",{className:"products__request-text"},"Requestor: ",o?"Me":"".concat(i.first_name," ").concat(i.last_name," (").concat(i.email,")"))),r.a.createElement("div",{className:"products__request-buttons"},!o&&r.a.createElement("div",{className:"products__request-button"},r.a.createElement(k,{onClick:function(){return console.log("Accept Exchange")},text:"Accept"})),r.a.createElement("div",{className:"products__request-button"},r.a.createElement(k,{onClick:function(){return a.executeDeleteExchange(e._id)},text:l}))))})))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.categories,n=t.exchangeRequests,c=t.history,s=t.products,i=t.user;return r.a.createElement("div",{className:"products"},r.a.createElement("div",{className:"products__title"},r.a.createElement("h2",null,i.first_name," Stuff"),r.a.createElement("div",{className:"products__add-product"},r.a.createElement(k,{text:"Add Product",onClick:function(){return c.push("/product/add")}}))),n.length>0&&this.renderRequests(),r.a.createElement("hr",null),Re(s)&&r.a.createElement("div",null,"No Stuff! Add Products!"),!Re(s)&&r.a.createElement("div",null,a.map(function(e){if(s[e.id]&&s[e.id].length)return r.a.createElement("div",{key:e.id},r.a.createElement("h4",null,e.name),r.a.createElement("ul",null,Object(S.map)(s[e.id],function(t){return r.a.createElement("li",{key:"".concat(e.id,"_").concat(t.id)},r.a.createElement(p.b,{to:"/product/".concat(t.id)},t.name))})))}),r.a.createElement("hr",null),r.a.createElement(k,{onClick:function(){return e.generateReport()},text:"Generate Report"})))}}]),t}(n.Component),yt={deleteRequest:function(e){return function(t){return function(e){return x.a.delete(A.exchange.deleteRequest(e),{headers:T.headers})}(e).then(function(e){var a=e.data.result[0];t(ut(a)),Promise.resolve(a)}).catch(function(e){return Promise.reject(e)})}}},_t=Object(g.b)(function(e){return{user:e.user,categories:e.categories,friends:e.friends,exchangeRequests:e.exchangeRequests,products:e.products}},yt)(bt),Ot=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={id:null,product:{name:null,id:null,category:null,subcategory:null}},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,a=e.products,n=parseInt(t.params.id);this.setState({id:n,product:Ce(n,a)})}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.match,r=a.products,c=parseInt(n.params.id);c!==t.id&&this.setState({id:n.params.id,product:Ce(c,r)})}},{key:"render",value:function(){var e=this.props,t=e.categories,a=e.subcategories,n=this.state.product;if(!n)return r.a.createElement(C,{size:"lg",message:"Loading product..."});var c=Object(S.find)(t,function(e){return e.id===n.category}),s=Object(S.find)(a,function(e){return e.id===n.subcategory});return r.a.createElement("div",{className:"product"},r.a.createElement("h3",null,n.name),r.a.createElement("hr",null),r.a.createElement(He,{fileName:n.id,category:n.category,subcategory:n.subcategory,isProduct:"true",height:"200",width:"100"}),r.a.createElement("hr",null),r.a.createElement("div",null,"Category: ",c&&c.name," "),r.a.createElement("div",null,"Subcategory: ",s&&s.name," "))}}]),t}(n.Component),St=Object(g.b)(function(e){return{categories:e.categories,products:e.products,subcategories:e.subcategories}},{})(Ot),jt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("iframe",{src:"https://webchat.botframework.com/embed/StuffieBot?s=fkpQavtTB78.cwA.pjM.9djZJuhRob4Mt-Lb5-1Wk7yrsHtLAxOKIL6w3gE4910",title:"WebChat"})}}]),t}(n.Component),Nt=a(317),Ct=a.n(Nt),Rt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={file:"",progressValue:0},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){if(e&&e.target&&e.target.files){var t=e.target.files[0];this.setState({file:t})}}},{key:"handleSubmit",value:function(e){e.stopPropagation(),e.preventDefault(),Ct.a.recognize(this.state.file,"eng").progress(this.progressUpdate).then(this.result)}},{key:"result",value:function(e){var t=document.getElementById("info"),a=document.getElementById("result");t.innerHTML="Finished!",a.innerHTML=e?e.text:""}},{key:"progressUpdate",value:function(e){if("progress"in e){var t=document.querySelector("progress");t.value=e.progress,t.max=1,document.getElementById("info").innerHTML="Analyzing file..."}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"tickets"},r.a.createElement("h3",null,"Tickets"),r.a.createElement("div",{className:"ticketsForm"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("input",{type:"file",id:"fileId",name:"fileName",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("hr",null),r.a.createElement("input",{type:"submit",value:"Analyze",disabled:!this.state.file}))),r.a.createElement("hr",null),r.a.createElement("div",{id:"status",className:"ticketsStatus"},r.a.createElement("progress",{value:this.state.progressValue,max:"100"}),r.a.createElement("span",{id:"statusInfo",className:"statusInfo"},"Status: ",r.a.createElement("span",{id:"info"}))),r.a.createElement("hr",null),r.a.createElement("div",{id:"result"}))}}]),t}(n.Component),wt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).authenticate=function(){console.log("secreto: ".concat(M.encrypt("secreto"))),console.log("mario: ".concat(M.encrypt("mario"))),console.log("doc: ".concat(M.encrypt("secrdoceto"))),console.log("merol: ".concat(M.encrypt("merol")))},a.getStuff=function(){var e=[1,1,2,3,4,5];return e.filter(function(t,a){return e.indexOf(t)===a})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"reverseStuff",value:function(e){return e.split("").reverse().join("")}},{key:"render",value:function(){this.authenticate();var e=this.getStuff(),t=this.reverseStuff("unodostres");return r.a.createElement("div",null,r.a.createElement("span",null,"This is my test = ",t),r.a.createElement("span",null,"This is my other test = ",e))}}]),t}(n.Component),kt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(O.d,null,r.a.createElement(O.b,{exact:!0,path:"/",component:Xe}),r.a.createElement(O.b,{path:"/admin",component:ze}),r.a.createElement(O.b,{path:"/friends",component:pt}),r.a.createElement(O.b,{path:"/products",component:_t}),r.a.createElement(O.b,{path:"/product/add",component:xe}),r.a.createElement(O.b,{path:"/product/:id",render:function(e){return r.a.createElement(St,e)}}),r.a.createElement(O.b,{path:"/category/add",render:function(){return r.a.createElement(_e,{type:"category"})}}),r.a.createElement(O.b,{path:"/category/:id",render:function(t){return r.a.createElement(Me,Object.assign({},t,e.props))}}),r.a.createElement(O.b,{path:"/subcategory/add",render:function(){return r.a.createElement(_e,{type:"subcategory"})}}),r.a.createElement(O.b,{path:"/exchange",render:function(t){return r.a.createElement(mt,Object.assign({},t,e.props))}}),r.a.createElement(O.b,{path:"/charts",component:ct}),r.a.createElement(O.b,{path:"/support",component:jt}),r.a.createElement(O.b,{path:"/tickets",component:Rt}),r.a.createElement(O.b,{path:"/test",component:wt}))}}]),t}(n.Component),Pt=(a(707),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("hr",null),"Stuffie\u2122 is a platform coded and registered by \xa0",r.a.createElement("a",{href:"http://stuffie.azurewebsites.net/PM_Carlos-Reyes2.html",target:"_blank"},"Carlos Reyes-Rico"),".")}}]),t}(n.Component)),Tt=(a(708),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(e){var t=a.props,n=t.logout,r=t.history;e.preventDefault(),n(),r.push("/")},a.toggleMenu=function(){var e=document.getElementById("apps");"block"===e.style.display?e.style.display="none":e.style.cssText="\n        display: block;\n        float: right;\n        top: 28px; right: 0px;\n        position: absolute; background-color: white;\n        width: 146px;\n        padding: 8px;\n        box-shadow: 5px 5px #888888;\n        border-radius: 6px;      \n      "},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.friendsRequests,n=t.exchangeRequests,c=t.pendingProducts,s=t.products,i=t.t,o=t.user,u=t.userRequests,l=n.length>0?"stuffie-header__section-exchange":"";if(i)return r.a.createElement("div",{className:"stuffie-header"},r.a.createElement("div",{className:"stuffie-header__left"},r.a.createElement("div",{className:"stuffie-header__info"},r.a.createElement("div",{className:"stuffie-header__logo"},r.a.createElement(He,{fileName:"logo_2020",format:"jpg",height:"50",width:"50"})),r.a.createElement("div",{className:"stuffie-header__user"},"Stuffie")),r.a.createElement("div",{className:"stuffie-header__sections"},r.a.createElement("div",{className:"stuffie-header__section-item"},r.a.createElement(p.b,{to:"/"},i("Feed"))),r.a.createElement("div",{className:"stuffie-header__section-item"},r.a.createElement(p.b,{to:"/friends"},i("Friends")),a.length>0&&r.a.createElement("div",{className:"stuffie-header__warning"},a.length)),r.a.createElement("div",{className:"stuffie-header__section-item ".concat(l)},r.a.createElement(p.b,{to:"/products"},window.innerWidth>=1024?"Products":"Prods"),n.length>0&&r.a.createElement("div",{className:"stuffie-header__warning"},n.length)),o.admin&&r.a.createElement("div",{className:"stuffie-header__section-item"},r.a.createElement(p.b,{to:"/admin"},i("Admin")),(u.length>0||c.length>0)&&r.a.createElement("div",{className:"stuffie-header__warning"},u.length+c.length)),r.a.createElement("div",{className:"stuffie-header__logout"},r.a.createElement("a",{onClick:this.handleLogout},i("Logout"))))),r.a.createElement("div",{className:"stuffie-header__search"},r.a.createElement(st,{products:s}),r.a.createElement("div",{className:"stuffie-header__menu"},r.a.createElement("div",{id:"apps"},r.a.createElement(re,null)),r.a.createElement("a",{className:"icon",onClick:function(t){return t&&e.toggleMenu()}},r.a.createElement("i",{className:"fa fa-bars"})))))}}]),t}(n.Component)),qt={logout:function(){return localStorage.removeItem("picture"),localStorage.removeItem("username"),{type:"STUFFIE::REVOKE_USER"}}},Dt=Object(g.b)(function(e){return{user:e.user,userRequests:e.userRequests,friendsRequests:e.friendsRequests,products:e.products,exchangeRequests:e.exchangeRequests,pendingProducts:e.pendingProducts}},qt)(Object(h.c)()(Object(O.g)(Tt))),xt=(a(709),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).renderCategories=function(){var e=a.props,t=e.categories,n=e.products;if(t&&n)return t.filter(function(e){return n[e.id]&&n[e.id].length}).map(function(e){var t={pathname:"/category/".concat(e.id),category:e.name};return r.a.createElement("div",{key:e.id,className:"menu__category"},r.a.createElement(p.b,{className:"",key:e.id,to:t},e.name))})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.products,a=e.t;return r.a.createElement("div",null,r.a.createElement("div",{className:"menu__title"},a("Summary")),Re(t)&&r.a.createElement("div",null,"No products"),r.a.createElement("div",{className:"menu__list"},this.renderCategories()))}}]),t}(n.Component)),Ut=Object(g.b)(function(e){return{user:e.user,categories:e.categories,products:e.products}},{})(Object(h.c)()(xt)),Ft=(a(710),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.t;return r.a.createElement("div",{className:"stuffie"},r.a.createElement("div",{className:"stuffie__header"},r.a.createElement(Dt,null)),r.a.createElement("div",{className:"stuffie__main"},r.a.createElement("div",{className:"stuffie__menu"},r.a.createElement(Ut,null)),r.a.createElement("div",{className:"stuffie__content"},r.a.createElement(kt,null)),r.a.createElement("div",{className:"stuffie__right"},r.a.createElement("div",{className:"stuffie__user"},t.picture&&r.a.createElement("img",{src:t.picture}),r.a.createElement("div",{className:"stuffie__welcome"},a("Welcome")," ",t.first_name)),r.a.createElement("div",{className:"stuffie__apps"},r.a.createElement(re,null)))),r.a.createElement("div",{className:"stuffie_footer"},r.a.createElement(Pt,null)),r.a.createElement(ce,null))}}]),t}(n.Component)),Lt=Object(g.b)(function(e){return{user:e.user}},{})(Object(h.c)()(Ft)),At=U("MENU::FRIENDS_REQUESTS_FETCHED"),zt=U("ADMIN::PENDING_PRODUCTS_FETCHED"),It=(a(711),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!0},a.fetchData=function(){var e=a.props,t=e.user,n=e.fetchCategories,r=e.fetchFriends,c=e.fetchSubCategories,s=e.fetchProducts,i=e.fetchFriendsRequests,o=e.fetchExchangeRequests,u=e.fetchPendingProducts,l=e.fetchUserRequests,d=[n(),c(),r(t.email),i(t.email),o(t.id)],m=[l(),u()];t.admin&&(d=[].concat(Object(ee.a)(d),m)),Promise.all(d).then(function(e){return s(t,e[0].data)}).catch(function(e){return console.log(e)}).finally(function(){return a.setState({isLoading:!1})})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this.props.t;return this.state.isLoading?r.a.createElement("div",{className:"fetch-data__loading"},r.a.createElement(C,{size:"xl",message:e("Loading-data")})):r.a.createElement(Lt,null)}}]),t}(n.Component)),Mt={fetchCategories:fe,fetchFriends:function(e){return function(t){return function(e){return x.a.get(A.user.friends(e),{headers:T.headers})}(e).then(function(e){return G((t=e.data,Object(S.map)(t,function(e){return{id:e.id_friend}})));var t}).then(function(a){var n=a.data||[];return t(Ve(n,e)),Promise.resolve(n)})}},fetchFriendsRequests:function(){return function(e){return x.a.get(A.user.friendsRequest(t),{headers:T.headers}).then(function(t){return e(At(t.data)),Promise.resolve(t.data)});var t}},fetchProducts:function(e,t){return function(a){return(n=e.id,x.a.get(A.stuff.listForStuffier(n),{headers:T.headers})).then(function(e){return se(Ne(e.data))}).then(function(n){var r=n.data,c=function(e,t){var a={};return Object(S.forEach)(e,function(e){a=Object(q.a)({},a,Object(je.a)({},e.id,[]))}),Object(S.isEmpty)(a)||Object(S.forEach)(t,function(e){a[e.category].push(e)}),a}(t,r);return a(ke(c,e.email)),Promise.resolve(c)});var n}},fetchSubCategories:ge,fetchExchangeRequests:function(e){return function(t){return(a=e,x.a.get(A.exchange.list(a),{headers:T.headers})).then(function(a){t(ot(a.data,e)),Promise.resolve(a.data)}).catch(function(e){return Promise.reject(e)});var a}},fetchPendingProducts:function(){return function(e){return x.a.get(A.stuff.listPendingPics(),{headers:T.headers}).then(function(t){return e(zt(t.data)),Promise.resolve(t.data)}).catch(function(e){return Promise.reject(e)})}},fetchUserRequests:Ue},Gt=Object(g.b)(function(e){return{user:e.user}},Mt)(Object(h.c)()(It)),Bt=(a(712),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",firstName:"",lastName:"",isLoading:!1},a.handleSubmit=function(e){var t=a.props,n=t.registerUser,r=t.setMessage,c=a.state,s={email:c.email,password:c.password,first_name:c.firstName,last_name:c.lastName,admin:!1};e.preventDefault(),a.setState({isLoading:!0}),n(s).then(function(e){localStorage.setItem("username",e.email),r("Register Successful. Request to be accepted by Admin. Do not login yet!")}).catch(function(e){return r("Error: Couldn't register. Try again.")}).finally(function(){return a.setState({isLoading:!1})})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"enableButton",value:function(){var e=this.state,t=e.email,a=e.password,n=e.firstName,r=e.lastName;return t.length>0&&a.length>0&&n.length>0&&r.length>0}},{key:"render",value:function(){var e=this,t=this.state.isLoading;return r.a.createElement("div",{className:"register"},r.a.createElement("h1",null,"Register"),r.a.createElement("form",{className:"register__form",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"register__content"},r.a.createElement("div",{className:"register__row"},r.a.createElement("div",{className:"register__text"},"Email"),r.a.createElement(P,{type:"text",name:"email",placeholder:"Email",disabled:t,onChange:function(t){return e.setState({email:t})}})),r.a.createElement("div",{className:"register__row"},r.a.createElement("div",{className:"register__text"},"Password"),r.a.createElement(P,{type:"password",name:"password",placeholder:"Password",disabled:t,onChange:function(t){return e.setState({password:t})}})),r.a.createElement("div",{className:"register__row"},r.a.createElement("div",{className:"register__text"},"First Name"),r.a.createElement(P,{type:"text",name:"firstName",placeholder:"First Name",disabled:t,onChange:function(t){return e.setState({firstName:t})}})),r.a.createElement("div",{className:"register__row"},r.a.createElement("div",{className:"register__text"},"Last Name"),r.a.createElement(P,{type:"text",name:"lastName",placeholder:"Last Name",disabled:t,onChange:function(t){return e.setState({lastName:t})}}))),r.a.createElement("div",{className:"register__button"},r.a.createElement(k,{type:"submit",text:"Register",disabled:!this.enableButton()||t}),t&&r.a.createElement("div",{className:"register__loading"},r.a.createElement(C,{size:"md"})))))}}]),t}(n.Component)),Ht={registerUser:function(e){return function(t){return B(e).then(function(){return t(J(e,e.email)),Promise.resolve(e)})}}},Yt=Object(g.b)(function(e){return{user:e.user}},Ht)(Object(O.g)(Bt)),Kt=(a(713),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!0,message:""},a.getMessageType=function(e){return e.toLowerCase().includes("Error")?y.ERROR:e.toLowerCase().includes("successful")?y.SUCCESSFUL:y.WARNING},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.fetchUser;localStorage.getItem("username")?t(localStorage.getItem("username")).finally(function(){return e.setState({isLoading:!1})}):this.setState({isLoading:!1})}},{key:"componentDidUpdate",value:function(e,t){e.user!==this.props.user&&this.setState({message:""})}},{key:"render",value:function(){var e=this,t=this.props.user,a=this.state,n=a.isLoading,c=a.message,s=Object(S.get)(t,"request"),i=s?"User already registered, wait for authorization. Don't register again.":c;return n?r.a.createElement("div",{className:"auth__loading"},r.a.createElement(C,{size:"xl",message:"Loading"})):Object(S.isEmpty)(t)||s?r.a.createElement("div",{className:"auth"},r.a.createElement("div",{className:"auth__header"},r.a.createElement(He,{fileName:"logo_2020_2",format:"jpg",height:"50",width:"50"}),r.a.createElement("h1",{className:"auth__title"},r.a.createElement("span",{className:"auth__stuffie"},"Stuffie"),r.a.createElement("span",{className:"auth__slogan"},"Connecting Life"))),r.a.createElement("div",{className:"auth__horizontal-line"}),r.a.createElement(Se,{message:i,type:this.getMessageType(i)}),r.a.createElement("div",{className:"auth__content"},r.a.createElement(Yt,{setMessage:function(t){return e.setState({message:t})}}),r.a.createElement("div",{className:"auth__line"}),r.a.createElement(Z,{setMessage:function(t){return e.setState({message:t})}}))):Object(S.isEmpty)(t)?void 0:r.a.createElement(Gt,null)}}]),t}(n.Component)),Wt={fetchUser:V},Vt=Object(g.b)(function(e){return{user:e.user}},Wt)(Kt),Jt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(O.d,null,r.a.createElement(O.b,{path:"/",component:Vt}),r.a.createElement(O.b,{path:"/login",component:Z}),r.a.createElement(O.b,{path:"/register",component:Yt}))}}]),t}(n.Component),Qt=Object(h.c)()(Jt),$t=(a(714),a(715),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.store;return r.a.createElement("div",{className:"stuffie__app"},r.a.createElement(g.a,{store:e},r.a.createElement(h.a,{i18n:_},r.a.createElement(p.a,null,r.a.createElement(Qt,null)))))}}]),t}(n.Component)),Xt=Object(h.c)()($t),Zt=Object(i.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STUFFIE:LOGIN_USER_FETCHED":case"STUFFIE:USER_FETCHED":case"STUFFIE:USER_PICTURE_ADDED":return t.payload;default:return e}},userRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STUFFIE:USER_REQUESTS_FETCHED":return t.payload;case"STUFFIE::USER_REQUEST_DELETED":return e.filter(function(e){return e._id!==t.payload._id});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU:CATEGORY_ADDED":var a=t.payload;return[].concat(Object(ee.a)(e),[a]);case"MENU::CATEGORIES_FETCHED":case"MENU::CATEGORY_FETCHED":return t.payload;default:return e}},friends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER::FRIENDS_FETCHED":case"FRIENDS::PRODUCTS_FETCHED":return t.payload;default:return e}},friendsRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU::FRIENDS_REQUESTS_FETCHED":return t.payload;default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCTS::PRODUCT_ADDED":var a=t.payload,n=e[a.category];return Object(q.a)({},e,Object(je.a)({},a.category,[].concat(Object(ee.a)(n),[a])));case"MENU::PRODUCTS_FETCHED":return t.payload;default:return e}},subcategories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU:SUBCATEGORY_ADDED":var a=t.payload;return[].concat(Object(ee.a)(e),[a]);case"MENU::SUBCATEGORIES_FETCHED":case"MENU::SUBCATEGORY_FETCHED":return t.payload;default:return e}},exchangeRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXCHANGE::REQUESTED":return[].concat(Object(ee.a)(e),[t.payload]);case"EXCHANGES::FETCHED":return t.payload;case"EXCHANGE::DELETED":return e.filter(function(e){return e._id!==t.payload});default:return e}},pendingProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADMIN::PENDING_PRODUCTS_FETCHED":return t.payload;default:return e}}}),ea=function(e,t){return"STUFFIE::REVOKE_USER"===t.type&&(e=void 0),Zt(e,t)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(716),a(717);var ta=[o.a],aa="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d;ta.push(a(718));var na=Object(i.e)(ea,aa(i.a.apply(void 0,ta)));s.a.render(r.a.createElement(Xt,{store:na}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[331,1,2]]]);
//# sourceMappingURL=main.6793b03f.chunk.js.map