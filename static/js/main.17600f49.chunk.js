(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{295:function(e,t){},303:function(e){e.exports={translations:{"Add-Friend":"Add Friend",Admin:"Admin",English:"English",Feed:"Feed",Friends:"Friends","Friends-Title":"{{ first_name }} Friends",Language:"Language",Logout:"Logout",Products:"Products",Spanish:"Spanish",Summary:"Summary",Welcome:"Welcome ","Welcome to React Translation":"Welcome to React Translate.","This is test view":"This is the test view."}}},304:function(e){e.exports={translations:{"Add-Friend":"Agregar Amigo",Admin:"Admin",English:"Ingles",Feed:"Feed",Friends:"Amigos","Friends-Title":"Amigos de {{ first_name }}",Language:"Idioma",Logout:"Salir",Products:"Productos",Spanish:"Espa\xf1ol",Summary:"Inventario",Welcome:"Hola ","Welcome to React Translation":"Bienvenido.","This is test view":"Esta es una prueba."}}},331:function(e,t,a){e.exports=a(718)},349:function(e,t,a){},350:function(e,t,a){},371:function(e,t){},373:function(e,t){},407:function(e,t){},408:function(e,t){},477:function(e,t,a){},479:function(e,t,a){},480:function(e,t,a){},481:function(e,t,a){},482:function(e,t,a){},483:function(e,t,a){},484:function(e,t,a){},582:function(e,t,a){},583:function(e,t,a){},584:function(e,t,a){},696:function(e,t,a){},697:function(e,t,a){},698:function(e,t,a){},699:function(e,t,a){},701:function(e,t){},702:function(e,t){},703:function(e,t,a){},706:function(e,t,a){},707:function(e,t,a){},708:function(e,t,a){},709:function(e,t,a){},710:function(e,t,a){},711:function(e,t,a){},712:function(e,t,a){},714:function(e,t,a){},715:function(e,t,a){},718:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(75),c=a.n(s),i=a(56),o=a(298),u=a(3),l=a(4),d=a(6),m=a(7),f=a(8),h=a(18),p=a(28),g=a(14),E=a(134),v=a(303),b=a(304);E.a.use(p.b).init({lng:"en",resources:{en:v,es:b},fallbackLng:"en",debug:!1,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}},function(e,t){e&&console.info("i18n.language",E.a.language)});var y=E.a,_=a(57),O=a(16),S=a(305),j=a.n(S),N=(a(349),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"getSize",value:function(){switch(this.props.size){case"sm":return 8;case"md":return 16;case"lg":return 32;case"xl":return 64;default:return 8}}},{key:"render",value:function(){var e=this.props.message,t=this.getSize();return r.a.createElement("div",{className:"stuffie-loading"},r.a.createElement(j.a,{type:"spin",color:"#00f",height:t,width:t}),e&&r.a.createElement("div",{className:"stuffie-loading__message"},e))}}]),t}(n.Component)),C=a(306),R=a.n(C),w=(a(350),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.placeholder,n=e.type,s=e.value,c=e.onChange,i=e.disabled,o=e.ref;return r.a.createElement("div",{className:"textfield"},null!==s&&!c&&r.a.createElement("input",{type:n,name:t,placeholder:a||"",value:s,disabled:i,ref:o||null}),c&&r.a.createElement("input",{type:n,name:t,placeholder:a||"",disabled:i,onChange:function(e){return c(e.target.value)},ref:o||null}))}}]),t}(n.Component)),k={cloudinary:{url:"https://res.cloudinary.com/reyesrico/image/upload/c_scale,f_auto,w_100/v1",cloudName:"reyesrico",apiKey:"981789986692969",apiSecret:"xxQPfLvWpN_iIlt1RfMZnB3jRw0"},cloudinary_headers:{"cache-control":"no-cache","x-apikey":"981789986692969"},fb:{appId:"1458399831108421"},headers:{"cache-control":"no-cache","x-apikey":"5c932ad1cac6621685acc11e"},server:"https://stuffie-98b2.restdb.io/rest/"},T=a(20),q=a(15),D=a.n(q),U=function(e){return function(t,a){return{meta:a,payload:t,type:e}}},F=function(e,t){return function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return function(a){return e.apply(void 0,n).then(function(e){var r=e.data;return a(t(r,Object(T.a)({},n))),Promise.resolve(r)})}}},x=function(e,t,a){return function(n){return function(r){return a&&r(a(void 0,n)),e(n).then(function e(a){var s=a.data;return r(t(s,n)),s.next?D.a.get(s.next).then(e):Promise.resolve({data:s})})}}},A={category:{add:function(){return"".concat(k.server,"categories")},list:function(){return"".concat(k.server,"categories")},detail:function(e){return"".concat(k.server,"categories?q=").concat(JSON.stringify({id:parseInt(e)}))}},cloudinary:{exist:function(){return"https://".concat(k.cloudinary.apiKey,":").concat(k.cloudinary.apiSecret,"@api.cloudinary.com/v1_1/").concat(k.cloudinary.cloudName,"/resources/image")}},subcategory:{add:function(){return"".concat(k.server,"subcategories")},list:function(){return"".concat(k.server,"subcategories")},detail:function(e){return"".concat(k.server,"subcategories?q=").concat(JSON.stringify({id:parseInt(e)}))}},stuff:{addStuffiersStuff:function(){return"".concat(k.server,"stuffiers-stuff")},addStuff:function(){return"".concat(k.server,"stuff")},detail:function(e){return"".concat(k.server,"stuff?q=").concat(JSON.stringify({id:parseInt(e)}))},listDetail:function(e){return"".concat(k.server,'stuff?q={"$or":').concat(JSON.stringify(e),"}")},listForStuffier:function(e){return"".concat(k.server,"stuffiers-stuff?q=").concat(JSON.stringify({id_stuffier:e}))},listStuffiers:function(e){return"".concat(k.server,'stuffiers-stuff?q={"$or":').concat(JSON.stringify(e),"}")},detailFromCategories:function(e,t){return"".concat(k.server,'stuff?q={"$and":[{"category": ').concat(e,'}, {"subcategory": ').concat(t,"}]}")}},user:{detail:function(e){return"".concat(k.server,"stuffiers?q=").concat(JSON.stringify({email:e}))},listDetail:function(e){return"".concat(k.server,'stuffiers?q={"$or":').concat(JSON.stringify(e),"}")},friends:function(e){return"".concat(k.server,"friends?q=").concat(JSON.stringify({email_stuffier:e}))},list:function(){return"".concat(k.server,"stuffiers")},loginUser:function(e,t){return"".concat(k.server,"stuffiers?q=").concat(JSON.stringify({email:e,password:t}))},registerUser:function(){return"".concat(k.server,"stuffiers")},lastId:function(){return"".concat(k.server,'stuffiers?q={}&h={"$fields": {"id":1}, "$aggregate":["COUNT:"] }')},requestToBeFriend:function(){return"".concat(k.server,"friend-requests")},friendsRequest:function(e){return"".concat(k.server,"friend-requests?q=").concat(JSON.stringify({email_stuffier:e}))},friendRequestDetail:function(e,t){return"".concat(k.server,"friend-requests?q=").concat(JSON.stringify({email_stuffier:e,id_friend:t}))},deleteFriendRequest:function(e){return"".concat(k.server,"friend-requests/").concat(e)},friend:function(){return"".concat(k.server,"friends")},userRequests:function(){return"".concat(k.server,'stuffiers?q={"request": true}')},deleteUserRequest:function(e){return"".concat(k.server,"stuffiers/").concat(e)}},exchange:{request:function(){return"".concat(k.server,"exchange-requests")},list:function(e){return"".concat(k.server,'exchange-requests??q={ "$or": [{ "id_stuffier": ').concat(e,' } ,{ "id_friend": ').concat(e," }] }")}}},L=a(182),P=a.n(L),z={encrypt:function(e){return P.a.SHA256(e).toString(P.a.enc.Hex)}},I=function(e){return e.length>0?D.a.get(A.user.listDetail(e),{headers:k.headers}):Promise.resolve({})},M=function(e){var t=z.encrypt(e.password);return D.a.get(A.user.lastId(),{headers:k.headers}).then(function(a){var n=Object.values(a.data)[0]+1;return D.a.post(A.user.registerUser(),Object(T.a)({},e,{password:t,id:n,request:!0}),{headers:k.headers})})},B=function(e,t){return D.a.post(A.user.requestToBeFriend(),{email_stuffier:e,id_friend:t},{headers:k.headers})},G=function(e,t){return D.a.get(A.user.friendRequestDetail(e,t),{headers:k.headers}).then(function(e){return D.a.delete(A.user.deleteFriendRequest(e.data[0]._id),{headers:k.headers})})},H=function(e,t){return D.a.post(A.user.friend(),{email_stuffier:e,id_friend:t},{headers:k.headers})},K=(U("STUFFIE:LOGIN_USER_FETCHED"),U("STUFFIE:USER_FETCHED")),J=function(e){return function(t){return function(e){return D.a.get(A.user.detail(e),{headers:k.headers})}(e).then(function(a){return t(K(a.data[0],e)),Promise.resolve(a)})}},Y=U("STUFFIE:USER_REGISTERED"),V=U("STUFFIE:USER_PICTURE_ADDED"),W=(a(477),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:null,password:null,loginFB:!1},a.onClick=function(e){var t=a.props,n=t.fetchUser,r=t.loginUser,s=t.setMessage,c=a.state,i=c.email,o=c.password;e.preventDefault(),i&&o&&r(i,o).then(function(e){return n(e.data[0].email)}).then(function(e){localStorage.setItem("username",e.data[0].email),s("Login successful")}).catch(function(e){return s("Error: Couldn't login. Try again.")})},a.responseFacebook=function(e){var t=a.props,n=t.addUserPicture,r=t.fetchUser,s=t.setMessage;e&&r(e.email).then(function(t){var a=e.picture.data.url;localStorage.setItem("username",t.data[0].email),n(t.data[0],a),s("Login successful")}).catch(function(e){return s("Error: Couldn't login. Try again.")})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.loginFB;return r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{className:"login__form"},r.a.createElement(w,{type:"email",name:"email",placeholder:"Email",onChange:function(t){return e.setState({email:t})}}),r.a.createElement(w,{type:"password",name:"password",placeholder:"Password",onChange:function(t){return e.setState({password:t})}}),r.a.createElement("div",{className:"login__submit"},r.a.createElement("input",{type:"submit",value:"Login",onClick:this.onClick}))),r.a.createElement("hr",{className:"login__hr"}),r.a.createElement(R.a,{appId:k.fb.appId,autoLoad:t,fields:"name,email,picture",scope:"public_profile,user_friends",onClick:function(t){return t&&e.setState({loginFB:!0})},callback:this.responseFacebook}))}}]),t}(n.Component)),Q={addUserPicture:function(e,t){return function(a){var n=Object(T.a)({},e,{picture:t});a(V(n,n.email))}},loginUser:function(e,t){return function(a){return function(e,t){return D.a.get(A.user.loginUser(e,z.encrypt(t)),{headers:k.headers})}(e,t).then(function(e){return Promise.resolve(e)})}},fetchUser:J},$=Object(g.b)(null,Q)(Object(_.g)(W)),X=[{value:"en",label:"English"},{value:"es",label:"Spanish"}],Z=(a(479),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.open=function(){a.setState({isOpen:!0})},a.toggle=function(){a.setState({isOpen:!a.state.isOpen})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"handleClickOutside",value:function(){this.setState({isOpen:!1})}},{key:"render",value:function(){var e=this.state.isOpen?"dropdown--is-open":"";return r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{className:"dropdown__label",onClick:this.toggle},this.props.label(this.state.isOpen)),r.a.createElement("div",{className:"dropdown__content-container"},r.a.createElement("div",{className:"dropdown__content ".concat(e)},this.props.children)))}}]),t}(n.Component)),ee=(a(480),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={lang:X[0]},a.changeLang=function(e){var t=a.props.i18n;a.setState({lang:e}),t.changeLanguage(e.value)},a.renderCurrentLanguage=function(e){var t=a.props.t;return r.a.createElement("div",{className:e?"apps__language-open":"apps__language"},t("Language"))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"apps"},r.a.createElement("div",{className:"apps__title"},"Apps & extras"),r.a.createElement("div",{className:"apps__item"},r.a.createElement(h.b,{to:"/tickets"},"Tickets")),r.a.createElement("div",{className:"apps__item"},r.a.createElement(h.b,{to:"/support"},"Support")),r.a.createElement("div",{className:"apps__item"},r.a.createElement(h.b,{to:"/charts"},"Charts")),r.a.createElement("div",{className:"apps__item"},r.a.createElement(h.b,{to:"/test"},"Test")),r.a.createElement("hr",null),r.a.createElement("div",{className:"apps__item"},r.a.createElement(Z,{label:function(t){return e.renderCurrentLanguage(t)}},X.map(function(t){return r.a.createElement("div",{key:t.value,className:"apps__option",onClick:function(){return e.changeLang(t)}},t.label)}))))}}]),t}(n.Component)),te=Object(g.b)(function(e){return{user:e.user}},{})(Object(p.c)()(Object(_.g)(ee))),ae=a(29),ne=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={messageList:[]},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"onMessageWasSent",value:function(e){this.setState({messageList:[].concat(Object(ae.a)(this.state.messageList),[e])})}},{key:"sendMessage",value:function(e){e.length>0&&this.setState({messageList:[].concat(Object(ae.a)(this.state.messageList),[{author:"them",type:"text",data:{text:e}}])})}},{key:"render",value:function(){return r.a.createElement("div",null,"Get new Chat-Window")}}]),t}(n.Component),re=function(e){return e.length?D.a.get(A.stuff.listDetail(e),{headers:k.headers}):Promise.resolve([])},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return D.a.get(A.category.list(),{headers:k.headers,cancelToken:e})},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return D.a.get(A.subcategory.list(),{headers:k.headers,cancelToken:e})},ie=function(e,t){return D.a.post(A.stuff.addStuffiersStuff(),{id_stuffier:e,id_stuff:t},{headers:k.headers})},oe=function(e,t,a){var n=[];return Promise.all([se(a),ce(a)]).then(function(a){return a[0].data.forEach(function(t){t.name.toLowerCase().includes(e)&&n.push({type:"Category",name:t.name,id:t.id})}),a[1].data.forEach(function(t){t.name.toLowerCase().includes(e)&&n.push({type:"Subcategory",name:t.name,id:t.id})}),Object.keys(t).forEach(function(a){t[a].forEach(function(t){t.name.toLowerCase().includes(e)&&n.push({type:"Product",name:t.name,id:t.id})})}),Promise.resolve(n)})},ue=function(e,t){return t.filter(function(t){return t.name.toLowerCase().includes(e)})},le=U("MENU::CATEGORIES_FETCHED"),de=x(se,le),me=(x(function(e){return D.a.get(A.category.detail(e),{headers:k.headers})},U("MENU::CATEGORY_FETCHED")),x(function(e){var t=e.id,a=e.name;return D.a.post(A.category.add(),{id:t,name:a},{headers:k.headers})},U("MENU:CATEGORY_ADDED"))),fe=U("MENU::SUBCATEGORIES_FETCHED"),he=x(ce,fe),pe=(x(function(e){return D.a.get(A.subcategory.detail(e),{headers:k.headers})},U("MENU::SUBCATEGORY_FETCHED")),x(function(e){var t=e.id,a=e.name;return D.a.post(A.subcategory.add(),{id:t,name:a},{headers:k.headers})},U("MENU:SUBCATEGORY_ADDED"))),ge=(a(481),{CATEGORY:"category",SUBCATEGORY:"subcategory"}),Ee=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={isLoading:!1,id:"",name:"",categories:[],subcategories:[],tempObjects:null},a.createValue=function(e){var t=a.props,n=t.addCategory,r=t.addSubCategory,s=t.type,c=a.state,i=c.categories,o=c.subcategories;e.preventDefault(),s===ge.CATEGORY&&(a.setState({isLoading:!0}),n({name:a.state.name,id:Number(a.state.id)}).then(function(e){var t={_id:e.data._id,id:e.data.id,name:e.data.name};a.setState({categories:[].concat(Object(ae.a)(i),[t]),name:"",id:""})}).finally(function(){a.setState({isLoading:!1})})),s===ge.SUBCATEGORY&&(a.setState({isLoading:!0}),r({name:a.state.name,id:Number(a.state.id)}).then(function(e){var t={_id:e.data._id,id:e.data.id,name:e.data.name};a.setState({subcategories:[].concat(Object(ae.a)(o),[t]),name:"",id:""})}).finally(function(){a.setState({isLoading:!1})}))},a.renderValues=function(e){var t=a.props,n=t.categories,s=t.subcategories,c=e===ge.CATEGORY?n:s;return Object(O.map)(c,function(t){return r.a.createElement("li",{className:"add-category__item",key:"".concat(e,"_").concat(t.id)},r.a.createElement("span",{className:"add-category__id"},"(",t.id,")")," - ",t.name)})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.type;"subcategory"===e.type&&"category"===t&&this.setState({label:"Category"}),"category"===e.type&&"subcategory"===t&&this.setState({label:"SubCategory"})}},{key:"render",value:function(){var e=this,t=this.props.type;if(this.state.isLoading)return r.a.createElement(N,{size:"md"});var a=t===ge.CATEGORY?"Category":"SubCategory",n=t!==ge.CATEGORY?"Category":"SubCategory",s=t===ge.CATEGORY?ge.SUBCATEGORY:ge.CATEGORY;return r.a.createElement("div",{className:"add-category"},r.a.createElement("form",null,r.a.createElement("div",{className:"add-category__values"},r.a.createElement("div",null,r.a.createElement("h2",null,a),r.a.createElement("ul",{className:"add-category__list"},this.renderValues(t))),r.a.createElement("div",null,r.a.createElement("h2",null,n),r.a.createElement("ul",{className:"add-category__list"},this.renderValues(s)))),r.a.createElement("hr",null),r.a.createElement("div",{className:"add-category__row"},r.a.createElement("label",null,"Id"),r.a.createElement(w,{name:"id",type:"text",onChange:function(t){return e.setState({id:t})}})),r.a.createElement("div",{className:"add-category__row"},r.a.createElement("label",null,a),r.a.createElement(w,{name:"name",type:"text",onChange:function(t){return e.setState({name:t})}})),r.a.createElement("hr",null),r.a.createElement("button",{onClick:function(t){return e.createValue(t)}},"Send")))}}]),t}(n.Component),ve={addCategory:me,addSubCategory:pe},be=Object(g.b)(function(e){return{user:e.user,categories:e.categories,subcategories:e.subcategories}},ve)(Ee),ye=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={valueSelected:null},a.updateChange=function(e){var t=a.props,n=t.onChange,r=t.values,s=Number(e.target.value),c=Object(O.find)(r,function(e){return e.id===s});a.setState({valueSelected:s}),n(c)},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.values,t=this.state.valueSelected,a=e&&e[0]?e[0].id:null,n=t||a;return r.a.createElement("select",{onChange:this.updateChange,value:n},e&&e.map(function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)}))}}]),t}(n.Component),_e=a(55);function Oe(e){return Object(O.map)(e,function(e){return{id:e.id_stuff}})}function Se(e,t){for(var a=Object.values(t),n=null,r=0;r<a.length&&!(n=a[r].find(function(t){return t.id===e}));r++);return n}function je(e){return!Object.values(e).filter(function(e){return e.length>0}).length}var Ne=U("MENU::PRODUCT_FETCHED"),Ce=U("MENU::PRODUCTS_FETCHED"),Re=U("PRODUCTS::PRODUCT_ADDED"),we=x(function(e){return D.a.get(A.stuff.detail(e),{headers:k.headers})},Ne),ke=(a(482),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={status:"success",name:null,file_name:null,category:a.props.categories[0],product:{id:null,name:null},subcategory:a.props.subcategories[0],stuffStuffier:{},productsByCategories:[]},a.createProduct=function(e){var t=a.props,n=t.addProduct,r=t.user,s=a.state,c=s.name,i=s.category,o=s.subcategory;c&&i&&o&&(e.preventDefault(),n({name:c,category:i.id,subcategory:o.id,fileName:"file_name"},r).then(function(e){console.log(e),a.setState({product:e})}).catch(function(e){a.setState({status:"error"}),console.log("Error: ".concat(e))}))},a.clearState=function(){a.setState({status:"success",name:null,file_name:null,category:a.props.categories[0],subcategory:a.props.subcategories[0],product:{},stuffStuffier:{}})},a.renderProductAddedMessage=function(){var e=a.state,t=e.status,n=e.product,s="error"===t?"was not added":"was added successfully!";if(n.name)return r.a.createElement("div",{className:"add-product__message-".concat(t)},"Stuff ",n.name," ",s)},a.updateCategory=function(e){a.renderProducts(e,a.state.subcategory),a.setState({category:e})},a.updateSubcategory=function(e){a.renderProducts(a.state.category,e),a.setState({subcategory:e})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.renderProducts(this.state.category,this.state.subcategory)}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=(a.product,a.stuffStuffier,a.name),r=a.category,s=a.subcategory;t.name!==n||t.category!==r||t.subcategory}},{key:"setProduct",value:function(){var e=this,t=this.props.user,a=this.state.product;ie(t.id,a.id).then(function(t){e.setState({stuffStuffier:t.data})})}},{key:"renderProducts",value:function(e,t){var a=this;(function(e,t){return D.a.get(A.stuff.detailFromCategories(e,t),{headers:k.headers})})(e.id,t.id).then(function(e){a.setState({productsByCategories:e.data})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.categories,n=t.subcategories,s=this.state,c=s.product,i=s.stuffStuffier,o=s.productsByCategories,u=s.category,l=s.subcategory,d=s.name;return r.a.createElement("div",{className:"add-product"},r.a.createElement("h3",null,"Add Stuff"),c&&i&&this.renderProductAddedMessage(),r.a.createElement("hr",null),r.a.createElement("form",null,r.a.createElement("div",null,"Select Product"),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"Category"),r.a.createElement(ye,{onChange:function(t){return e.updateCategory(t)},values:a})),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"SubCategory"),r.a.createElement(ye,{onChange:function(t){return e.updateSubcategory(t)},values:n})),!o.length&&r.a.createElement("div",null,"There are no products"),o.length>0&&r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"Product"),r.a.createElement(ye,{onChange:function(t){return e.setState({product:t})},values:o})),r.a.createElement("hr",null),r.a.createElement("button",{disabled:!(u&&l&&d),onClick:function(t){return t&&e.setProduct()}},"Send"),r.a.createElement("hr",null),r.a.createElement("div",null,"Create New Product"),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"Name"),r.a.createElement(w,{name:"name",type:"text",onChange:function(t){return e.setState({name:t})}})),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"Category"),r.a.createElement(ye,{onChange:function(t){return e.setState({category:t})},values:a})),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"SubCategory"),r.a.createElement(ye,{onChange:function(t){return e.setState({subcategory:t})},values:n})),r.a.createElement("hr",null),r.a.createElement("button",{onClick:function(t){return e.createProduct(t)}},"Send")))}}]),t}(n.Component)),Te={addProduct:function(e,t){return function(a){return function(e){var t=e.name,a=e.category,n=e.subcategory,r=e.fileName;return D.a.post(A.stuff.addStuff(),{name:t,category:a,subcategory:n,file_name:r},{headers:k.headers})}(e).then(function(e){var a=e.data;return ie(t.id,a.id)}).then(function(){return a(Re(e,t.email)),Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})}}},qe=Object(g.b)(function(e){return{user:e.user,categories:e.categories,subcategories:e.subcategories}},Te)(ke),De=(a(483),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,a=e.type,n=e.text,s=e.onClick;return s?r.a.createElement("button",{className:"button",type:a||"button",onClick:function(e){return e&&s()},disabled:t},n):r.a.createElement("button",{className:"button",type:a||"button",disabled:t},n)}}]),t}(n.Component)),Ue=F(function(){return D.a.get(A.user.userRequests(),{headers:k.headers})},U("STUFFIE:USER_REQUESTS_FETCHED")),Fe=F(function(e){return D.a.put(A.user.deleteUserRequest(e._id),Object(T.a)({},e,{request:!1}),{headers:k.headers})},U("STUFFIE::USER_REQUEST_DELETED")),xe=(a(484),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s))))._isMounted=!1,a.state={userRequests:[]},a.executeRequest=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a.props.deleteRequest;t&&n(e).then(function(e){alert("Request Accepted and Deleted");var t=a.state.userRequests.filter(function(t){return t._id!==e._id});a.setState({userRequests:t})})},a.renderRequests=function(){var e=a.state.userRequests;return r.a.createElement("div",{className:"admin__requests"},r.a.createElement("hr",null),r.a.createElement("h3",{className:"admin__title"},r.a.createElement("div",null,"Requests"),r.a.createElement("div",{className:"admin__warning"},e.length)),r.a.createElement("ul",null,e.map(function(e,t){return r.a.createElement("li",{className:"admin__request",key:t},r.a.createElement("div",{className:"admin__request-text"},e.first_name," ",e.last_name," (",e.email,")"),r.a.createElement("div",{className:"admin__request-button"},r.a.createElement(De,{onClick:function(){return a.executeRequest(e,!0)},text:"Accept"})))})))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,(0,this.props.fetchUserRequests)().then(function(t){return e.setState({userRequests:t})})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state.userRequests;return r.a.createElement("div",{className:"admin"},e.length>0&&this.renderRequests(),r.a.createElement("div",{className:"admin__link"},r.a.createElement(h.b,{to:"/category/add"},"Add Category")),r.a.createElement("hr",null),r.a.createElement("div",{className:"admin__link"},r.a.createElement(h.b,{to:"/subcategory/add"},"Add SubCategory")),r.a.createElement("hr",null))}}]),t}(n.Component)),Ae={fetchUserRequests:Ue,deleteRequest:Fe},Le=Object(g.b)(null,Ae)(xe),Pe=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.location,a=e.products,n=e.match.params.id,s=t.category||"";return r.a.createElement("div",{className:"category-page"},r.a.createElement("h3",null,s),r.a.createElement("ul",null,Object(O.map)(a[n],function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(h.b,{to:"/product/".concat(e.id)},e.name))})))}}]),t}(n.Component),ze=Object(g.b)(function(e){return{products:e.products}},{})(Pe),Ie=a(96),Me=function(e){return D.a.get("".concat(k.cloudinary.url,"/").concat(e))},Be=(a(582),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={imageUrl:"default_product"},a.setUrl=function(){var e=a.props,t=e.fileName,n=e.category,r=e.subcategory;if(e.isProduct&&n&&r){var s="products/".concat(n,"/").concat(r,"/").concat(t);Me(s).then(function(){return a.setState({imageUrl:s})}).catch(function(){return a.setState({imageUrl:"default_product"})})}else a.setState({imageUrl:t})},a.renderImage=function(){var e=a.props,t=e.format,n=e.width,s=a.state.imageUrl,c="default_product"===s?"png":t;return r.a.createElement("div",{className:"media__image"},r.a.createElement(Ie.Image,{publicId:s,format:c},r.a.createElement(Ie.Transformation,{width:n,fetchFormat:"auto",crop:"scale"})))},a.renderVideo=function(){var e=a.props,t=e.fileName,n=e.format;return r.a.createElement(Ie.Video,{publicId:t,format:n})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){"mp4"!==this.props.format&&this.setUrl()}},{key:"componentDidUpdate",value:function(e){e.fileName!==this.props.fileName&&"mp4"!==this.props.format&&this.setUrl()}},{key:"render",value:function(){var e="mp4"===this.props.format;return r.a.createElement(Ie.CloudinaryContext,{cloudName:k.cloudinary.cloudName},e&&this.renderVideo(),!e&&this.renderImage())}}]),t}(n.Component)),Ge=(a(583),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).getProductType=function(){var e=a.props,t=e.feedPost,n=e.subcategories.find(function(e){return e.id===t.product.subcategory});return n?n.name:null},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"renderMessage",value:function(){var e=this.props.feedPost;return r.a.createElement("div",{className:"feed-row__description"},r.a.createElement("span",{className:"feed-row__name"},e.friend_firstName," ",e.friend_lastName," ")," added ",r.a.createElement("b",null,e.product.name)," in ",this.getProductType())}},{key:"render",value:function(){var e=this.props.feedPost,t={pathname:"/exchange",product:e.product,friend:e.friend_id};return r.a.createElement("div",{className:"feed-row"},this.renderMessage(),r.a.createElement("div",{className:"feed-row__image"},r.a.createElement(Be,{fileName:e.product.id,category:e.product.category,subcategory:e.product.subcategory,format:"jpg",height:"100",width:"100",isProduct:"true"})),r.a.createElement("div",{className:"feed-row__actions"},r.a.createElement("div",{className:"feed-row__action feed-row__text"},"Ask for:"),r.a.createElement("div",{className:"feed-row__action feed-row__link"},"Loan"),r.a.createElement("div",{className:"feed-row__action feed-row__link"},r.a.createElement(h.b,{to:t},"Exchange")),r.a.createElement("div",{className:"feed-row__action feed-row__link"},"Buy")))}}]),t}(n.Component)),He={fetchProduct:we},Ke=Object(g.b)(function(e){return{subcategories:e.subcategories}},He)(Ge);var Je,Ye=U("USER::FRIENDS_FETCHED"),Ve=U("FRIENDS::PRODUCTS_FETCHED"),We=(a(584),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1,feed:[]},a.componentDidMount=function(){var e=a.props,t=e.fetchFriendsProducts,n=e.friends;Object(O.isEmpty)(a.state.feed)&&(a.setState({isLoading:!0}),t(n).then(function(e){return a.generateFeed(e)}).finally(function(){return a.setState({isLoading:!1})}))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"generateFeed",value:function(e){var t=[];e.forEach(function(e){e.products&&e.products.forEach(function(a){t.push({friend_id:e.id,friend_firstName:e.first_name||"",friend_lastName:e.last_name||"",product:a,date:(new Date).toString()})})}),this.setState({feed:Object(O.sortBy)(t,"date")})}},{key:"render",value:function(){var e=this.props.friends,t=this.state,a=t.isLoading,n=t.feed;return a?r.a.createElement("div",{className:"content__loading"},r.a.createElement(N,{size:"xl",message:"Loading Feed"})):e.length&&n.length?r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"content__info"},r.a.createElement("div",{className:"content__rows"},Object(O.map)(n,function(e,t){return r.a.createElement(Ke,{key:t,feedPost:e})})))):r.a.createElement("div",null,"No Friends! Add friends!")}}]),t}(n.Component)),Qe={fetchFriendsProducts:function(e){return function(t){var a=[];return function(e){if(e.length>0){var t=Object(O.map)(e,function(e){return{id_stuffier:e.id}});return D.a.get(A.stuff.listStuffiers(t),{headers:k.headers})}return Promise.resolve([])}(e).then(function(e){return a=e.data,re(Oe(e.data))}).then(function(n){var r=n.data,s=function(e,t,a){var n=[];return Object(O.forEach)(e,function(e){var r=a.filter(function(t){return t.id_stuffier===e.id}).map(function(e){return Object(O.find)(t,function(t){return t.id===e.id_stuff})});n.push(Object(T.a)({},e,{products:r}))}),n}(e,r,a);return t(Ve(s)),Promise.resolve(s)})}}},$e=Object(g.b)(function(e){return{user:e.user,friends:e.friends,subcategories:e.subcategories}},Qe)(We),Xe=a(11),Ze=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}],et=[{name:"axis",children:[{name:"Axes",size:1302},{name:"Axis",size:24593},{name:"AxisGridLine",size:652},{name:"AxisLabel",size:636},{name:"CartesianAxes",size:6703}]},{name:"controls",children:[{name:"AnchorControl",size:2138},{name:"ClickControl",size:3824},{name:"Control",size:1353},{name:"ControlList",size:4665},{name:"DragControl",size:2649},{name:"ExpandControl",size:2832},{name:"HoverControl",size:4896},{name:"IControl",size:763},{name:"PanZoomControl",size:5222},{name:"SelectionControl",size:7862},{name:"TooltipControl",size:8435}]},{name:"data",children:[{name:"Data",size:20544},{name:"DataList",size:19788},{name:"DataSprite",size:10349},{name:"EdgeSprite",size:3301},{name:"NodeSprite",size:19382},{name:"render",children:[{name:"ArrowType",size:698},{name:"EdgeRenderer",size:5569},{name:"IRenderer",size:353},{name:"ShapeRenderer",size:2247}]},{name:"ScaleBinding",size:11275},{name:"Tree",size:7147},{name:"TreeBuilder",size:9930}]},{name:"events",children:[{name:"DataEvent",size:7313},{name:"SelectionEvent",size:6880},{name:"TooltipEvent",size:3701},{name:"VisualizationEvent",size:2117}]},{name:"legend",children:[{name:"Legend",size:20859},{name:"LegendItem",size:4614},{name:"LegendRange",size:10530}]},{name:"operator",children:[{name:"distortion",children:[{name:"BifocalDistortion",size:4461},{name:"Distortion",size:6314},{name:"FisheyeDistortion",size:3444}]},{name:"encoder",children:[{name:"ColorEncoder",size:3179},{name:"Encoder",size:4060},{name:"PropertyEncoder",size:4138},{name:"ShapeEncoder",size:1690},{name:"SizeEncoder",size:1830}]},{name:"filter",children:[{name:"FisheyeTreeFilter",size:5219},{name:"GraphDistanceFilter",size:3165},{name:"VisibilityFilter",size:3509}]},{name:"IOperator",size:1286},{name:"label",children:[{name:"Labeler",size:9956},{name:"RadialLabeler",size:3899},{name:"StackedAreaLabeler",size:3202}]},{name:"layout",children:[{name:"AxisLayout",size:6725},{name:"BundledEdgeRouter",size:3727},{name:"CircleLayout",size:9317},{name:"CirclePackingLayout",size:12003},{name:"DendrogramLayout",size:4853},{name:"ForceDirectedLayout",size:8411},{name:"IcicleTreeLayout",size:4864},{name:"IndentedTreeLayout",size:3174},{name:"Layout",size:7881},{name:"NodeLinkTreeLayout",size:12870},{name:"PieLayout",size:2728},{name:"RadialTreeLayout",size:12348},{name:"RandomLayout",size:870},{name:"StackedAreaLayout",size:9121},{name:"TreeMapLayout",size:9191}]},{name:"Operator",size:2490},{name:"OperatorList",size:5248},{name:"OperatorSequence",size:4190},{name:"OperatorSwitch",size:2581},{name:"SortOperator",size:2023}]}],tt=[{name:"Group A",value:400},{name:"Group B",value:300},{name:"Group C",value:300},{name:"Group D",value:200}],at=[{name:"A1",value:100},{name:"A2",value:300},{name:"B1",value:100},{name:"B2",value:80},{name:"B3",value:40},{name:"B4",value:30},{name:"B5",value:50},{name:"C1",value:100},{name:"C2",value:200},{name:"D1",value:150},{name:"D2",value:50}],nt=[{name:"18-24",uv:31.47,pv:2400,fill:"#8884d8"},{name:"25-29",uv:26.69,pv:4567,fill:"#83a6ed"},{name:"30-34",uv:15.69,pv:1398,fill:"#8dd1e1"},{name:"35-39",uv:8.22,pv:9800,fill:"#82ca9d"},{name:"40-49",uv:8.63,pv:3908,fill:"#a4de6c"},{name:"50+",uv:2.63,pv:4800,fill:"#d0ed57"},{name:"unknow",uv:6.67,pv:4800,fill:"#ffc658"}],rt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={barChartData:[],treemapChartData:[],pieChartData01:[],pieChartData02:[],radialChartData:[]},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Xe.d,{width:600,height:300,data:Ze,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(Xe.q,{dataKey:"name"}),r.a.createElement(Xe.r,null),r.a.createElement(Xe.e,{strokeDasharray:"3 3"}),r.a.createElement(Xe.o,null),r.a.createElement(Xe.f,null),r.a.createElement(Xe.c,{dataKey:"pv",fill:"#8884d8"}),r.a.createElement(Xe.c,{dataKey:"uv",fill:"#82ca9d"})),r.a.createElement(Xe.h,{width:600,height:300,data:Ze},r.a.createElement(Xe.q,{dataKey:"name",padding:{left:30,right:30}}),r.a.createElement(Xe.r,null),r.a.createElement(Xe.e,{strokeDasharray:"3 3"}),r.a.createElement(Xe.o,null),r.a.createElement(Xe.f,null),r.a.createElement(Xe.g,{type:"monotone",dataKey:"pv",stroke:"#8884d8",activeDot:{r:8}}),r.a.createElement(Xe.g,{type:"monotone",dataKey:"uv",stroke:"#82ca9d"})),r.a.createElement(Xe.b,{width:730,height:250,data:Ze,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})),r.a.createElement("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0}))),r.a.createElement(Xe.q,{dataKey:"name"}),r.a.createElement(Xe.r,null),r.a.createElement(Xe.e,{strokeDasharray:"3 3"}),r.a.createElement(Xe.o,null),r.a.createElement(Xe.a,{type:"monotone",dataKey:"uv",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"}),r.a.createElement(Xe.a,{type:"monotone",dataKey:"pv",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorPv)"})),r.a.createElement(Xe.p,{width:730,height:250,data:et,dataKey:"size",aspectRatio:4/3,stroke:"#fff",fill:"#8884d8"}),r.a.createElement(Xe.j,{width:800,height:400},r.a.createElement(Xe.i,{dataKey:"value",data:tt,cx:200,cy:200,outerRadius:60,fill:"#8884d8"}),r.a.createElement(Xe.i,{dataKey:"value",data:at,cx:200,cy:200,innerRadius:70,outerRadius:90,fill:"#82ca9d",label:!0})),r.a.createElement(Xe.n,{width:730,height:250,margin:{top:20,right:20,bottom:10,left:10}},r.a.createElement(Xe.e,{strokeDasharray:"3 3"}),r.a.createElement(Xe.q,{dataKey:"value",name:"stature",unit:"cm"}),r.a.createElement(Xe.r,{dataKey:"value",name:"weight",unit:"cm"}),r.a.createElement(Xe.o,{cursor:{strokeDasharray:"3 3"}}),r.a.createElement(Xe.f,null),r.a.createElement(Xe.m,{name:"Data01",data:tt,fill:"#8884d8"}),r.a.createElement(Xe.m,{name:"Data02",data:at,fill:"#82ca9d"})),r.a.createElement(Xe.l,{width:730,height:250,innerRadius:"10%",outerRadius:"80%",data:nt,startAngle:180,endAngle:0},r.a.createElement(Xe.k,{angleAxisId:15,label:{fill:"#666",position:"insideStart"},background:!0,dataKey:"uv"}),r.a.createElement(Xe.f,{iconSize:10,width:120,height:140,layout:"vertical",verticalAlign:"middle",align:"right"}),r.a.createElement(Xe.o,null)))}}]),t}(n.Component),st=(a(696),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).source=null,a.state={isLoading:!1,isOpen:!1,results:[]},a.open=function(){a.setState({isOpen:!0})},a.toggle=function(){a.setState({isOpen:!a.state.isOpen})},a.fetchResults=function(e){var t=a.props,n=t.products,r=t.selectProduct;a.source&&a.source.cancel("Cancel pending requests."),a.source=D.a.CancelToken.source(),a.setState({isOpen:!0,isLoading:!0}),e?r?a.setState({results:ue(e,n),isOpen:!0,isLoading:!1}):oe(e,n,a.source.token).then(function(e){e.length?a.setState({results:e,isOpen:!0,isLoading:!1}):a.setState({isOpen:!1,isLoading:!1})}):a.setState({isOpen:!1,isLoading:!1})},a.getLinkTo=function(e){return Object(_e.a)({pathname:"/".concat(e.type.toLowerCase(),"/").concat(e.id)},e.type.toLowerCase(),e.name)},a.renderResultName=function(e){var t=e.type?e.type[0]:"P";return r.a.createElement("div",{className:"search__result-info"},r.a.createElement("div",{className:"search__result-name"},e.name),r.a.createElement("div",{className:"search__result-type search__result-".concat(t)},"| ",t))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"handleClickOutside",value:function(){this.setState({isOpen:!1})}},{key:"renderResults",value:function(){var e=this,t=this.state.results,a=this.props.selectProduct;if(t.length)return r.a.createElement("div",{className:"search__results"},t.map(function(t,n){return r.a.createElement("div",{className:"search__result",key:n},!a&&r.a.createElement(h.b,{key:n,className:"search__result-link",to:e.getLinkTo(t)},e.renderResultName(t)),a&&r.a.createElement("button",{key:n,onClick:function(e){return e&&a(t)}},e.renderResultName(t)))}))}},{key:"render",value:function(){var e=this,t=this.state.isLoading,a=this.state.isOpen?"dropdown--is-open":"";return r.a.createElement("div",{className:"search-bar"},r.a.createElement("div",{className:"search-bar__form"},r.a.createElement(w,{name:"search",type:"input",placeholder:"Find stuff...",onChange:function(t){return e.fetchResults(t)}}),r.a.createElement("div",{className:"search-bar__button"},r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement("div",{className:"search-bar__content-container"},r.a.createElement("div",{className:"search-bar__content ".concat(a)},t&&r.a.createElement(N,{size:"md"}),!t&&this.renderResults())))}}]),t}(n.Component)),ct=(a(697),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.message,a=e.type;return e.show&&a?r.a.createElement("div",{className:"warning-message warning-message__".concat(a)},t):r.a.createElement("div",null)}}]),t}(n.Component));!function(e){e.ERROR="error",e.SUCCESSFUL="successful",e.WARNING="warning"}(Je||(Je={}));var it=U("EXCHANGE::REQUESTED"),ot=U("EXCHANGES::FETCHED"),ut=(a(698),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={userProducts:[],selectedProduct:{},message:"",show:!1,type:void 0},a.requestExchange=function(){var e=a.props,t=e.exchangeRequest,n=e.location,r=e.user,s=a.state.selectedProduct,c=n.friend;console.log("This is to execute request exchange"),t(c,n.product.id,r.id,Object(O.get)(s,"id")).then(function(){return a.setState({message:"Exchange request successfully",type:Je.SUCCESSFUL,show:!0})}).catch(function(){return a.setState({message:"Exchange request failed",type:Je.SUCCESSFUL,show:!0})})},a.selectProduct=function(e){a.setState({selectedProduct:e})},a.renderProduct=function(e){var t=a.props,n=t.categories,s=t.subcategories,c=n.filter(function(t){return t.id===e.category})[0],i=s.filter(function(t){return t.id===e.subcategory})[0];return r.a.createElement("div",{className:"exchange__product"},r.a.createElement(Be,{fileName:e.id,category:e.category,subcategory:e.subcategory,format:"jpg",height:"100",width:"100",isProduct:"true"}),r.a.createElement("div",{className:"exchange__product-info"},r.a.createElement("div",null,e.name),r.a.createElement("div",null,c.name),r.a.createElement("div",null,i.name)))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t=this.props,a=t.location,n=t.products,r=a.product,s=(e=n,Object.values(e).filter(function(e){return e.length>0}).flat()).filter(function(e){return e.category===r.category||e.subcategory===r.subcategory});this.setState({userProducts:s})}},{key:"render",value:function(){var e=this,t=this.props.location,a=this.state,n=a.selectedProduct,s=a.userProducts,c=a.message,i=a.type,o=a.show,u=t.product;if(s)return u?r.a.createElement("div",{className:"exchange"},r.a.createElement(ct,{show:o,message:c,type:i}),r.a.createElement("div",{className:"exchange__header"},r.a.createElement(st,{products:s,selectProduct:function(t){return e.selectProduct(t)}})),!Object(O.isEmpty)(n)&&r.a.createElement("div",{className:"exchange__content"},r.a.createElement("div",{className:"exchange__compare"},this.renderProduct(n),r.a.createElement("div",{className:"exchange__line"}),this.renderProduct(u)),r.a.createElement(De,{type:"submit",onClick:this.requestExchange,text:"Request Exchange"}))):r.a.createElement(_.a,{to:"/"})}}]),t}(n.Component)),lt={exchangeRequest:function(e,t,a,n){return function(r){return(s=e,c=t,i=a,o=n,D.a.post(A.exchange.request(),{id_stuffier:s,id_friend:i,id_stuff:c,id_friend_stuff:o},{headers:k.headers})).then(function(t){r(it(t.data,e)),Promise.resolve(t.data)}).catch(function(e){return Promise.reject(e)});var s,c,i,o}}},dt=Object(g.b)(function(e){return{categories:e.categories,products:e.products,subcategories:e.subcategories,user:e.user}},lt)(ut),mt=(a(699),{ACCEPTED:"accepted",REJECTED:"rejected",ERROR:"error"}),ft=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).textField=r.a.createRef(),a.state={requests:[],emailToRequest:"",message:null,textfield:null,executeStatus:null},a.executeRequest=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a.props.user,r=[G(n.email,e.id)];t&&r.push(H(n.email,e.id)),Promise.all(r).then(function(e){!t&&a.setState({executeStatus:mt.REJECTED}),console.log(e[0].data),t&&a.setState({executeStatus:mt.ACCEPTED}),t&&console.log(e[1].data)}).catch(function(){return a.setState({executeStatus:mt.ERROR})})},a.renderRequests=function(){var e=a.state.requests;return r.a.createElement("div",{className:"friends__requests"},r.a.createElement("hr",null),r.a.createElement("h3",{className:"friends__title"},r.a.createElement("div",null,"Requests"),r.a.createElement("div",{className:"friends__warning"},e.length)),r.a.createElement("ul",null,e.map(function(e,t){return r.a.createElement("li",{className:"friends__request",key:t},r.a.createElement("div",{className:"friends__request-text"},e.first_name," ",e.last_name," (",e.email,")"),r.a.createElement("div",{className:"friends__request-button"},r.a.createElement(De,{onClick:function(){return a.executeRequest(e,!0)},text:"Accept"})),r.a.createElement("div",{className:"friends__request-button"},r.a.createElement(De,{onClick:function(){return a.executeRequest(e)},text:"Reject"})))})))},a.handleRequest=function(){var e=a.props.user,t=a.state.emailToRequest;B(t,e.id).then(function(){return a.setState({message:"Request sent succesfully",emailToRequest:""})}).catch(function(){return a.setState({message:"Request couldnt be sent",emailToRequest:""})})},a.renderFriendMessage=function(){var e=a.state,t=e.emailToRequest,n=e.executeStatus,s=n===mt.ERROR?"was not added":n===mt.REJECTED?"was rejected!":n===mt.ACCEPTED?"was accepted!":null;if(n)return r.a.createElement("div",{className:"friends__message-".concat(n)},"Friend ",t," ",s)},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.friendsRequests;a.length>0&&I((e=a,Object(O.map)(e,function(e){return{id:e.id_friend}}))).then(function(e){return t.setState({requests:e.data})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.friends,n=t.t,s=t.user,c=this.state,i=c.requests,o=c.message,u=c.emailToRequest,l=c.executeStatus;return r.a.createElement("div",{className:"friends"},r.a.createElement("h2",{className:"friends__title"},n("Friends-Title",{first_name:s.first_name})),l&&this.renderFriendMessage(),r.a.createElement("ul",null,a.map(function(e){return r.a.createElement("li",{key:e.id},e.first_name," ",e.last_name," - ",e.email)})),i.length>0&&this.renderRequests(),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("h3",{className:"friends__title"},n("Add-Friend")),r.a.createElement("div",{className:"friends__form"},r.a.createElement(w,{placeholder:"Friend Email",type:"text",name:"friend_email",value:u,onChange:function(t){return e.setState({emailToRequest:t})}}),r.a.createElement("div",{className:"friends__button"},r.a.createElement(De,{text:"Request",onClick:function(){return e.handleRequest()}}))),o&&r.a.createElement("div",{className:"friends__message"},o)))}}]),t}(n.Component),ht=Object(g.b)(function(e){return{user:e.user,friends:e.friends,friendsRequests:e.friendsRequests}},{})(Object(p.c)()(ft)),pt=a(98),gt=a.n(pt),Et=".xlsx";function vt(e,t){var a=function(e){var t=[];return Object.keys(e).forEach(function(a){if(e[a].length>0){t.length||(t=[(r={id:e[a][0].id,name:e[a][0].name,category:e[a][0].category,subcategory:e[a][0].subcategory},Object.keys(r).map(function(e){return(t=e).charAt(0).toUpperCase()+t.slice(1);var t}))]);var n=e[a].map(function(e){return[e.id,e.name,e.category,e.subcategory]});t=[].concat(Object(ae.a)(t),Object(ae.a)(n))}var r}),t}(e),n=gt.a.utils.book_new(),r=gt.a.utils.aoa_to_sheet(a);gt.a.utils.book_append_sheet(n,r,"Products_Sheet"),gt.a.writeFile(n,"".concat(t).concat(Et))}a(703);var bt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).generateReport=function(e){var t=a.props,n=t.products,r=t.user;vt(n,"".concat(r.first_name,"_products"))},a.renderRequests=function(){var e=a.props,t=e.exchangeRequests,n=e.friends,s=e.user;return r.a.createElement("div",{className:"products__requests"},r.a.createElement("hr",null),r.a.createElement("h3",{className:"products__title"},r.a.createElement("div",null,"Requests"),r.a.createElement("div",{className:"products__warning"},t.length)),r.a.createElement("ul",null,t.map(function(e,t){var a=e.id_stuffier===s.id?s:n.filter(function(t){return t.id===e.id_stuffier})[0],c=e.id_friend===s.id?s:n.filter(function(t){return t.id===e.id_friend})[0];return r.a.createElement("li",{className:"products__request",key:t},r.a.createElement("div",{className:"products__request-text"},"Owner: ",a.first_name," ",a.last_name," (",a.email,")"),r.a.createElement("div",{className:"products__request-text"},"Requestor: ",c.first_name," ",c.last_name," (",c.email,")"),r.a.createElement("div",{className:"products__request-button"},r.a.createElement(De,{onClick:function(){return console.log("Accept Exchange")},text:"Accept"})),r.a.createElement("div",{className:"products__request-button"},r.a.createElement(De,{onClick:function(){return console.log("Reject Exchange")},text:"Reject"})))})))},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.categories,n=t.exchangeRequests,s=t.products,c=t.user;return r.a.createElement("div",{className:"products"},r.a.createElement("div",{className:"products__title"},r.a.createElement("h3",null,c.first_name," Stuff"),r.a.createElement("div",{className:"products__add-product"},r.a.createElement(h.b,{to:"/product/add"},"Add Product"))),n.length>0&&this.renderRequests(),r.a.createElement("hr",null),je(s)&&r.a.createElement("div",null,"No Stuff! Add Products!"),!je(s)&&r.a.createElement("div",null,a.map(function(e){if(s[e.id]&&s[e.id].length)return r.a.createElement("div",{key:e.id},r.a.createElement("h4",null,e.name),r.a.createElement("ul",null,Object(O.map)(s[e.id],function(t){return r.a.createElement("li",{key:"".concat(e.id,"_").concat(t.id)},r.a.createElement(h.b,{to:"/product/".concat(t.id)},t.name))})))}),r.a.createElement("hr",null),r.a.createElement("button",{onClick:function(t){return e.generateReport(t)}},"Generate Report")))}}]),t}(n.Component),yt=Object(g.b)(function(e){return{user:e.user,categories:e.categories,friends:e.friends,exchangeRequests:e.exchangeRequests,products:e.products}},{})(bt),_t=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={id:null,product:{name:null,id:null,category:null,subcategory:null}},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,a=e.products,n=parseInt(t.params.id);this.setState({id:n,product:Se(n,a)})}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.match,r=a.products,s=parseInt(n.params.id);s!==t.id&&this.setState({id:n.params.id,product:Se(s,r)})}},{key:"render",value:function(){var e=this.props,t=e.categories,a=e.subcategories,n=this.state.product;if(!n)return r.a.createElement(N,{size:"lg",message:"Loading product..."});var s=Object(O.find)(t,function(e){return e.id===n.category}),c=Object(O.find)(a,function(e){return e.id===n.subcategory});return r.a.createElement("div",{className:"product"},r.a.createElement("h3",null,n.name),r.a.createElement("hr",null),r.a.createElement(Be,{fileName:n.id,category:n.category,subcategory:n.subcategory,isProduct:"true",height:"200",width:"100"}),r.a.createElement("hr",null),r.a.createElement("div",null,"Category: ",s&&s.name," "),r.a.createElement("div",null,"Subcategory: ",c&&c.name," "))}}]),t}(n.Component),Ot=Object(g.b)(function(e){return{categories:e.categories,products:e.products,subcategories:e.subcategories}},{})(_t),St=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("iframe",{src:"https://webchat.botframework.com/embed/StuffieBot?s=fkpQavtTB78.cwA.pjM.9djZJuhRob4Mt-Lb5-1Wk7yrsHtLAxOKIL6w3gE4910",title:"WebChat"})}}]),t}(n.Component),jt=a(317),Nt=a.n(jt),Ct=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={file:"",progressValue:0},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){if(e&&e.target&&e.target.files){var t=e.target.files[0];this.setState({file:t})}}},{key:"handleSubmit",value:function(e){e.stopPropagation(),e.preventDefault(),Nt.a.recognize(this.state.file,"eng").progress(this.progressUpdate).then(this.result)}},{key:"result",value:function(e){var t=document.getElementById("info"),a=document.getElementById("result");t.innerHTML="Finished!",a.innerHTML=e?e.text:""}},{key:"progressUpdate",value:function(e){if("progress"in e){var t=document.querySelector("progress");t.value=e.progress,t.max=1,document.getElementById("info").innerHTML="Analyzing file..."}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"tickets"},r.a.createElement("h3",null,"Tickets"),r.a.createElement("div",{className:"ticketsForm"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("input",{type:"file",id:"fileId",name:"fileName",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("hr",null),r.a.createElement("input",{type:"submit",value:"Analyze",disabled:!this.state.file}))),r.a.createElement("hr",null),r.a.createElement("div",{id:"status",className:"ticketsStatus"},r.a.createElement("progress",{value:this.state.progressValue,max:"100"}),r.a.createElement("span",{id:"statusInfo",className:"statusInfo"},"Status: ",r.a.createElement("span",{id:"info"}))),r.a.createElement("hr",null),r.a.createElement("div",{id:"result"}))}}]),t}(n.Component),Rt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).authenticate=function(){console.log("secreto: ".concat(z.encrypt("secreto"))),console.log("mario: ".concat(z.encrypt("mario"))),console.log("doc: ".concat(z.encrypt("secrdoceto"))),console.log("merol: ".concat(z.encrypt("merol")))},a.getStuff=function(){var e=[1,1,2,3,4,5];return e.filter(function(t,a){return e.indexOf(t)===a})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"reverseStuff",value:function(e){return e.split("").reverse().join("")}},{key:"render",value:function(){this.authenticate();var e=this.getStuff(),t=this.reverseStuff("unodostres");return r.a.createElement("div",null,r.a.createElement("span",null,"This is my test = ",t),r.a.createElement("span",null,"This is my other test = ",e))}}]),t}(n.Component),wt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(_.d,null,r.a.createElement(_.b,{exact:!0,path:"/",component:$e}),r.a.createElement(_.b,{path:"/admin",component:Le}),r.a.createElement(_.b,{path:"/friends",component:ht}),r.a.createElement(_.b,{path:"/products",component:yt}),r.a.createElement(_.b,{path:"/product/add",component:qe}),r.a.createElement(_.b,{path:"/product/:id",render:function(e){return r.a.createElement(Ot,e)}}),r.a.createElement(_.b,{path:"/category/add",render:function(){return r.a.createElement(be,{type:"category"})}}),r.a.createElement(_.b,{path:"/category/:id",render:function(t){return r.a.createElement(ze,Object.assign({},t,e.props))}}),r.a.createElement(_.b,{path:"/subcategory/add",render:function(){return r.a.createElement(be,{type:"subcategory"})}}),r.a.createElement(_.b,{path:"/exchange",render:function(t){return r.a.createElement(dt,Object.assign({},t,e.props))}}),r.a.createElement(_.b,{path:"/charts",component:rt}),r.a.createElement(_.b,{path:"/support",component:St}),r.a.createElement(_.b,{path:"/tickets",component:Ct}),r.a.createElement(_.b,{path:"/test",component:Rt}))}}]),t}(n.Component),kt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("hr",null),"Stuffie\u2122 is a platform coded and registered by \xa0",r.a.createElement("a",{href:"http://stuffie.azurewebsites.net/PM_Carlos-Reyes2.html",target:"_blank"},"Carlos Reyes-Rico"),".")}}]),t}(n.Component),Tt=(a(706),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(e){var t=a.props,n=t.logout,r=t.history;e.preventDefault(),n(),r.push("/")},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.fetchUserRequests,n=t.user,r=t.userRequests;r&&0===r.length?n.admin&&a().then(function(t){return e.setState({userRequests:t})}):this.setState({userRequests:r})}},{key:"render",value:function(){var e=this.props,t=e.friendsRequests,a=e.exchangeRequests,n=e.products,s=e.t,c=e.user,i=e.userRequests,o=a.length>0?"stuffie-header__section-exchange":"";if(s)return r.a.createElement("div",{className:"stuffie-header"},r.a.createElement("div",{className:"stuffie-header__left"},r.a.createElement("div",{className:"stuffie-header__info"},r.a.createElement("div",{className:"stuffie-header__logo"},r.a.createElement(Be,{fileName:"logo_2020",format:"jpg",height:"50",width:"50"})),r.a.createElement("div",{className:"stuffie-header__user"},"Stuffie")),r.a.createElement("div",{className:"stuffie-header__sections"},r.a.createElement("div",{className:"stuffie-header__section-item"},r.a.createElement(h.b,{to:"/"},s("Feed"))),r.a.createElement("div",{className:"stuffie-header__section-item"},r.a.createElement(h.b,{to:"/friends"},s("Friends")),t.length>0&&r.a.createElement("div",{className:"stuffie-header__warning"},t.length)),r.a.createElement("div",{className:"stuffie-header__section-item ".concat(o)},r.a.createElement(h.b,{to:"/products"},s("Products")),a.length>0&&r.a.createElement("div",{className:"stuffie-header__warning"},a.length)),c.admin&&r.a.createElement("div",{className:"stuffie-header__section-item"},r.a.createElement(h.b,{to:"/admin"},s("Admin")),i.length>0&&r.a.createElement("div",{className:"stuffie-header__warning"},i.length)),r.a.createElement("div",{className:"stuffie-header__logout"},r.a.createElement("a",{onClick:this.handleLogout},s("Logout"))))),r.a.createElement("div",{className:"stuffie-header__search"},r.a.createElement(st,{products:n})))}}]),t}(n.Component)),qt={fetchUserRequests:Ue,logout:function(){return localStorage.removeItem("picture"),localStorage.removeItem("username"),{type:"STUFFIE::REVOKE_USER"}}},Dt=Object(g.b)(function(e){return{user:e.user,userRequests:e.userRequests,friendsRequests:e.friendsRequests,products:e.products,exchangeRequests:e.exchangeRequests}},qt)(Object(p.c)()(Object(_.g)(Tt))),Ut=(a(707),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).renderCategories=function(){var e=a.props,t=e.categories,n=e.products;if(t&&n)return t.filter(function(e){return n[e.id]&&n[e.id].length}).map(function(e){var t={pathname:"/category/".concat(e.id),category:e.name};return r.a.createElement("div",{key:e.id,className:"menu__category"},r.a.createElement(h.b,{className:"",key:e.id,to:t},e.name))})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.products,a=e.t;return r.a.createElement("div",null,r.a.createElement("div",{className:"menu__title"},a("Summary")),je(t)&&r.a.createElement("div",null,"No products"),r.a.createElement("div",{className:"menu__list"},this.renderCategories()))}}]),t}(n.Component)),Ft=Object(g.b)(function(e){return{user:e.user,categories:e.categories,products:e.products}},{})(Object(p.c)()(Ut)),xt=(a(708),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.t;return r.a.createElement("div",{className:"stuffie"},r.a.createElement("div",{className:"stuffie__header"},r.a.createElement(Dt,null)),r.a.createElement("div",{className:"stuffie__main"},r.a.createElement("div",{className:"stuffie__menu"},r.a.createElement(Ft,null)),r.a.createElement("div",{className:"stuffie__content"},r.a.createElement(wt,null)),r.a.createElement("div",{className:"stuffie__right"},r.a.createElement("div",{className:"stuffie__user"},t.picture&&r.a.createElement("img",{src:t.picture}),r.a.createElement("div",{className:"stuffie__welcome"},a("Welcome")," ",t.first_name)),r.a.createElement("div",{className:"stuffie__apps"},r.a.createElement(te,null)))),r.a.createElement("div",{className:"stuffie_footer"},r.a.createElement(kt,null)),r.a.createElement(ne,null))}}]),t}(n.Component)),At=Object(g.b)(function(e){return{user:e.user}},{})(Object(p.c)()(xt)),Lt=x(function(e){return D.a.get(A.user.friendsRequest(e),{headers:k.headers})},U("MENU::FRIENDS_REQUESTS_FETCHED")),Pt=(a(709),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!0},a.fetchData=function(){var e=a.props,t=e.user,n=e.fetchCategories,r=e.fetchFriends,s=e.fetchSubCategories,c=e.fetchProducts,i=e.fetchFriendsRequests,o=e.fetchExchangeRequests,u=[n(),s(),r(t.email),i(t.email),o(t.id)];Promise.all(u).then(function(e){return c(t,e[0].data)}).catch(function(e){return console.log(e)}).finally(function(){return a.setState({isLoading:!1})})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){return this.state.isLoading?r.a.createElement("div",{className:"fetch-data__loading"},r.a.createElement(N,{size:"xl",message:"Loading data and products..."})):r.a.createElement(At,null)}}]),t}(n.Component)),zt={fetchCategories:de,fetchFriends:function(e){return function(t){return function(e){return D.a.get(A.user.friends(e),{headers:k.headers})}(e).then(function(e){return I((t=e.data,Object(O.map)(t,function(e){return{id:e.id_friend}})));var t}).then(function(a){var n=a.data;return t(Ye(n,e)),Promise.resolve(n)})}},fetchFriendsRequests:Lt,fetchProducts:function(e,t){return function(a){return(n=e.id,D.a.get(A.stuff.listForStuffier(n),{headers:k.headers})).then(function(e){return re(Oe(e.data))}).then(function(n){var r=n.data,s=function(e,t){var a={};return Object(O.forEach)(e,function(e){a=Object(T.a)({},a,Object(_e.a)({},e.id,[]))}),Object(O.isEmpty)(a)||Object(O.forEach)(t,function(e){a[e.category].push(e)}),a}(t,r);return a(Ce(s,e.email)),Promise.resolve(s)});var n}},fetchSubCategories:he,fetchExchangeRequests:function(e){return function(t){return(a=e,D.a.get(A.exchange.list(a),{headers:k.headers})).then(function(a){t(ot(a.data,e)),Promise.resolve(a.data)}).catch(function(e){return Promise.reject(e)});var a}}},It=Object(g.b)(function(e){return{user:e.user}},zt)(Pt),Mt=(a(710),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",firstName:"",lastName:"",isLoading:!1},a.handleSubmit=function(e){var t=a.props,n=t.registerUser,r=t.setMessage,s=a.state,c={email:s.email,password:s.password,first_name:s.firstName,last_name:s.lastName,admin:!1};e.preventDefault(),a.setState({isLoading:!0}),n(c).then(function(e){localStorage.setItem("username",e.email),r("Register Successful. Request to be accepted by Admin. Do not login yet!")}).catch(function(e){return r("Error: Couldn't register. Try again.")}).finally(function(){return a.setState({isLoading:!1})})},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"enableButton",value:function(){var e=this.state,t=e.email,a=e.password,n=e.firstName,r=e.lastName;return t.length>0&&a.length>0&&n.length>0&&r.length>0}},{key:"render",value:function(){var e=this,t=this.state.isLoading;return r.a.createElement("div",{className:"register"},r.a.createElement("h1",null,"Register"),r.a.createElement("form",{className:"register__form",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"register__content"},r.a.createElement("div",{className:"register__row"},r.a.createElement("div",{className:"register__text"},"Email"),r.a.createElement(w,{type:"text",name:"email",placeholder:"Email",disabled:t,onChange:function(t){return e.setState({email:t})}})),r.a.createElement("div",{className:"register__row"},r.a.createElement("div",{className:"register__text"},"Password"),r.a.createElement(w,{type:"password",name:"password",placeholder:"Password",disabled:t,onChange:function(t){return e.setState({password:t})}})),r.a.createElement("div",{className:"register__row"},r.a.createElement("div",{className:"register__text"},"First Name"),r.a.createElement(w,{type:"text",name:"firstName",placeholder:"First Name",disabled:t,onChange:function(t){return e.setState({firstName:t})}})),r.a.createElement("div",{className:"register__row"},r.a.createElement("div",{className:"register__text"},"Last Name"),r.a.createElement(w,{type:"text",name:"lastName",placeholder:"Last Name",disabled:t,onChange:function(t){return e.setState({lastName:t})}}))),r.a.createElement("div",{className:"register__button"},r.a.createElement(De,{type:"submit",text:"Register",disabled:!this.enableButton()||t}),t&&r.a.createElement("div",{className:"register__loading"},r.a.createElement(N,{size:"md"})))))}}]),t}(n.Component)),Bt={registerUser:function(e){return function(t){return M(e).then(function(){return t(Y(e,e.email)),Promise.resolve(e)})}}},Gt=Object(g.b)(function(e){return{user:e.user}},Bt)(Object(_.g)(Mt)),Ht=(a(711),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!0,message:""},a.getMessageType=function(e){return e.toLowerCase().includes("Error")?"error":e.toLowerCase().includes("successful")?"successful":""},a}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.fetchUser;localStorage.getItem("username")?t(localStorage.getItem("username")).finally(function(){return e.setState({isLoading:!1})}):this.setState({isLoading:!1})}},{key:"componentDidUpdate",value:function(e,t){e.user!==this.props.user&&this.setState({message:""})}},{key:"render",value:function(){var e=this,t=this.props.user,a=this.state,n=a.isLoading,s=a.message,c=Object(O.get)(t,"request"),i=c?"User successfully registered, wait for authorization. Don't register again.":s;return n?r.a.createElement("div",{className:"auth__loading"},r.a.createElement(N,{size:"xl",message:"Loading"})):Object(O.isEmpty)(t)||c?r.a.createElement("div",{className:"auth"},r.a.createElement("div",{className:"auth__header"},r.a.createElement(Be,{fileName:"logo_2020_2",format:"jpg",height:"50",width:"50"}),r.a.createElement("h1",{className:"auth__title"},r.a.createElement("span",{className:"auth__stuffie"},"Stuffie"),r.a.createElement("span",{className:"auth__slogan"},"Connecting Life"))),r.a.createElement("div",{className:"auth__horizontal-line"}),s&&r.a.createElement("div",{className:"auth__message-".concat(this.getMessageType(i))},i),r.a.createElement("div",{className:"auth__content"},r.a.createElement(Gt,{setMessage:function(t){return e.setState({message:t})}}),r.a.createElement("div",{className:"auth__line"}),r.a.createElement($,{setMessage:function(t){return e.setState({message:t})}}))):Object(O.isEmpty)(t)?void 0:r.a.createElement(It,null)}}]),t}(n.Component)),Kt={fetchUser:J},Jt=Object(g.b)(function(e){return{user:e.user}},Kt)(Ht),Yt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(_.d,null,r.a.createElement(_.b,{path:"/",component:Jt}),r.a.createElement(_.b,{path:"/login",component:$}),r.a.createElement(_.b,{path:"/register",component:Gt}))}}]),t}(n.Component),Vt=Object(p.c)()(Yt),Wt=(a(712),a(713),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.store;return r.a.createElement("div",{className:"stuffie__app"},r.a.createElement(g.a,{store:e},r.a.createElement(p.a,{i18n:y},r.a.createElement(h.a,null,r.a.createElement(Vt,null)))))}}]),t}(n.Component)),Qt=Object(p.c)()(Wt),$t=Object(i.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STUFFIE:LOGIN_USER_FETCHED":case"STUFFIE:USER_FETCHED":case"STUFFIE:USER_PICTURE_ADDED":return t.payload;default:return e}},userRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STUFFIE:USER_REQUESTS_FETCHED":return t.payload;case"STUFFIE::USER_REQUEST_DELETED":return e.filter(function(e){return e._id!==t.payload._id});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU:CATEGORY_ADDED":var a=t.payload;return[].concat(Object(ae.a)(e),[a]);case"MENU::CATEGORIES_FETCHED":case"MENU::CATEGORY_FETCHED":return t.payload;default:return e}},friends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER::FRIENDS_FETCHED":case"FRIENDS::PRODUCTS_FETCHED":return t.payload;default:return e}},friendsRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU::FRIENDS_REQUESTS_FETCHED":return t.payload;default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCTS::PRODUCT_ADDED":var a=t.payload,n=e[a.category];return Object(T.a)({},e,Object(_e.a)({},a.category,[].concat(Object(ae.a)(n),[a])));case"MENU::PRODUCTS_FETCHED":return t.payload;default:return e}},subcategories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU:SUBCATEGORY_ADDED":var a=t.payload;return[].concat(Object(ae.a)(e),[a]);case"MENU::SUBCATEGORIES_FETCHED":case"MENU::SUBCATEGORY_FETCHED":return t.payload;default:return e}},exchangeRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXCHANGES::FETCHED":return t.payload;default:return e}}}),Xt=function(e,t){return"STUFFIE::REVOKE_USER"===t.type&&(e=void 0),$t(e,t)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(714),a(715);var Zt=[o.a],ea="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d;Zt.push(a(716));var ta=Object(i.e)(Xt,ea(i.a.apply(void 0,Zt)));c.a.render(r.a.createElement(Qt,{store:ta}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[331,1,2]]]);
//# sourceMappingURL=main.17600f49.chunk.js.map