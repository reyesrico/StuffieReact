(this.webpackJsonpstuffiereact=this.webpackJsonpstuffiereact||[]).push([[0],{308:function(e,t){},320:function(e){e.exports=JSON.parse('{"translations":{"Add-Friend":"Add Friend","Admin":"Admin","English":"English","Feed":"Feed","Friends":"Friends","Friends-Title":"{{ first_name }} Friends","Language":"Language","Logout":"Logout","Products":"Products","Spanish":"Spanish","Summary":"Summary","Welcome":"Welcome ","Welcome to React Translation":"Welcome to React Translate.","This is test view":"This is the test view.","Loading-data":"Loading data and products...","Loading-Feed":"Loading Feed"}}')},321:function(e){e.exports=JSON.parse('{"translations":{"Add-Friend":"Agregar Amigo","Admin":"Admin","English":"Ingles","Feed":"Feed","Friends":"Amigos","Friends-Title":"Amigos de {{ first_name }}","Language":"Idioma","Logout":"Salir","Products":"Productos","Spanish":"Espa\xf1ol","Summary":"Inventario","Welcome":"Hola ","Welcome to React Translation":"Bienvenido.","This is test view":"Esta es una prueba.","Loading-data":"Cargando datos and productos...","Loading-Feed":"Cargando Feed"}}')},348:function(e,t,n){e.exports=n(740)},366:function(e,t,n){},367:function(e,t,n){},368:function(e,t,n){},391:function(e,t){},393:function(e,t){},402:function(e,t){},404:function(e,t){},431:function(e,t){},432:function(e,t){},497:function(e,t,n){},499:function(e,t,n){},500:function(e,t,n){},501:function(e,t,n){},502:function(e,t,n){},503:function(e,t,n){},504:function(e,t,n){},505:function(e,t,n){},603:function(e,t,n){},604:function(e,t,n){},605:function(e,t,n){},717:function(e,t,n){},718:function(e,t,n){},719:function(e,t,n){},720:function(e,t,n){},722:function(e,t){},723:function(e,t){},724:function(e,t,n){},727:function(e,t,n){},728:function(e,t,n){},729:function(e,t,n){},730:function(e,t,n){},731:function(e,t,n){},732:function(e,t,n){},733:function(e,t,n){},734:function(e,t,n){},736:function(e,t,n){},737:function(e,t,n){},740:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(53),s=n.n(c),i=n(56),o=n(313),u=n(5),l=n(6),f=n(8),d=n(7),m=n(2),p=n(18),h=n(23),g=n(14),v=n(135),E=n(320),y=n(321);v.a.use(h.b).init({lng:"en",resources:{en:E,es:y},fallbackLng:"en",debug:!1,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}},(function(e,t){e&&console.info("i18n.language",v.a.language)}));var b=v.a,_=n(57),O=n(13),R=n(322),S=n.n(R);n(366);var j=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"getSize",value:function(){switch(this.props.size){case"sm":return 8;case"md":return 16;case"lg":return 32;case"xl":return 64;default:return 8}}},{key:"render",value:function(){var e=this.props.message,t=this.getSize();return a.a.createElement("div",{className:"stuffie-loading"},a.a.createElement(S.a,{type:"spin",color:"#00f",height:t,width:t}),e&&a.a.createElement("div",{className:"stuffie-loading__message"},e))}}]),n}(r.Component),N=n(323),C=n.n(N);n(367);var D=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.type,r=e.text,c=e.onClick;return c?a.a.createElement("button",{className:"button",type:n||"button",onClick:function(e){return e&&c()},disabled:t},r):a.a.createElement("button",{className:"button",type:n||"button",disabled:t},r)}}]),n}(r.Component);n(368);var P=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.placeholder,r=e.type,c=e.value,s=e.onChange,i=e.disabled,o=e.reference;return a.a.createElement("div",{className:"textfield"},null!==c&&!s&&a.a.createElement("input",{type:r,name:t,placeholder:n||"",value:c,disabled:i,ref:o}),s&&a.a.createElement("input",{type:r,name:t,placeholder:n||"",disabled:i,onChange:function(e){return s(e.target.value)},ref:o,value:c}))}}]),n}(r.Component),x={cloudinary:{url:"https://res.cloudinary.com/reyesrico/image/upload/c_scale,f_auto,w_100/v1",cloudName:"reyesrico",apiKey:"981789986692969",apiSecret:"xxQPfLvWpN_iIlt1RfMZnB3jRw0"},cloudinary_headers:{"cache-control":"no-cache","x-apikey":"981789986692969"},fb:{appId:"1458399831108421"},headers:{"cache-control":"no-cache","x-apikey":"5c932ad1cac6621685acc11e"},server:"https://stuffie-98b2.restdb.io/rest/"},q=n(28),k=n(11),w=n.n(k),T=function(e){return function(t,n){return{meta:n,payload:t,type:e}}},L=function(e,t){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return function(n){return e.apply(void 0,r).then((function(e){var a=e.data;return n(t(a,Object(q.a)({},r))),Promise.resolve(a)}))}}},F=function(e,t,n){return function(r){return function(a){return n&&a(n(void 0,r)),e(r).then((function e(n){var c=n.data;return a(t(c,r)),c.next?w.a.get(c.next).then(e):Promise.resolve({data:c})}))}}},U={category:{add:function(){return"".concat(x.server,"categories")},list:function(){return"".concat(x.server,"categories")},detail:function(e){return"".concat(x.server,"categories?q=").concat(JSON.stringify({id:parseInt(e)}))}},cloudinary:{exist:function(){return"https://".concat(x.cloudinary.apiKey,":").concat(x.cloudinary.apiSecret,"@api.cloudinary.com/v1_1/").concat(x.cloudinary.cloudName,"/resources/image")}},subcategory:{add:function(){return"".concat(x.server,"subcategories")},list:function(){return"".concat(x.server,"subcategories")},detail:function(e){return"".concat(x.server,"subcategories?q=").concat(JSON.stringify({id:parseInt(e)}))}},stuff:{addStuffiersStuff:function(){return"".concat(x.server,"stuffiers-stuff")},addStuff:function(){return"".concat(x.server,"stuff")},detail:function(e){return"".concat(x.server,"stuff?q=").concat(JSON.stringify({id:parseInt(e)}))},listDetail:function(e){return"".concat(x.server,'stuff?q={"$or":').concat(JSON.stringify(e),"}&metafields=true")},listForStuffier:function(e){return"".concat(x.server,"stuffiers-stuff?q=").concat(JSON.stringify({id_stuffier:e}))},listStuffiers:function(e){return"".concat(x.server,'stuffiers-stuff?q={"$or":').concat(JSON.stringify(e),"}")},detailFromCategories:function(e,t){return"".concat(x.server,'stuff?q={"$and":[{"category": ').concat(e,'}, {"subcategory": ').concat(t,"}]}")},listPendingPics:function(){return"".concat(x.server,'stuff?q={"$or": [ {"file_name": {"$exists": false}}, {"file_name": ""} ]}')}},user:{detail:function(e){return"".concat(x.server,"stuffiers?q=").concat(JSON.stringify({email:e}))},listDetail:function(e){return"".concat(x.server,'stuffiers?q={"$or":').concat(JSON.stringify(e),"}")},friends:function(e){return"".concat(x.server,"friends?q=").concat(JSON.stringify({email_stuffier:e}))},list:function(){return"".concat(x.server,"stuffiers")},loginUser:function(e,t){return"".concat(x.server,"stuffiers?q=").concat(JSON.stringify({email:e,password:t}))},registerUser:function(){return"".concat(x.server,"stuffiers")},lastId:function(){return"".concat(x.server,'stuffiers?q={}&h={"$fields": {"id":1}, "$aggregate":["COUNT:"] }')},requestToBeFriend:function(){return"".concat(x.server,"friend-requests")},friendsRequest:function(e){return"".concat(x.server,"friend-requests?q=").concat(JSON.stringify({email_stuffier:e}))},friendRequestDetail:function(e,t){return"".concat(x.server,"friend-requests?q=").concat(JSON.stringify({email_stuffier:e,id_friend:t}))},deleteFriendRequest:function(e){return"".concat(x.server,"friend-requests/").concat(e)},friend:function(){return"".concat(x.server,"friends")},userRequests:function(){return"".concat(x.server,'stuffiers?q={"request": true}')},deleteUserRequest:function(e){return"".concat(x.server,"stuffiers/").concat(e)}},exchange:{request:function(){return"".concat(x.server,"exchange-requests")},list:function(e){return"".concat(x.server,'exchange-requests?q={ "$or": [{ "id_stuffier": ').concat(e,' } ,{ "id_friend": ').concat(e," }] }")},deleteRequest:function(e){return"".concat(x.server,"exchange-requests/").concat(e)}},loan:{request:function(){return"".concat(x.server,"loan-requests")},list:function(e){return"".concat(x.server,'loan-requests?q={ "$or": [{ "id_stuffier": ').concat(e,' } ,{ "id_friend": ').concat(e," }] }")},deleteRequest:function(e){return"".concat(x.server,"loan-requests/").concat(e)}}},A=n(185),z=n.n(A),I={encrypt:function(e){return z.a.SHA256(e).toString(z.a.enc.Hex)}},M=function(e){return e.length>0?w.a.get(U.user.listDetail(e),{headers:x.headers}):Promise.resolve({})},H=function(e){var t=I.encrypt(e.password);return w.a.get(U.user.lastId(),{headers:x.headers}).then((function(n){var r=Object.values(n.data)[0]+1;return w.a.post(U.user.registerUser(),Object(q.a)(Object(q.a)({},e),{},{password:t,id:r,request:!0}),{headers:x.headers})}))},B=function(e,t){return w.a.post(U.user.requestToBeFriend(),{email_stuffier:e,id_friend:t},{headers:x.headers})},G=function(e,t){return w.a.get(U.user.friendRequestDetail(e,t),{headers:x.headers}).then((function(e){return w.a.delete(U.user.deleteFriendRequest(e.data[0]._id),{headers:x.headers})}))},W=function(e,t){return w.a.post(U.user.friend(),{email_stuffier:e,id_friend:t},{headers:x.headers})},K=(T("STUFFIE:LOGIN_USER_FETCHED"),T("STUFFIE:USER_FETCHED")),J=function(e){return function(t){return function(e){return w.a.get(U.user.detail(e),{headers:x.headers})}(e).then((function(n){return t(K(n.data[0],e)),Promise.resolve(n)}))}},V=T("STUFFIE:USER_REGISTERED"),Y=T("STUFFIE:USER_PICTURE_ADDED");n(497);var Q=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={email:null,password:null,loginFB:!1},e.onClick=function(){var t=e.props,n=t.fetchUser,r=t.loginUser,a=t.setMessage,c=e.state,s=c.email,i=c.password;s&&i&&r(s,i).then((function(e){return n(e.data[0].email)})).then((function(e){localStorage.setItem("username",e.data[0].email),a("Login successful")})).catch((function(){return a("Error: Couldn't login. Try again.")}))},e.responseFacebook=function(t){var n=e.props,r=n.addUserPicture,a=n.fetchUser,c=n.setMessage;t&&a(t.email).then((function(e){var n=t.picture.data.url;localStorage.setItem("username",e.data[0].email),r(e.data[0],n),c("Login successful")})).catch((function(){return c("Error: Couldn't login. Try again.")}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.state.loginFB;return a.a.createElement("div",{className:"login"},a.a.createElement("h1",null,"Login"),a.a.createElement("form",{className:"login__form"},a.a.createElement(P,{type:"email",name:"email",placeholder:"Email",onChange:function(t){return e.setState({email:t})}}),a.a.createElement(P,{type:"password",name:"password",placeholder:"Password",onChange:function(t){return e.setState({password:t})}}),a.a.createElement(D,{onClick:function(){return e.onClick()},text:"Login"})),a.a.createElement("hr",{className:"login__hr"}),a.a.createElement(C.a,{appId:x.fb.appId,autoLoad:t,fields:"name,email,picture",scope:"public_profile,user_friends",onClick:function(t){return t&&e.setState({loginFB:!0})},callback:this.responseFacebook}))}}]),n}(r.Component),$={addUserPicture:function(e,t){return function(n){var r=Object(q.a)(Object(q.a)({},e),{},{picture:t});n(Y(r,r.email))}},loginUser:function(e,t){return function(n){return function(e,t){return w.a.get(U.user.loginUser(e,I.encrypt(t)),{headers:x.headers})}(e,t).then((function(e){return Promise.resolve(e)}))}},fetchUser:J},X=Object(g.b)(null,$)(Object(_.g)(Q)),Z=n(20),ee=[{value:"en",label:"English"},{value:"es",label:"Spanish"}];n(499);var te=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isOpen:!1},e.open=function(){e.setState({isOpen:!0})},e.toggle=function(){e.setState({isOpen:!e.state.isOpen})},e}return Object(l.a)(n,[{key:"handleClickOutside",value:function(){this.setState({isOpen:!1})}},{key:"render",value:function(){var e=this.state.isOpen?"dropdown--is-open":"";return a.a.createElement("div",{className:"dropdown"},a.a.createElement("div",{className:"dropdown__label",onClick:this.toggle},this.props.label(this.state.isOpen)),a.a.createElement("div",{className:"dropdown__content-container"},a.a.createElement("div",{className:"dropdown__content ".concat(e)},this.props.children)))}}]),n}(r.Component);n(500);var ne=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={lang:ee[0]},e.changeLang=function(t){var n=e.props.i18n;e.setState({lang:t}),n.changeLanguage(t.value)},e.renderCurrentLanguage=function(t){var n=e.props.t;return a.a.createElement("div",{className:t?"apps__language-open":"apps__language"},n("Language"))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"apps"},a.a.createElement("div",{className:"apps__title"},"Apps & extras"),a.a.createElement("div",{className:"apps__item"},a.a.createElement(p.b,{to:"/tickets"},"Tickets")),a.a.createElement("div",{className:"apps__item"},a.a.createElement(p.b,{to:"/support"},"Support")),a.a.createElement("div",{className:"apps__item"},a.a.createElement(p.b,{to:"/charts"},"Charts")),a.a.createElement("div",{className:"apps__item"},a.a.createElement(p.b,{to:"/test"},"Test")),a.a.createElement("hr",null),a.a.createElement("div",{className:"apps__item"},a.a.createElement(te,{label:function(t){return e.renderCurrentLanguage(t)}},ee.map((function(t){return a.a.createElement("div",{key:t.value,className:"apps__option",onClick:function(){return e.changeLang(t)}},t.label)})))))}}]),n}(r.Component),re=Object(g.b)((function(e){return{user:e.user}}),{})(Object(h.c)()(Object(_.g)(ne)));n(501);var ae=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={messageList:[]},e}return Object(l.a)(n,[{key:"onMessageWasSent",value:function(e){this.setState({messageList:[].concat(Object(Z.a)(this.state.messageList),[e])})}},{key:"sendMessage",value:function(e){e.length>0&&this.setState({messageList:[].concat(Object(Z.a)(this.state.messageList),[{author:"them",type:"text",data:{text:e}}])})}},{key:"render",value:function(){return a.a.createElement("div",{className:"chat"},"Get new Chat-Window")}}]),n}(r.Component),ce=function(e){return e.length?w.a.get(U.stuff.listDetail(e),{headers:x.headers}):Promise.resolve([])},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return w.a.get(U.category.list(),{headers:x.headers,cancelToken:e})},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return w.a.get(U.subcategory.list(),{headers:x.headers,cancelToken:e})},oe=function(e,t){return w.a.post(U.stuff.addStuffiersStuff(),{id_stuffier:e,id_stuff:t},{headers:x.headers})},ue=function(e,t,n){var r=[],a=e.toLowerCase();return Promise.all([se(n),ie(n)]).then((function(e){return e[0].data.forEach((function(e){e.name.toLowerCase().includes(a)&&r.push({type:"Category",name:e.name,id:e.id})})),e[1].data.forEach((function(e){e.name.toLowerCase().includes(a)&&r.push({type:"Subcategory",name:e.name,id:e.id})})),Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.name.toLowerCase().includes(a)&&r.push({type:"Product",name:e.name,id:e.id})}))})),Promise.resolve(r)}))},le=function(e,t){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))},fe=T("MENU::CATEGORIES_FETCHED"),de=F(se,fe),me=(F((function(e){return w.a.get(U.category.detail(e),{headers:x.headers})}),T("MENU::CATEGORY_FETCHED")),F((function(e){var t=e.id,n=e.name;return w.a.post(U.category.add(),{id:t,name:n},{headers:x.headers})}),T("MENU:CATEGORY_ADDED"))),pe=T("MENU::SUBCATEGORIES_FETCHED"),he=F(ie,pe),ge=(F((function(e){return w.a.get(U.subcategory.detail(e),{headers:x.headers})}),T("MENU::SUBCATEGORY_FETCHED")),F((function(e){var t=e.id,n=e.name;return w.a.post(U.subcategory.add(),{id:t,name:n},{headers:x.headers})}),T("MENU:SUBCATEGORY_ADDED")));n(502);var ve="category",Ee="subcategory",ye=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={isLoading:!1,id:"",name:"",categories:[],subcategories:[],tempObjects:null},e.createValue=function(){var t=e.props,n=t.addCategory,r=t.addSubCategory,a=t.type,c=e.state,s=c.categories,i=c.subcategories;a===ve&&(e.setState({isLoading:!0}),n({name:e.state.name,id:Number(e.state.id)}).then((function(t){var n={_id:t.data._id,id:t.data.id,name:t.data.name};e.setState({categories:[].concat(Object(Z.a)(s),[n]),name:"",id:""})})).finally((function(){e.setState({isLoading:!1})}))),a===Ee&&(e.setState({isLoading:!0}),r({name:e.state.name,id:Number(e.state.id)}).then((function(t){var n={_id:t.data._id,id:t.data.id,name:t.data.name};e.setState({subcategories:[].concat(Object(Z.a)(i),[n]),name:"",id:""})})).finally((function(){e.setState({isLoading:!1})})))},e.renderValues=function(t){var n=e.props,r=n.categories,c=n.subcategories,s=t===ve?r:c;return Object(O.map)(s,(function(e){return a.a.createElement("li",{className:"add-category__item",key:"".concat(t,"_").concat(e.id)},a.a.createElement("span",{className:"add-category__id"},"(",e.id,")")," - ",e.name)}))},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.type;"subcategory"===e.type&&"category"===t&&this.setState({label:"Category"}),"category"===e.type&&"subcategory"===t&&this.setState({label:"SubCategory"})}},{key:"render",value:function(){var e=this,t=this.props.type;if(this.state.isLoading)return a.a.createElement(j,{size:"md"});var n=t===ve?"Category":"SubCategory",r=t!==ve?"Category":"SubCategory",c=t===ve?Ee:ve;return a.a.createElement("div",{className:"add-category"},a.a.createElement("form",null,a.a.createElement("div",{className:"add-category__values"},a.a.createElement("div",null,a.a.createElement("h2",null,n),a.a.createElement("ul",{className:"add-category__list"},this.renderValues(t))),a.a.createElement("div",null,a.a.createElement("h2",null,r),a.a.createElement("ul",{className:"add-category__list"},this.renderValues(c)))),a.a.createElement("hr",null),a.a.createElement("div",{className:"add-category__row"},a.a.createElement("label",null,"Id"),a.a.createElement(P,{name:"id",type:"text",onChange:function(t){return e.setState({id:t})}})),a.a.createElement("div",{className:"add-category__row"},a.a.createElement("label",null,n),a.a.createElement(P,{name:"name",type:"text",onChange:function(t){return e.setState({name:t})}})),a.a.createElement("hr",null),a.a.createElement(D,{onClick:function(){return e.createValue()},text:"Send"})))}}]),n}(r.Component),be={addCategory:me,addSubCategory:ge},_e=Object(g.b)((function(e){return{user:e.user,categories:e.categories,subcategories:e.subcategories}}),be)(ye);var Oe=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={valueSelected:null},e.updateChange=function(t){var n=e.props,r=n.onChange,a=n.values,c=Number(t.target.value),s=Object(O.find)(a,(function(e){return e.id===c}));e.setState({valueSelected:c}),r(s)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.values,t=this.state.valueSelected,n=e&&e[0]?e[0].id:null,r=t||n;return a.a.createElement("select",{onChange:this.updateChange,value:r},e&&e.map((function(e,t){return a.a.createElement("option",{key:t,value:e.id},e.name)})))}}]),n}(r.Component);n(503);var Re,Se=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.type;return t?a.a.createElement("div",{className:"warning-message warning-message__".concat(n)},t):a.a.createElement("div",null)}}]),n}(r.Component);!function(e){e.ERROR="error",e.SUCCESSFUL="successful",e.WARNING="warning",e.EMPTY=""}(Re||(Re={}));var je=n(55);function Ne(e){return Object(O.map)(e,(function(e){return{id:e.id_stuff}}))}function Ce(e,t){for(var n=Object.values(t),r=null,a=0;a<n.length&&!(r=n[a].find((function(t){return t.id===e})));a++);return r}function De(e){return!Object.values(e).filter((function(e){return e.length>0})).length}var Pe=T("MENU::PRODUCT_FETCHED"),xe=T("MENU::PRODUCTS_FETCHED"),qe=T("PRODUCTS::PRODUCT_ADDED"),ke=F((function(e){return w.a.get(U.stuff.detail(e),{headers:x.headers})}),Pe);n(504);var we=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={status:Re.EMPTY,name:null,file_name:null,category:e.props.categories[0],product:{id:null,name:null},subcategory:e.props.subcategories[0],stuffStuffier:{},productsByCategories:[]},e.createProduct=function(){var t=e.props,n=t.addProduct,r=t.user,a=e.state,c=a.name,s=a.category,i=a.subcategory;c&&s&&i&&n({name:c,category:s.id,subcategory:i.id},r).then((function(t){e.setState({product:t,stuffStuffier:t,status:Re.SUCCESSFUL})})).catch((function(){var t={name:c,category:s.id,subcategory:i.id};e.setState({product:t,stuffStuffier:t,status:Re.ERROR})}))},e.clearState=function(){e.setState({status:Re.EMPTY,name:null,file_name:null,category:e.props.categories[0],subcategory:e.props.subcategories[0],product:{},stuffStuffier:{}})},e.getMessage=function(){var t=e.state,n=t.stuffStuffier,r=t.status,a=t.product,c=r===Re.ERROR?"was not added":"was added successfully!";return a&&!Object(O.isEmpty)(n)?"Stuff ".concat(a.name," ").concat(c):""},e.updateCategory=function(t){e.renderProducts(t,e.state.subcategory),e.setState({category:t})},e.updateSubcategory=function(t){e.renderProducts(e.state.category,t),e.setState({subcategory:t})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.renderProducts(this.state.category,this.state.subcategory)}},{key:"setProduct",value:function(){var e=this,t=this.props,n=t.addRegisteredProduct,r=t.history;n(t.user,this.state.product).then((function(t){e.setState({stuffStuffier:t,status:Re.SUCCESSFUL}),r.push("/products")}))}},{key:"renderProducts",value:function(e,t){var n=this,r=this.props.products;(function(e,t){return w.a.get(U.stuff.detailFromCategories(e,t),{headers:x.headers})})(e.id,t.id).then((function(e){var t=e.data[0],a=e.data.filter((function(e){return e.id&&!Ce(e.id,r)}));n.setState({productsByCategories:a,product:t})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.categories,r=t.subcategories,c=this.state,s=c.product,i=c.productsByCategories,o=c.category,u=c.status,l=c.subcategory;return a.a.createElement("div",{className:"add-product"},a.a.createElement("h3",null,"Add Stuff"),a.a.createElement(Se,{message:this.getMessage(),type:u}),a.a.createElement("hr",null),a.a.createElement("form",null,a.a.createElement("div",null,"Select Product"),a.a.createElement("div",{className:"add-product__row"},a.a.createElement("label",null,"Category"),a.a.createElement(Oe,{onChange:function(t){return e.updateCategory(t)},values:n})),a.a.createElement("div",{className:"add-product__row"},a.a.createElement("label",null,"SubCategory"),a.a.createElement(Oe,{onChange:function(t){return e.updateSubcategory(t)},values:r})),!i.length&&a.a.createElement("div",null,"There are no products"),i.length>0&&a.a.createElement("div",{className:"add-product__row"},a.a.createElement("label",null,"Product"),a.a.createElement(Oe,{onChange:function(t){return e.setState({product:t})},values:i})),a.a.createElement("hr",null),a.a.createElement(D,{text:"Add Product",disabled:!(o&&l&&s&&s.name),onClick:function(){return e.setProduct()}}),a.a.createElement("hr",null),a.a.createElement("div",null,"Create New Product"),a.a.createElement("div",{className:"add-product__row"},a.a.createElement("label",null,"Name"),a.a.createElement(P,{name:"name",type:"text",onChange:function(t){return e.setState({name:t})}})),a.a.createElement("div",{className:"add-product__row"},a.a.createElement("label",null,"Category"),a.a.createElement(Oe,{onChange:function(t){return e.setState({category:t})},values:n})),a.a.createElement("div",{className:"add-product__row"},a.a.createElement("label",null,"SubCategory"),a.a.createElement(Oe,{onChange:function(t){return e.setState({subcategory:t})},values:r})),a.a.createElement("hr",null),a.a.createElement(D,{onClick:function(){return e.createProduct()},text:"Send"})))}}]),n}(r.Component),Te={addProduct:function(e,t){return function(n){return function(e){var t=e.name,n=e.category,r=e.subcategory,a=e.fileName;return w.a.post(U.stuff.addStuff(),{name:t,category:n,subcategory:r,file_name:a},{headers:x.headers})}(e).then((function(e){var n=e.data;return oe(t.id,n.id)})).then((function(){return n(qe(e,t.email)),Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},addRegisteredProduct:function(e,t){return function(n){return oe(e.id,t.id).then((function(){return n(qe(t,e.email)),Promise.resolve(t)})).catch((function(e){return Promise.reject(e)}))}}},Le=Object(g.b)((function(e){return{user:e.user,categories:e.categories,subcategories:e.subcategories,products:e.products}}),Te)(Object(_.g)(we)),Fe=L((function(){return w.a.get(U.user.userRequests(),{headers:x.headers})}),T("STUFFIE:USER_REQUESTS_FETCHED")),Ue=L((function(e){return w.a.put(U.user.deleteUserRequest(e._id),Object(q.a)(Object(q.a)({},e),{},{request:!1}),{headers:x.headers})}),T("STUFFIE::USER_REQUEST_DELETED"));n(505);var Ae=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).executeRequest=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.props.deleteRequest;n&&r(t).then((function(){return alert("Request Accepted and Deleted")}))},e.renderRequests=function(){var t=e.props.userRequests;return a.a.createElement("div",{className:"admin__requests"},a.a.createElement("hr",null),a.a.createElement("h3",{className:"admin__title"},a.a.createElement("div",null,"User Requests"),a.a.createElement("div",{className:"admin__warning"},t.length)),a.a.createElement("ul",null,t.map((function(t,n){return a.a.createElement("li",{className:"admin__request",key:n},a.a.createElement("div",{className:"admin__request-text"},t.first_name," ",t.last_name," (",t.email,")"),a.a.createElement("div",{className:"admin__request-button"},a.a.createElement(D,{onClick:function(){return e.executeRequest(t,!0)},text:"Accept"})))}))))},e.renderPendingProducts=function(){var t=e.props.pendingProducts;return console.log(t),a.a.createElement("div",{className:"admin__requests"},a.a.createElement("hr",null),a.a.createElement("h3",{className:"admin__title"},a.a.createElement("div",null,"Products Pending of Pics"),a.a.createElement("div",{className:"admin__warning"},t.length)),a.a.createElement("ul",null,t.map((function(e){return a.a.createElement("li",{key:e.id,className:"admin__request"},a.a.createElement("div",null,"Product: ",e.name),a.a.createElement("div",null,"Id: ",e.id," / Category: ",e.category," / Subcategory: ",e.subcategory))}))))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.pendingProducts,n=e.userRequests;return a.a.createElement("div",{className:"admin"},t.length>0&&this.renderPendingProducts(),n.length>0&&this.renderRequests(),a.a.createElement("div",{className:"admin__link"},a.a.createElement(p.b,{to:"/category/add"},"Add Category")),a.a.createElement("hr",null),a.a.createElement("div",{className:"admin__link"},a.a.createElement(p.b,{to:"/subcategory/add"},"Add SubCategory")),a.a.createElement("hr",null))}}]),n}(r.Component),ze={deleteRequest:Ue},Ie=Object(g.b)((function(e){return{userRequests:e.userRequests,pendingProducts:e.pendingProducts}}),ze)(Ae);var Me=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.subcategories,r=t.location,c=t.products,s=t.match.params.id,i=r.category||r.subcategory||"",o=s.length>=5?parseInt(s[0]):parseInt(s);s.length>=5&&(o=parseInt(s[0]),i=null===(e=n.find((function(e){return e.id===parseInt(s)})))||void 0===e?void 0:e.name);var u=c[o];return a.a.createElement("div",{className:"category-page"},a.a.createElement("h3",null,i),a.a.createElement("hr",null),!u.length&&a.a.createElement("div",null,"No products"),a.a.createElement("ul",null,Object(O.map)(u,(function(e){return a.a.createElement("li",{key:e.id},a.a.createElement(p.b,{to:"/product/".concat(e.id)},e.name))}))))}}]),n}(r.Component),He=Object(g.b)((function(e){return{products:e.products,categories:e.categories,subcategories:e.subcategories}}),{})(Me),Be=n(98),Ge=function(e){return w.a.get("".concat(x.cloudinary.url,"/").concat(e))};n(603);var We=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={imageUrl:"default_product"},e.setUrl=function(){var t=e.props,n=t.fileName,r=t.category,a=t.subcategory;if(t.isProduct&&r&&a){var c="products/".concat(r,"/").concat(a,"/").concat(n);Ge(c).then((function(){return e.setState({imageUrl:c})})).catch((function(){return e.setState({imageUrl:"default_product"})}))}else e.setState({imageUrl:n})},e.renderImage=function(){var t=e.props,n=t.format,r=t.width,c=e.state.imageUrl,s="default_product"===c?"png":n;return a.a.createElement("div",{className:"media__image"},a.a.createElement(Be.Image,{publicId:c,format:s},a.a.createElement(Be.Transformation,{width:r,fetchFormat:"auto",crop:"scale"})))},e.renderVideo=function(){var t=e.props,n=t.fileName,r=t.format;return a.a.createElement(Be.Video,{publicId:n,format:r})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){"mp4"!==this.props.format&&this.setUrl()}},{key:"componentDidUpdate",value:function(e){e.fileName!==this.props.fileName&&"mp4"!==this.props.format&&this.setUrl()}},{key:"render",value:function(){var e="mp4"===this.props.format;return a.a.createElement(Be.CloudinaryContext,{cloudName:x.cloudinary.cloudName},e&&this.renderVideo(),!e&&this.renderImage())}}]),n}(r.Component);n(604);var Ke=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).getProductType=function(){var t=e.props,n=t.feedPost,r=t.subcategories.find((function(e){return e.id===n.product.subcategory}));return r?r.name:null},e}return Object(l.a)(n,[{key:"renderMessage",value:function(){var e=this.props.feedPost;return a.a.createElement("div",{className:"feed-row__description"},a.a.createElement("span",{className:"feed-row__name"},e.friend_firstName," ",e.friend_lastName," ")," added ",a.a.createElement("b",null,e.product.name)," in ",this.getProductType())}},{key:"render",value:function(){var e=this.props.feedPost,t={pathname:"/exchange",product:e.product,friend:e.friend_id},n={pathname:"/loan",product:e.product,friend:e.friend_id};return a.a.createElement("div",{className:"feed-row"},this.renderMessage(),a.a.createElement("div",{className:"feed-row__image"},a.a.createElement(We,{fileName:e.product.id,category:e.product.category,subcategory:e.product.subcategory,format:"jpg",height:"100",width:"100",isProduct:"true"})),a.a.createElement("div",{className:"feed-row__actions"},a.a.createElement("div",{className:"feed-row__action feed-row__text"},"Ask for:"),a.a.createElement("div",{className:"feed-row__action feed-row__link"},a.a.createElement(p.b,{to:n},"Borrow")),a.a.createElement("div",{className:"feed-row__action feed-row__link"},a.a.createElement(p.b,{to:t},"Trade")),a.a.createElement("div",{className:"feed-row__action feed-row__link"},"Buy")))}}]),n}(r.Component),Je={fetchProduct:ke},Ve=Object(g.b)((function(e){return{subcategories:e.subcategories}}),Je)(Ke);var Ye=T("USER::FRIENDS_FETCHED"),Qe=T("FRIENDS::PRODUCTS_FETCHED"),$e=T("FEED::FETCHED");n(605);var Xe=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a)))._isMounted=!1,e.state={isLoading:!1,feed:[]},e.getFeed=function(){var t=e.props,n=t.fetchFriendsProducts,r=t.fetchFeed;n(t.friends).then((function(e){return r(e)})).catch((function(){return console.log("Error Feed Fetched")})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.feed;this._isMounted=!0,console.log("entra"),e.length||this.setState({isLoading:!0}),this.getFeed()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.feed,n=e.friends,r=e.t;return this.state.isLoading?a.a.createElement("div",{className:"content__loading"},a.a.createElement(j,{size:"xl",message:r("Loading-Feed")})):n.length&&t.length?a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"content__info"},a.a.createElement("div",{className:"content__rows"},Object(O.map)(t,(function(e,t){return a.a.createElement(Ve,{key:t,feedPost:e})}))))):a.a.createElement("div",null,"No Friends! Add friends!")}}]),n}(r.Component),Ze={fetchFriendsProducts:function(e){return function(t){var n=[];return function(e){if(e.length>0){var t=Object(O.map)(e,(function(e){return{id_stuffier:e.id}}));return w.a.get(U.stuff.listStuffiers(t),{headers:x.headers})}return Promise.resolve([])}(e).then((function(e){return n=e.data,ce(Ne(e.data))})).then((function(r){var a=r.data,c=function(e,t,n){var r=[];return Object(O.forEach)(e,(function(e){var a=n.filter((function(t){return t.id_stuffier===e.id})).map((function(e){return Object(O.find)(t,(function(t){return t.id===e.id_stuff}))}));r.push(Object(q.a)(Object(q.a)({},e),{},{products:a}))})),r}(e,a,n);return t(Qe(c)),Promise.resolve(c)}))}},fetchFeed:function(e){return function(t){var n=function(e){var t=[];return e.forEach((function(e){e.products&&e.products.forEach((function(n){t.push({friend_id:e.id,friend_firstName:e.first_name||"",friend_lastName:e.last_name||"",product:n,date:n._created})}))})),Object(O.sortBy)(t,"date")}(e);return t($e(n)),n}}},et=Object(g.b)((function(e){return{user:e.user,friends:e.friends,subcategories:e.subcategories,feed:e.feed}}),Ze)(Object(h.c)()(Xe)),tt=n(12),nt=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}],rt=[{name:"axis",children:[{name:"Axes",size:1302},{name:"Axis",size:24593},{name:"AxisGridLine",size:652},{name:"AxisLabel",size:636},{name:"CartesianAxes",size:6703}]},{name:"controls",children:[{name:"AnchorControl",size:2138},{name:"ClickControl",size:3824},{name:"Control",size:1353},{name:"ControlList",size:4665},{name:"DragControl",size:2649},{name:"ExpandControl",size:2832},{name:"HoverControl",size:4896},{name:"IControl",size:763},{name:"PanZoomControl",size:5222},{name:"SelectionControl",size:7862},{name:"TooltipControl",size:8435}]},{name:"data",children:[{name:"Data",size:20544},{name:"DataList",size:19788},{name:"DataSprite",size:10349},{name:"EdgeSprite",size:3301},{name:"NodeSprite",size:19382},{name:"render",children:[{name:"ArrowType",size:698},{name:"EdgeRenderer",size:5569},{name:"IRenderer",size:353},{name:"ShapeRenderer",size:2247}]},{name:"ScaleBinding",size:11275},{name:"Tree",size:7147},{name:"TreeBuilder",size:9930}]},{name:"events",children:[{name:"DataEvent",size:7313},{name:"SelectionEvent",size:6880},{name:"TooltipEvent",size:3701},{name:"VisualizationEvent",size:2117}]},{name:"legend",children:[{name:"Legend",size:20859},{name:"LegendItem",size:4614},{name:"LegendRange",size:10530}]},{name:"operator",children:[{name:"distortion",children:[{name:"BifocalDistortion",size:4461},{name:"Distortion",size:6314},{name:"FisheyeDistortion",size:3444}]},{name:"encoder",children:[{name:"ColorEncoder",size:3179},{name:"Encoder",size:4060},{name:"PropertyEncoder",size:4138},{name:"ShapeEncoder",size:1690},{name:"SizeEncoder",size:1830}]},{name:"filter",children:[{name:"FisheyeTreeFilter",size:5219},{name:"GraphDistanceFilter",size:3165},{name:"VisibilityFilter",size:3509}]},{name:"IOperator",size:1286},{name:"label",children:[{name:"Labeler",size:9956},{name:"RadialLabeler",size:3899},{name:"StackedAreaLabeler",size:3202}]},{name:"layout",children:[{name:"AxisLayout",size:6725},{name:"BundledEdgeRouter",size:3727},{name:"CircleLayout",size:9317},{name:"CirclePackingLayout",size:12003},{name:"DendrogramLayout",size:4853},{name:"ForceDirectedLayout",size:8411},{name:"IcicleTreeLayout",size:4864},{name:"IndentedTreeLayout",size:3174},{name:"Layout",size:7881},{name:"NodeLinkTreeLayout",size:12870},{name:"PieLayout",size:2728},{name:"RadialTreeLayout",size:12348},{name:"RandomLayout",size:870},{name:"StackedAreaLayout",size:9121},{name:"TreeMapLayout",size:9191}]},{name:"Operator",size:2490},{name:"OperatorList",size:5248},{name:"OperatorSequence",size:4190},{name:"OperatorSwitch",size:2581},{name:"SortOperator",size:2023}]}],at=[{name:"Group A",value:400},{name:"Group B",value:300},{name:"Group C",value:300},{name:"Group D",value:200}],ct=[{name:"A1",value:100},{name:"A2",value:300},{name:"B1",value:100},{name:"B2",value:80},{name:"B3",value:40},{name:"B4",value:30},{name:"B5",value:50},{name:"C1",value:100},{name:"C2",value:200},{name:"D1",value:150},{name:"D2",value:50}],st=[{name:"18-24",uv:31.47,pv:2400,fill:"#8884d8"},{name:"25-29",uv:26.69,pv:4567,fill:"#83a6ed"},{name:"30-34",uv:15.69,pv:1398,fill:"#8dd1e1"},{name:"35-39",uv:8.22,pv:9800,fill:"#82ca9d"},{name:"40-49",uv:8.63,pv:3908,fill:"#a4de6c"},{name:"50+",uv:2.63,pv:4800,fill:"#d0ed57"},{name:"unknow",uv:6.67,pv:4800,fill:"#ffc658"}];var it=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={barChartData:[],treemapChartData:[],pieChartData01:[],pieChartData02:[],radialChartData:[]},e}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(tt.d,{width:600,height:300,data:nt,margin:{top:5,right:30,left:20,bottom:5}},a.a.createElement(tt.q,{dataKey:"name"}),a.a.createElement(tt.r,null),a.a.createElement(tt.e,{strokeDasharray:"3 3"}),a.a.createElement(tt.o,null),a.a.createElement(tt.f,null),a.a.createElement(tt.c,{dataKey:"pv",fill:"#8884d8"}),a.a.createElement(tt.c,{dataKey:"uv",fill:"#82ca9d"})),a.a.createElement(tt.h,{width:600,height:300,data:nt},a.a.createElement(tt.q,{dataKey:"name",padding:{left:30,right:30}}),a.a.createElement(tt.r,null),a.a.createElement(tt.e,{strokeDasharray:"3 3"}),a.a.createElement(tt.o,null),a.a.createElement(tt.f,null),a.a.createElement(tt.g,{type:"monotone",dataKey:"pv",stroke:"#8884d8",activeDot:{r:8}}),a.a.createElement(tt.g,{type:"monotone",dataKey:"uv",stroke:"#82ca9d"})),a.a.createElement(tt.b,{width:730,height:250,data:nt,margin:{top:10,right:30,left:0,bottom:0}},a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1"},a.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),a.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})),a.a.createElement("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1"},a.a.createElement("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),a.a.createElement("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0}))),a.a.createElement(tt.q,{dataKey:"name"}),a.a.createElement(tt.r,null),a.a.createElement(tt.e,{strokeDasharray:"3 3"}),a.a.createElement(tt.o,null),a.a.createElement(tt.a,{type:"monotone",dataKey:"uv",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"}),a.a.createElement(tt.a,{type:"monotone",dataKey:"pv",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorPv)"})),a.a.createElement(tt.p,{width:730,height:250,data:rt,dataKey:"size",aspectRatio:4/3,stroke:"#fff",fill:"#8884d8"}),a.a.createElement(tt.j,{width:800,height:400},a.a.createElement(tt.i,{dataKey:"value",data:at,cx:200,cy:200,outerRadius:60,fill:"#8884d8"}),a.a.createElement(tt.i,{dataKey:"value",data:ct,cx:200,cy:200,innerRadius:70,outerRadius:90,fill:"#82ca9d",label:!0})),a.a.createElement(tt.n,{width:730,height:250,margin:{top:20,right:20,bottom:10,left:10}},a.a.createElement(tt.e,{strokeDasharray:"3 3"}),a.a.createElement(tt.q,{dataKey:"value",name:"stature",unit:"cm"}),a.a.createElement(tt.r,{dataKey:"value",name:"weight",unit:"cm"}),a.a.createElement(tt.o,{cursor:{strokeDasharray:"3 3"}}),a.a.createElement(tt.f,null),a.a.createElement(tt.m,{name:"Data01",data:at,fill:"#8884d8"}),a.a.createElement(tt.m,{name:"Data02",data:ct,fill:"#82ca9d"})),a.a.createElement(tt.l,{width:730,height:250,innerRadius:"10%",outerRadius:"80%",data:st,startAngle:180,endAngle:0},a.a.createElement(tt.k,{angleAxisId:15,label:{fill:"#666",position:"insideStart"},background:!0,dataKey:"uv"}),a.a.createElement(tt.f,{iconSize:10,width:120,height:140,layout:"vertical",verticalAlign:"middle",align:"right"}),a.a.createElement(tt.o,null)))}}]),n}(r.Component),ot=n(131);n(717);var ut=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).source=null,e.node=null,e.state={isLoading:!1,isOpen:!1,searchText:"",results:[]},e.handleClickOutside=function(t){var n=s.a.findDOMNode(Object(ot.a)(e));n&&n.contains(t.target)||e.setState({searchText:"",isOpen:!1})},e.fetchResults=function(t){var n=e.props,r=n.products,a=n.selectProduct;e.source&&e.source.cancel("Cancel pending requests."),e.source=w.a.CancelToken.source(),e.setState({searchText:t,isOpen:!0,isLoading:!0}),t?a?e.setState({results:le(t,r),isOpen:!0,isLoading:!1}):ue(t,r,e.source.token).then((function(t){t.length?e.setState({results:t,isOpen:!0,isLoading:!1}):e.setState({isOpen:!1,isLoading:!1})})):e.setState({isOpen:!1,isLoading:!1})},e.getLinkTo=function(e){return Object(je.a)({pathname:"/".concat(e.type.toLowerCase(),"/").concat(e.id)},e.type.toLowerCase(),e.name)},e.renderResultName=function(e){var t=e.type?e.type[0]:"P";return a.a.createElement("div",{className:"search__result-info"},a.a.createElement("div",{className:"search__result-name"},e.name),a.a.createElement("div",{className:"search__result-type search__result-".concat(t)},"| ",t))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!0)}},{key:"renderResults",value:function(){var e=this,t=this.state.results,n=this.props.selectProduct;if(t.length)return a.a.createElement("div",{className:"search__results"},t.map((function(t,r){return a.a.createElement("div",{className:"search__result",key:r},!n&&a.a.createElement(p.b,{key:r,className:"search__result-link",to:e.getLinkTo(t)},e.renderResultName(t)),n&&a.a.createElement("button",{key:r,onClick:function(e){return e&&n(t)}},e.renderResultName(t)))})))}},{key:"render",value:function(){var e=this,t=this.state.isLoading,n=this.state.isOpen?"dropdown--is-open":"";return a.a.createElement("div",{className:"search-bar",ref:function(t){return e.node=t}},a.a.createElement("div",{className:"search-bar__form"},a.a.createElement(P,{name:"search",type:"input",placeholder:"Find stuff...",onChange:function(t){return e.fetchResults(t)},value:this.state.searchText}),a.a.createElement("div",{className:"search-bar__button"},a.a.createElement("i",{className:"fas fa-search"}))),a.a.createElement("div",{className:"search-bar__content-container"},a.a.createElement("div",{className:"search-bar__content ".concat(n)},t&&a.a.createElement(j,{size:"md"}),!t&&this.renderResults())))}}]),n}(r.Component),lt=T("EXCHANGE::REQUESTED"),ft=T("EXCHANGES::FETCHED"),dt=T("EXCHANGE::DELETED");n(718);var mt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={userProducts:[],selectedProduct:{},message:"",friend:{first_name:""},type:Re.EMPTY},e.requestExchange=function(){var t=e.props,n=t.exchangeRequest,r=t.history,a=t.location,c=t.user,s=e.state.selectedProduct,i=a.friend;console.log("This is to execute request exchange"),n(i,a.product.id,c.id,Object(O.get)(s,"id")).then((function(){return e.setState({message:"Exchange request successfully",type:Re.SUCCESSFUL})})).catch((function(){return e.setState({message:"Exchange request failed",type:Re.SUCCESSFUL})})).finally((function(){return r.push("/")}))},e.selectProduct=function(t){e.setState({selectedProduct:t})},e.renderProduct=function(t){var n=e.props,r=n.categories,c=n.subcategories,s=r.filter((function(e){return e.id===t.category}))[0],i=c.filter((function(e){return e.id===t.subcategory}))[0];return a.a.createElement("div",{className:"exchange__product"},a.a.createElement(We,{fileName:t.id,category:t.category,subcategory:t.subcategory,format:"jpg",height:"100",width:"100",isProduct:"true"}),a.a.createElement("div",{className:"exchange__product-info"},a.a.createElement("div",null,t.name),a.a.createElement("div",null,s.name),a.a.createElement("div",null,i.name)))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.history,r=t.location,a=t.products,c=r.product;c&&void 0!==c||n.push("/");var s,i=(s=a,Object.values(s).filter((function(e){return e.length>0})).flat()).filter((function(e){return e.category===c.category||e.subcategory===c.subcategory}));this.setState({userProducts:i}),M([{id:r.friend}]).then((function(t){return e.setState({friend:t.data[0]})}))}},{key:"render",value:function(){var e=this,t=this.props.location,n=this.state,r=n.friend,c=n.selectedProduct,s=n.userProducts,i=n.message,o=n.type,u=t.product;return s.length?u?a.a.createElement("div",{className:"exchange"},a.a.createElement(Se,{message:i,type:o}),a.a.createElement("div",{className:"exchange__header"},a.a.createElement(ut,{products:s,selectProduct:function(t){return e.selectProduct(t)}})),!Object(O.isEmpty)(c)&&a.a.createElement("div",{className:"exchange__content"},a.a.createElement("div",{className:"exchange__compare"},a.a.createElement("div",{className:"exchange__compare-info"},a.a.createElement("h4",null,"My Product"),this.renderProduct(c)),a.a.createElement("div",{className:"exchange__line"}),a.a.createElement("div",{className:"exchange__compare-info"},a.a.createElement("h4",null,null===r||void 0===r?void 0:r.first_name," Product"),this.renderProduct(u))),a.a.createElement(D,{type:"submit",onClick:this.requestExchange,text:"Request Exchange"}))):a.a.createElement(_.a,{to:"/"}):a.a.createElement("div",null,"No products to exchange under same category")}}]),n}(r.Component),pt={exchangeRequest:function(e,t,n,r){return function(a){return(c=e,s=t,i=n,o=r,w.a.post(U.exchange.request(),{id_stuffier:c,id_friend:i,id_stuff:s,id_friend_stuff:o},{headers:x.headers})).then((function(t){a(lt(t.data,e)),Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}));var c,s,i,o}}},ht=Object(g.b)((function(e){return{categories:e.categories,products:e.products,subcategories:e.subcategories,user:e.user}}),pt)(Object(_.g)(mt));n(719);var gt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).textField=a.a.createRef(),e.state={requests:[],emailToRequest:"",message:null,textfield:null,executeStatus:Re.EMPTY},e.executeRequest=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.props.user,a=[G(r.email,t.id)];n&&a.push(W(r.email,t.id)),Promise.all(a).then((function(t){!n&&e.setState({executeStatus:Re.WARNING}),console.log(t[0].data),n&&e.setState({executeStatus:Re.SUCCESSFUL}),n&&console.log(t[1].data)})).catch((function(){return e.setState({executeStatus:Re.ERROR})}))},e.renderRequests=function(){var t=e.state.requests;return a.a.createElement("div",{className:"friends__requests"},a.a.createElement("hr",null),a.a.createElement("h3",{className:"friends__title"},a.a.createElement("div",null,"Requests"),a.a.createElement("div",{className:"friends__warning"},t.length)),a.a.createElement("ul",null,t.map((function(t,n){return a.a.createElement("li",{className:"friends__request",key:n},a.a.createElement("div",{className:"friends__request-text"},t.first_name," ",t.last_name," (",t.email,")"),a.a.createElement("div",{className:"friends__request-button"},a.a.createElement(D,{onClick:function(){return e.executeRequest(t,!0)},text:"Accept"})),a.a.createElement("div",{className:"friends__request-button"},a.a.createElement(D,{onClick:function(){return e.executeRequest(t)},text:"Reject"})))}))))},e.handleRequest=function(){var t=e.props.user,n=e.state.emailToRequest;B(n,t.id).then((function(){return e.setState({message:"Request sent succesfully",emailToRequest:""})})).catch((function(){return e.setState({message:"Request couldnt be sent",emailToRequest:""})}))},e.getMessage=function(){var t=e.state,n=t.emailToRequest,r=t.executeStatus,a=r===Re.ERROR?"was not added":r===Re.WARNING?"was rejected!":r===Re.SUCCESSFUL?"was accepted!":null;return a?"Friend ".concat(n," ").concat(a):""},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props.friendsRequests;n.length>0&&M((e=n,Object(O.map)(e,(function(e){return{id:e.id_friend}})))).then((function(e){return t.setState({requests:e.data})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.friends,r=t.t,c=t.user,s=this.state,i=s.requests,o=s.message,u=s.emailToRequest,l=s.executeStatus;return a.a.createElement("div",{className:"friends"},a.a.createElement("h2",{className:"friends__title"},r("Friends-Title",{first_name:c.first_name})),a.a.createElement(Se,{message:this.getMessage(),type:l}),a.a.createElement("ul",null,n.map((function(e){return a.a.createElement("li",{key:e.id},e.first_name," ",e.last_name," - ",e.email)}))),i.length>0&&this.renderRequests(),a.a.createElement("hr",null),a.a.createElement("div",null,a.a.createElement("h3",{className:"friends__title"},r("Add-Friend")),a.a.createElement("div",{className:"friends__form"},a.a.createElement(P,{placeholder:"Friend Email",type:"text",name:"friend_email",value:u,onChange:function(t){return e.setState({emailToRequest:t})}}),a.a.createElement("div",{className:"friends__button"},a.a.createElement(D,{text:"Request",onClick:function(){return e.handleRequest()}}))),o&&a.a.createElement("div",{className:"friends__message"},o)))}}]),n}(r.Component),vt=Object(g.b)((function(e){return{user:e.user,friends:e.friends,friendsRequests:e.friendsRequests}}),{})(Object(h.c)()(gt));var Et=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={id:null,product:{name:null,id:null,category:null,subcategory:null}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,n=e.products,r=e.product,a=parseInt(t.params.id),c=r||Ce(a,n);this.setState({id:a,product:c})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.match,a=n.products,c=n.product,s=r.params.id;if(s!==t.id){var i=c||Ce(s,a);this.setState({id:s,product:i})}}},{key:"render",value:function(){var e=this.props,t=e.categories,n=e.subcategories,r=this.state.product;if(!r)return a.a.createElement(j,{size:"lg",message:"Loading product..."});var c=Object(O.find)(t,(function(e){return e.id===r.category})),s=Object(O.find)(n,(function(e){return e.id===r.subcategory}));return a.a.createElement("div",{className:"product"},a.a.createElement("h3",null,r.name),a.a.createElement("hr",null),a.a.createElement(We,{fileName:r.id,category:r.category,subcategory:r.subcategory,isProduct:"true",height:"200",width:"100"}),a.a.createElement("hr",null),a.a.createElement("div",null,"Category: ",c&&c.name," "),a.a.createElement("div",null,"Subcategory: ",s&&s.name," "))}}]),n}(r.Component),yt=Object(g.b)((function(e){return{categories:e.categories,products:e.products,subcategories:e.subcategories}}),{})(Et),bt=T("LOAN::REQUESTED"),_t=T("LOANS::FETCHED"),Ot=T("LOAN::DELETED");n(720);var Rt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a)))._isMounted=!1,e.state={friend:{first_name:""},message:"",type:Re.EMPTY},e.requestLoan=function(){var t=e.props,n=t.loanRequest,r=t.location,a=t.user;n(r.friend,r.product.id,a.id).then((function(){return e.setState({message:"Exchange request successfully",type:Re.SUCCESSFUL})})).catch((function(){return e.setState({message:"Exchange request failed",type:Re.SUCCESSFUL})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.history,r=t.location,a=r.product;this._isMounted=!0,this._isMounted&&(a&&void 0!==a||n.push("/"),M([{id:r.friend}]).then((function(t){return e.setState({friend:t.data[0]})})))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props.location,t=this.state,n=t.friend,r=t.message,c=t.type,s=e.product;if(!s)return a.a.createElement(_.a,{to:"/"});var i={params:{id:s.id}};return a.a.createElement("div",{className:"loan"},a.a.createElement(Se,{message:r,type:c}),a.a.createElement("div",{className:"loan__product"},a.a.createElement("h2",null,null===n||void 0===n?void 0:n.first_name," Product"),a.a.createElement("hr",null),a.a.createElement(yt,{match:i,key:s.id,product:s})),a.a.createElement(D,{type:"submit",onClick:this.requestLoan,text:"Request Loan"}))}}]),n}(r.Component),St={loanRequest:function(e,t,n){return function(r){return(a=e,c=t,s=n,w.a.post(U.loan.request(),{id_stuffier:a,id_friend:s,id_stuff:c},{headers:x.headers})).then((function(t){r(bt(t.data,e)),Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}));var a,c,s}}},jt=Object(g.b)((function(e){return{categories:e.categories,products:e.products,subcategories:e.subcategories,user:e.user}}),St)(Object(_.g)(Rt)),Nt=n(100),Ct=n.n(Nt);function Dt(e,t){var n=function(e){var t=[];return Object.keys(e).forEach((function(n){if(e[n].length>0){t.length||(t=[(a={id:e[n][0].id,name:e[n][0].name,category:e[n][0].category,subcategory:e[n][0].subcategory},Object.keys(a).map((function(e){return(t=e).charAt(0).toUpperCase()+t.slice(1);var t})))]);var r=e[n].map((function(e){return[e.id,e.name,e.category,e.subcategory]}));t=[].concat(Object(Z.a)(t),Object(Z.a)(r))}var a})),t}(e),r=Ct.a.utils.book_new(),a=Ct.a.utils.aoa_to_sheet(n);Ct.a.utils.book_append_sheet(r,a,"Products_Sheet"),Ct.a.writeFile(r,"".concat(t).concat(".xlsx"))}n(724);var Pt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={requestedProducts:[],message:"",type:Re.EMPTY},e.generateReport=function(){var t=e.props,n=t.products,r=t.user;Dt(n,"".concat(r.first_name,"_products"))},e.executeDeleteExchange=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.props,a=r.deleteRequest,c=r.deleteRequestLoan;n?c(t).then((function(){return e.setState({message:"Loan request deleted",type:Re.SUCCESSFUL})})).catch((function(){return e.setState({message:"Loan request couldn't be deleted",type:Re.ERROR})})):a(t).then((function(){return e.setState({message:"Exchange request deleted",type:Re.SUCCESSFUL})})).catch((function(){return e.setState({message:"Exchange request couldn't be deleted",type:Re.ERROR})}))},e.renderRequests=function(){var t=e.props,n=t.exchangeRequests,r=t.friends,c=t.user,s=e.state.requestedProducts;return a.a.createElement("div",{className:"products__requests"},a.a.createElement("hr",null),a.a.createElement("h3",{className:"products__requests-title"},a.a.createElement("div",null,"Exchange Requests"),a.a.createElement("div",{className:"products__warning"},n.length)),a.a.createElement("ul",null,n.map((function(t,n){var i=t.id_stuffier===c.id?c:r.filter((function(e){return e.id===t.id_stuffier}))[0],o=t.id_friend===c.id?c:r.filter((function(e){return e.id===t.id_friend}))[0],u=c===o,l=c===i,f=u?"Cancel":"Reject",d=s.find((function(e){return e.id===t.id_stuff})),m=s.find((function(e){return e.id===t.id_friend_stuff}));return a.a.createElement("li",{className:"products__request",key:n},a.a.createElement("div",{className:"products__request-group"},a.a.createElement("div",{className:"products__request-text"},"Owner: ",l?"Me":"".concat(i.first_name," ").concat(i.last_name," (").concat(i.email,")")),a.a.createElement("div",{className:"products__request-text"},"Product: ",Object(O.get)(d,"name")),a.a.createElement("div",{className:"products__request-text"},"Requestor: ",u?"Me":"".concat(o.first_name," ").concat(o.last_name," (").concat(o.email,")")),a.a.createElement("div",{className:"products__request-text"},"Product: ",Object(O.get)(m,"name"))),a.a.createElement("div",{className:"products__request-buttons"},!u&&a.a.createElement("div",{className:"products__request-button"},a.a.createElement(D,{onClick:function(){return console.log("Accept Exchange")},text:"Accept"})),a.a.createElement("div",{className:"products__request-button"},a.a.createElement(D,{onClick:function(){return e.executeDeleteExchange(t._id)},text:f}))))}))))},e.renderLoans=function(){var t=e.props,n=t.loanRequests,r=t.friends,c=t.user,s=e.state.requestedProducts;return a.a.createElement("div",{className:"products__requests"},a.a.createElement("hr",null),a.a.createElement("h3",{className:"products__requests-title"},a.a.createElement("div",null,"Loan Requests"),a.a.createElement("div",{className:"products__warning"},n.length)),a.a.createElement("ul",null,n.map((function(t,n){var i=t.id_stuffier===c.id?c:r.filter((function(e){return e.id===t.id_stuffier}))[0],o=t.id_friend===c.id?c:r.filter((function(e){return e.id===t.id_friend}))[0],u=c===o,l=c===i,f=u?"Cancel":"Reject",d=s.find((function(e){return e.id===t.id_stuff}));return a.a.createElement("li",{className:"products__request",key:n},a.a.createElement("div",{className:"products__request-group"},a.a.createElement("div",{className:"products__request-text"},"Owner: ",l?"Me":"".concat(i.first_name," ").concat(i.last_name," (").concat(i.email,")")),a.a.createElement("div",{className:"products__request-text"},"Requestor: ",u?"Me":"".concat(o.first_name," ").concat(o.last_name," (").concat(o.email,")")),a.a.createElement("div",{className:"products__request-text"},"Product: ",Object(O.get)(d,"name"))),a.a.createElement("div",{className:"products__request-buttons"},!u&&a.a.createElement("div",{className:"products__request-button"},a.a.createElement(D,{onClick:function(){return console.log("Accept Exchange")},text:"Accept"})),a.a.createElement("div",{className:"products__request-button"},a.a.createElement(D,{onClick:function(){return e.executeDeleteExchange(t._id,!0)},text:f}))))}))))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.exchangeRequests,r=t.loanRequests.map((function(e){return e.id_stuff})),a=n.map((function(e){return e.id_stuff})),c=n.map((function(e){return e.id_friend_stuff}));(function(e){return w.a.get(U.stuff.listDetail(e),{headers:x.headers})})(function(e){return Object(O.map)(e,(function(e){return{id:e}}))}(Object(O.uniq)([].concat(Object(Z.a)(r),Object(Z.a)(a),Object(Z.a)(c))))).then((function(t){return e.setState({requestedProducts:t.data})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.categories,r=t.exchangeRequests,c=t.loanRequests,s=t.history,i=t.products,o=t.user,u=this.state,l=u.message,f=u.type;return a.a.createElement("div",{className:"products"},a.a.createElement(Se,{message:l,type:f}),a.a.createElement("div",{className:"products__title"},a.a.createElement("h2",null,o.first_name," Stuff"),a.a.createElement("div",{className:"products__add-product"},a.a.createElement(D,{text:"Add Product",onClick:function(){return s.push("/product/add")}}))),r.length>0&&this.renderRequests(),c.length>0&&this.renderLoans(),a.a.createElement("hr",null),De(i)&&a.a.createElement("div",null,"No Stuff! Add Products!"),!De(i)&&a.a.createElement("div",null,n.map((function(e,t){return i[e.id]&&i[e.id].length?a.a.createElement("div",{key:e.id},a.a.createElement("h4",{className:"products__subheader"},e.name),a.a.createElement("ul",{className:"products__list"},Object(O.map)(i[e.id],(function(e){var t={params:{id:e.id}};return a.a.createElement(yt,{key:e.id,match:t})})))):a.a.createElement("div",{key:"".concat(e.id,"_").concat(t)})})),a.a.createElement("hr",null),a.a.createElement(D,{onClick:function(){return e.generateReport()},text:"Generate Report"})))}}]),n}(r.Component),xt={deleteRequest:function(e){return function(t){return function(e){return w.a.delete(U.exchange.deleteRequest(e),{headers:x.headers})}(e).then((function(e){var n=e.data.result[0];t(dt(n)),Promise.resolve(n)})).catch((function(e){return Promise.reject(e)}))}},deleteRequestLoan:function(e){return function(t){return function(e){return w.a.delete(U.loan.deleteRequest(e),{headers:x.headers})}(e).then((function(e){var n=e.data.result[0];t(Ot(n)),Promise.resolve(n)})).catch((function(e){return Promise.reject(e)}))}}},qt=Object(g.b)((function(e){return{user:e.user,categories:e.categories,friends:e.friends,exchangeRequests:e.exchangeRequests,loanRequests:e.loanRequests,products:e.products}}),xt)(Pt);var kt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("iframe",{src:"https://webchat.botframework.com/embed/StuffieBot?s=fkpQavtTB78.cwA.pjM.9djZJuhRob4Mt-Lb5-1Wk7yrsHtLAxOKIL6w3gE4910",title:"WebChat"})}}]),n}(r.Component),wt=n(334),Tt=n.n(wt);var Lt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={file:"",progressValue:0},e}return Object(l.a)(n,[{key:"handleChange",value:function(e){if(e&&e.target&&e.target.files){var t=e.target.files[0];this.setState({file:t})}}},{key:"handleSubmit",value:function(e){e.stopPropagation(),e.preventDefault(),Tt.a.recognize(this.state.file,"eng").progress(this.progressUpdate).then(this.result)}},{key:"result",value:function(e){var t=document.getElementById("info"),n=document.getElementById("result");t.innerHTML="Finished!",n.innerHTML=e?e.text:""}},{key:"progressUpdate",value:function(e){if("progress"in e){var t=document.querySelector("progress");t.value=e.progress,t.max=1,document.getElementById("info").innerHTML="Analyzing file..."}}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"tickets"},a.a.createElement("h3",null,"Tickets"),a.a.createElement("div",{className:"ticketsForm"},a.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},a.a.createElement("input",{type:"file",id:"fileId",name:"fileName",onChange:function(t){return e.handleChange(t)}}),a.a.createElement("hr",null),a.a.createElement("input",{type:"submit",value:"Analyze",disabled:!this.state.file}))),a.a.createElement("hr",null),a.a.createElement("div",{id:"status",className:"ticketsStatus"},a.a.createElement("progress",{value:this.state.progressValue,max:"100"}),a.a.createElement("span",{id:"statusInfo",className:"statusInfo"},"Status: ",a.a.createElement("span",{id:"info"}))),a.a.createElement("hr",null),a.a.createElement("div",{id:"result"}))}}]),n}(r.Component);var Ft=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).authenticate=function(){console.log("secreto: ".concat(I.encrypt("secreto"))),console.log("mario: ".concat(I.encrypt("mario"))),console.log("doc: ".concat(I.encrypt("secrdoceto"))),console.log("merol: ".concat(I.encrypt("merol")))},e.getStuff=function(){console.log([{id:1,name:"Carlos Reyes 1"},{id:2,name:"Carlos Reyes 2"},{id:1,name:"Carlos Reyes 1"},{id:3,name:"Carlos Reyes 3"}]);var e=[1,1,2,3,4,5];return e.filter((function(t,n){return e.indexOf(t)===n}))},e}return Object(l.a)(n,[{key:"reverseStuff",value:function(e){return e.split("").reverse().join("")}},{key:"render",value:function(){this.authenticate();var e=this.getStuff(),t=this.reverseStuff("unodostres");return a.a.createElement("div",null,a.a.createElement("span",null,"This is my test = ",t),a.a.createElement("span",null,"This is my other test = ",e))}}]),n}(r.Component);var Ut=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement(_.d,null,a.a.createElement(_.b,{exact:!0,path:"/",component:et}),a.a.createElement(_.b,{exact:!0,path:"/StuffieReact",component:et}),a.a.createElement(_.b,{path:"/admin",component:Ie}),a.a.createElement(_.b,{path:"/friends",component:vt}),a.a.createElement(_.b,{path:"/products",component:qt}),a.a.createElement(_.b,{path:"/product/add",component:Le}),a.a.createElement(_.b,{path:"/product/:id",render:function(e){return a.a.createElement(yt,e)}}),a.a.createElement(_.b,{path:"/category/add",render:function(){return a.a.createElement(_e,{type:"category"})}}),a.a.createElement(_.b,{path:"/category/:id",render:function(t){return a.a.createElement(He,Object.assign({},t,e.props))}}),a.a.createElement(_.b,{path:"/subcategory/add",render:function(){return a.a.createElement(_e,{type:"subcategory"})}}),a.a.createElement(_.b,{path:"/subcategory/:id",render:function(t){return a.a.createElement(He,Object.assign({},t,e.props))}}),a.a.createElement(_.b,{path:"/exchange",render:function(t){return a.a.createElement(ht,Object.assign({},t,e.props))}}),a.a.createElement(_.b,{path:"/loan",render:function(t){return a.a.createElement(jt,Object.assign({},t,e.props))}}),a.a.createElement(_.b,{path:"/charts",component:it}),a.a.createElement(_.b,{path:"/support",component:kt}),a.a.createElement(_.b,{path:"/tickets",component:Lt}),a.a.createElement(_.b,{path:"/test",component:Ft}))}}]),n}(r.Component);n(727);var At=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"footer"},a.a.createElement("hr",null),"Stuffie\u2122 is a platform coded and registered by \xa0",a.a.createElement("a",{href:"http://stuffie.azurewebsites.net/PM_Carlos-Reyes2.html",target:"_blank",rel:"noopener noreferrer"},"Carlos Reyes-Rico"),".")}}]),n}(r.Component);n(728);var zt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).handleLogout=function(t){var n=e.props,r=n.logout,a=n.history;t.preventDefault(),r(),a.push("/")},e.toggleMenu=function(){var e=document.getElementById("apps");"block"===e.style.display?e.style.display="none":e.style.cssText="\n        display: block;\n        float: right;\n        top: 28px; right: 0px;\n        position: absolute; background-color: white;\n        width: 146px;\n        padding: 8px;\n        box-shadow: 5px 5px #888888;\n        border-radius: 6px;      \n      "},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.friendsRequests,r=t.exchangeRequests,c=t.loanRequests,s=t.pendingProducts,i=t.products,o=t.t,u=t.user,l=t.userRequests,f=r.length>0?"stuffie-header__section-exchange":"",d=r.length+c.length;if(o)return a.a.createElement("div",{className:"stuffie-header"},a.a.createElement("div",{className:"stuffie-header__left"},a.a.createElement("div",{className:"stuffie-header__info"},a.a.createElement("div",{className:"stuffie-header__logo"},a.a.createElement(We,{fileName:"logo_2020",format:"jpg",height:"50",width:"50"})),a.a.createElement("div",{className:"stuffie-header__user"},"Stuffie")),a.a.createElement("div",{className:"stuffie-header__sections"},a.a.createElement("div",{className:"stuffie-header__section-item"},a.a.createElement(p.b,{to:"/StuffieReact"},o("Feed"))),a.a.createElement("div",{className:"stuffie-header__section-item"},a.a.createElement(p.b,{to:"/friends"},o("Friends")),n.length>0&&a.a.createElement("div",{className:"stuffie-header__warning"},n.length)),a.a.createElement("div",{className:"stuffie-header__section-item ".concat(f)},a.a.createElement(p.b,{to:"/products"},window.outerWidth>=1024&&!d?"Products":"Prods"),d>0&&a.a.createElement("div",{className:"stuffie-header__warning"},a.a.createElement("span",{className:"stuffie-header__warning-text"},d))),u.admin&&a.a.createElement("div",{className:"stuffie-header__section-item"},a.a.createElement(p.b,{to:"/admin"},o("Admin")),(l.length>0||s.length>0)&&a.a.createElement("div",{className:"stuffie-header__warning"},a.a.createElement("span",{className:"stuffie-header__warning-text"},l.length+s.length))),a.a.createElement("div",{className:"stuffie-header__section-item"},a.a.createElement("button",{className:"stuffie-header__button",onClick:this.handleLogout},o("Logout"))))),a.a.createElement("div",{className:"stuffie-header__search"},a.a.createElement(ut,{products:i}),a.a.createElement("div",{className:"stuffie-header__menu"},a.a.createElement("div",{id:"apps"},a.a.createElement(re,null)),a.a.createElement("button",{className:"icon",onClick:function(t){return t&&e.toggleMenu()}},a.a.createElement("i",{className:"fa fa-bars"})))))}}]),n}(r.Component),It={logout:function(){return localStorage.removeItem("picture"),localStorage.removeItem("username"),{type:"STUFFIE::REVOKE_USER"}}},Mt=Object(g.b)((function(e){return{user:e.user,userRequests:e.userRequests,friendsRequests:e.friendsRequests,products:e.products,exchangeRequests:e.exchangeRequests,loanRequests:e.loanRequests,pendingProducts:e.pendingProducts}}),It)(Object(h.c)()(Object(_.g)(zt)));n(729);var Ht=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).renderCategories=function(){var t=e.props,n=t.categories,r=t.products;if(n&&r)return n.filter((function(e){return r[e.id]&&r[e.id].length})).map((function(e){var t={pathname:"/category/".concat(e.id),category:e.name};return a.a.createElement("div",{key:e.id,className:"menu__category"},a.a.createElement(p.b,{className:"",key:e.id,to:t},e.name))}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.products,n=e.t;return a.a.createElement("div",null,a.a.createElement("div",{className:"menu__title"},n("Summary")),De(t)&&a.a.createElement("div",null,"No products"),a.a.createElement("div",{className:"menu__list"},this.renderCategories()))}}]),n}(r.Component),Bt=Object(g.b)((function(e){return{user:e.user,categories:e.categories,products:e.products}}),{})(Object(h.c)()(Ht));n(730);var Gt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.t;return a.a.createElement("div",{className:"stuffie"},a.a.createElement("div",{className:"stuffie__header"},a.a.createElement(Mt,null)),a.a.createElement("div",{className:"stuffie__main"},a.a.createElement("div",{className:"stuffie__menu"},a.a.createElement(Bt,null)),a.a.createElement("div",{className:"stuffie__content"},a.a.createElement(Ut,null)),a.a.createElement("div",{className:"stuffie__right"},a.a.createElement("div",{className:"stuffie__user"},t.picture&&a.a.createElement("img",{src:t.picture,alt:"User Pic"}),a.a.createElement("div",{className:"stuffie__welcome"},n("Welcome")," ",t.first_name)),a.a.createElement("div",{className:"stuffie__apps"},a.a.createElement(re,null)))),a.a.createElement("div",{className:"stuffie_footer"},a.a.createElement(At,null)),a.a.createElement(ae,null))}}]),n}(r.Component),Wt=Object(g.b)((function(e){return{user:e.user}}),{})(Object(h.c)()(Gt)),Kt=T("MENU::FRIENDS_REQUESTS_FETCHED"),Jt=T("ADMIN::PENDING_PRODUCTS_FETCHED");n(731);var Vt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isLoading:!0},e.fetchData=function(){var t=e.props,n=t.user,r=t.fetchCategories,a=t.fetchFriends,c=t.fetchSubCategories,s=t.fetchProducts,i=t.fetchFriendsRequests,o=t.fetchExchangeRequests,u=t.fetchLoanRequests,l=t.fetchPendingProducts,f=t.fetchUserRequests,d=[r(),c(),a(n.email),i(n.email),o(n.id),u(n.id)],m=[f(),l()];n.admin&&(d=[].concat(Object(Z.a)(d),m)),Promise.all(d).then((function(e){return s(n,e[0].data)})).catch((function(e){return console.log(e)})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this.props.t;return this.state.isLoading?a.a.createElement("div",{className:"fetch-data__loading"},a.a.createElement(j,{size:"xl",message:e("Loading-data")})):a.a.createElement(Wt,null)}}]),n}(r.Component),Yt={fetchCategories:de,fetchFriends:function(e){return function(t){return function(e){return w.a.get(U.user.friends(e),{headers:x.headers})}(e).then((function(e){return M((t=e.data,Object(O.map)(t,(function(e){return{id:e.id_friend}}))));var t})).then((function(n){var r=n.data||[];return t(Ye(r,e)),Promise.resolve(r)}))}},fetchFriendsRequests:function(){return function(e){return w.a.get(U.user.friendsRequest(t),{headers:x.headers}).then((function(t){return e(Kt(t.data)),Promise.resolve(t.data)}));var t}},fetchProducts:function(e,t){return function(n){return(r=e.id,w.a.get(U.stuff.listForStuffier(r),{headers:x.headers})).then((function(e){return ce(Ne(e.data))})).then((function(r){var a=r.data,c=function(e,t){var n={};return Object(O.forEach)(e,(function(e){n=Object(q.a)(Object(q.a)({},n),{},Object(je.a)({},e.id,[]))})),Object(O.isEmpty)(n)||Object(O.forEach)(t,(function(e){n[e.category].push(e)})),n}(t,a);return n(xe(c,e.email)),Promise.resolve(c)}));var r}},fetchSubCategories:he,fetchExchangeRequests:function(e){return function(t){return(n=e,w.a.get(U.exchange.list(n),{headers:x.headers})).then((function(n){t(ft(n.data,e)),Promise.resolve(n.data)})).catch((function(e){return Promise.reject(e)}));var n}},fetchLoanRequests:function(e){return function(t){return(n=e,w.a.get(U.loan.list(n),{headers:x.headers})).then((function(n){t(_t(n.data,e)),Promise.resolve(n.data)})).catch((function(e){return Promise.reject(e)}));var n}},fetchPendingProducts:function(){return function(e){return w.a.get(U.stuff.listPendingPics(),{headers:x.headers}).then((function(t){return e(Jt(t.data)),Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}))}},fetchUserRequests:Fe},Qt=Object(g.b)((function(e){return{user:e.user}}),Yt)(Object(h.c)()(Vt));n(732);var $t=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:"",firstName:"",lastName:"",isLoading:!1},e.handleSubmit=function(t){var n=e.props,r=n.registerUser,a=n.setMessage,c=e.state,s={email:c.email,password:c.password,first_name:c.firstName,last_name:c.lastName,admin:!1};t.preventDefault(),e.setState({isLoading:!0}),r(s).then((function(e){localStorage.setItem("username",e.email),a("Register Successful. Request to be accepted by Admin. Do not login yet!")})).catch((function(e){return a("Error: Couldn't register. Try again.")})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(l.a)(n,[{key:"enableButton",value:function(){var e=this.state,t=e.email,n=e.password,r=e.firstName,a=e.lastName;return t.length>0&&n.length>0&&r.length>0&&a.length>0}},{key:"render",value:function(){var e=this,t=this.state.isLoading;return a.a.createElement("div",{className:"register"},a.a.createElement("h1",null,"Register"),a.a.createElement("form",{className:"register__form",onSubmit:function(t){return e.handleSubmit(t)}},a.a.createElement("div",{className:"register__content"},a.a.createElement("div",{className:"register__row"},a.a.createElement("div",{className:"register__text"},"Email"),a.a.createElement(P,{type:"text",name:"email",placeholder:"Email",disabled:t,onChange:function(t){return e.setState({email:t})}})),a.a.createElement("div",{className:"register__row"},a.a.createElement("div",{className:"register__text"},"Password"),a.a.createElement(P,{type:"password",name:"password",placeholder:"Password",disabled:t,onChange:function(t){return e.setState({password:t})}})),a.a.createElement("div",{className:"register__row"},a.a.createElement("div",{className:"register__text"},"First Name"),a.a.createElement(P,{type:"text",name:"firstName",placeholder:"First Name",disabled:t,onChange:function(t){return e.setState({firstName:t})}})),a.a.createElement("div",{className:"register__row"},a.a.createElement("div",{className:"register__text"},"Last Name"),a.a.createElement(P,{type:"text",name:"lastName",placeholder:"Last Name",disabled:t,onChange:function(t){return e.setState({lastName:t})}}))),a.a.createElement("div",{className:"register__button"},a.a.createElement(D,{type:"submit",text:"Register",disabled:!this.enableButton()||t}),t&&a.a.createElement("div",{className:"register__loading"},a.a.createElement(j,{size:"md"})))))}}]),n}(r.Component),Xt={registerUser:function(e){return function(t){return H(e).then((function(){return t(V(e,e.email)),Promise.resolve(e)}))}}},Zt=Object(g.b)((function(e){return{user:e.user}}),Xt)(Object(_.g)($t));n(733);var en=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isLoading:!0,message:""},e.getMessageType=function(e){return e.toLowerCase().includes("Error")?Re.ERROR:e.toLowerCase().includes("successful")?Re.SUCCESSFUL:Re.WARNING},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.fetchUser;localStorage.getItem("username")?t(localStorage.getItem("username")).finally((function(){return e.setState({isLoading:!1})})):this.setState({isLoading:!1})}},{key:"componentDidUpdate",value:function(e,t){e.user!==this.props.user&&this.setState({message:""})}},{key:"render",value:function(){var e=this,t=this.props.user,n=this.state,r=n.isLoading,c=n.message,s=Object(O.get)(t,"request"),i=s?"User already registered, wait for authorization. Don't register again.":c;return r?a.a.createElement("div",{className:"auth__loading"},a.a.createElement(j,{size:"xl",message:"Loading"})):Object(O.isEmpty)(t)||s?a.a.createElement("div",{className:"auth"},a.a.createElement("div",{className:"auth__header"},a.a.createElement(We,{fileName:"logo_2020_2",format:"jpg",height:"50",width:"50"}),a.a.createElement("h1",{className:"auth__title"},a.a.createElement("span",{className:"auth__stuffie"},"Stuffie"),a.a.createElement("span",{className:"auth__slogan"},"Connecting Life"))),a.a.createElement("div",{className:"auth__horizontal-line"}),a.a.createElement(Se,{message:i,type:this.getMessageType(i)}),a.a.createElement("div",{className:"auth__content"},a.a.createElement(Zt,{setMessage:function(t){return e.setState({message:t})}}),a.a.createElement("div",{className:"auth__line"}),a.a.createElement(X,{setMessage:function(t){return e.setState({message:t})}}))):Object(O.isEmpty)(t)?void 0:a.a.createElement(Qt,null)}}]),n}(r.Component),tn={fetchUser:J},nn=Object(g.b)((function(e){return{user:e.user}}),tn)(en);var rn=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement(_.d,null,a.a.createElement(_.b,{path:"/",component:nn}),a.a.createElement(_.b,{path:"/login",component:X}),a.a.createElement(_.b,{path:"/register",component:Zt}))}}]),n}(r.Component),an=Object(h.c)()(rn);n(734),n(735);var cn=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(m.a)(e);if(t()){var a=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.store;return a.a.createElement("div",{className:"stuffie__app"},a.a.createElement(g.a,{store:e},a.a.createElement(h.a,{i18n:b},a.a.createElement(p.a,null,a.a.createElement(an,null)))))}}]),n}(r.Component),sn=Object(h.c)()(cn),on=Object(i.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STUFFIE:LOGIN_USER_FETCHED":case"STUFFIE:USER_FETCHED":case"STUFFIE:USER_PICTURE_ADDED":return t.payload;default:return e}},userRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STUFFIE:USER_REQUESTS_FETCHED":return t.payload;case"STUFFIE::USER_REQUEST_DELETED":var n=e.filter((function(e){return e._id!==t.payload._id}));return n;default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU:CATEGORY_ADDED":var n=t.payload;return[].concat(Object(Z.a)(e),[n]);case"MENU::CATEGORIES_FETCHED":case"MENU::CATEGORY_FETCHED":return t.payload;default:return e}},friends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER::FRIENDS_FETCHED":case"FRIENDS::PRODUCTS_FETCHED":return t.payload;default:return e}},friendsRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU::FRIENDS_REQUESTS_FETCHED":return t.payload;default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCTS::PRODUCT_ADDED":var n=t.payload,r=e[n.category];return Object(q.a)(Object(q.a)({},e),{},Object(je.a)({},n.category,[].concat(Object(Z.a)(r),[n])));case"MENU::PRODUCTS_FETCHED":return t.payload;default:return e}},subcategories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU:SUBCATEGORY_ADDED":var n=t.payload;return[].concat(Object(Z.a)(e),[n]);case"MENU::SUBCATEGORIES_FETCHED":case"MENU::SUBCATEGORY_FETCHED":return t.payload;default:return e}},exchangeRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXCHANGE::REQUESTED":return[].concat(Object(Z.a)(e),[t.payload]);case"EXCHANGES::FETCHED":return t.payload;case"EXCHANGE::DELETED":var n=e.filter((function(e){return e._id!==t.payload}));return n;default:return e}},pendingProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADMIN::PENDING_PRODUCTS_FETCHED":return t.payload;default:return e}},loanRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAN::REQUESTED":return[].concat(Object(Z.a)(e),[t.payload]);case"LOANS::FETCHED":return t.payload;case"LOAN::DELETED":var n=e.filter((function(e){return e._id!==t.payload}));return n;default:return e}},feed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FEED::FETCHED":return t.payload;default:return e}}}),un=function(e,t){return"STUFFIE::REVOKE_USER"===t.type&&(e=void 0),on(e,t)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(736),n(737);var ln=[o.a],fn="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d;ln.push(n(738));var dn=Object(i.e)(un,fn(i.a.apply(void 0,ln)));s.a.render(a.a.createElement(sn,{store:dn}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[348,1,2]]]);
//# sourceMappingURL=main.febb6ac2.chunk.js.map