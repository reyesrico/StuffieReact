(this.webpackJsonpstuffiereact=this.webpackJsonpstuffiereact||[]).push([[0],{308:function(e,t){},320:function(e){e.exports=JSON.parse('{"translations":{"Add-Friend":"Add Friend","Admin":"Admin","English":"English","Feed":"Feed","Friends":"Friends","Friends-Title":"{{ first_name }} Friends","Language":"Language","Logout":"Logout","Products":"Products","Spanish":"Spanish","Summary":"Summary","Welcome":"Welcome ","Welcome to React Translation":"Welcome to React Translate.","This is test view":"This is the test view.","Loading-data":"Loading data and products...","Loading-Feed":"Loading Feed"}}')},321:function(e){e.exports=JSON.parse('{"translations":{"Add-Friend":"Agregar Amigo","Admin":"Admin","English":"Ingles","Feed":"Feed","Friends":"Amigos","Friends-Title":"Amigos de {{ first_name }}","Language":"Idioma","Logout":"Salir","Products":"Productos","Spanish":"Espa\xf1ol","Summary":"Inventario","Welcome":"Hola ","Welcome to React Translation":"Bienvenido.","This is test view":"Esta es una prueba.","Loading-data":"Cargando datos and productos...","Loading-Feed":"Cargando Feed"}}')},348:function(e,t,n){e.exports=n(740)},366:function(e,t,n){},367:function(e,t,n){},368:function(e,t,n){},391:function(e,t){},393:function(e,t){},402:function(e,t){},404:function(e,t){},431:function(e,t){},432:function(e,t){},497:function(e,t,n){},499:function(e,t,n){},500:function(e,t,n){},501:function(e,t,n){},502:function(e,t,n){},503:function(e,t,n){},504:function(e,t,n){},505:function(e,t,n){},603:function(e,t,n){},604:function(e,t,n){},605:function(e,t,n){},717:function(e,t,n){},718:function(e,t,n){},719:function(e,t,n){},720:function(e,t,n){},722:function(e,t){},723:function(e,t){},724:function(e,t,n){},727:function(e,t,n){},728:function(e,t,n){},729:function(e,t,n){},730:function(e,t,n){},731:function(e,t,n){},732:function(e,t,n){},733:function(e,t,n){},734:function(e,t,n){},736:function(e,t,n){},737:function(e,t,n){},740:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(53),s=n.n(c),i=n(56),o=n(313),u=n(5),l=n(6),f=n(8),d=n(7),m=n(2),p=n(18),h=n(23),g=n(14),v=n(135),E=n(320),y=n(321);v.a.use(h.b).init({lng:"en",resources:{en:E,es:y},fallbackLng:"en",debug:!1,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}},(function(e,t){e&&console.info("i18n.language",v.a.language)}));var b=v.a,_=n(57),O=n(13),R=n(322),S=n.n(R);n(366);var j=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"getSize",value:function(){switch(this.props.size){case"sm":return 8;case"md":return 16;case"lg":return 32;case"xl":return 64;default:return 8}}},{key:"render",value:function(){var e=this.props.message,t=this.getSize();return r.a.createElement("div",{className:"stuffie-loading"},r.a.createElement(S.a,{type:"spin",color:"#00f",height:t,width:t}),e&&r.a.createElement("div",{className:"stuffie-loading__message"},e))}}]),n}(a.Component),N=n(323),C=n.n(N);n(367);var D=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.type,a=e.text,c=e.onClick;return c?r.a.createElement("button",{className:"button",type:n||"button",onClick:function(e){return e&&c()},disabled:t},a):r.a.createElement("button",{className:"button",type:n||"button",disabled:t},a)}}]),n}(a.Component);n(368);var P=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.placeholder,a=e.type,c=e.value,s=e.onChange,i=e.disabled,o=e.reference;return r.a.createElement("div",{className:"textfield"},null!==c&&!s&&r.a.createElement("input",{type:a,name:t,placeholder:n||"",value:c,disabled:i,ref:o}),s&&r.a.createElement("input",{type:a,name:t,placeholder:n||"",disabled:i,onChange:function(e){return s(e.target.value)},ref:o,value:c}))}}]),n}(a.Component),x={cloudinary:{url:"https://res.cloudinary.com/reyesrico/image/upload/c_scale,f_auto,w_100/v1",cloudName:"reyesrico",apiKey:"981789986692969",apiSecret:"xxQPfLvWpN_iIlt1RfMZnB3jRw0"},cloudinary_headers:{"cache-control":"no-cache","x-apikey":"981789986692969"},fb:{appId:"1458399831108421"},headers:{"cache-control":"no-cache","x-apikey":"5c932ad1cac6621685acc11e"},server:"https://stuffie-98b2.restdb.io/rest/"},q=n(28),k=n(11),w=n.n(k),T=function(e){return function(t,n){return{meta:n,payload:t,type:e}}},L=function(e,t){return function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return function(n){return e.apply(void 0,a).then((function(e){var r=e.data;return n(t(r,Object(q.a)({},a))),Promise.resolve(r)}))}}},U=function(e,t,n){return function(a){return function(r){return n&&r(n(void 0,a)),e(a).then((function e(n){var c=n.data;return r(t(c,a)),c.next?w.a.get(c.next).then(e):Promise.resolve({data:c})}))}}},F={category:{add:function(){return"".concat(x.server,"categories")},list:function(){return"".concat(x.server,"categories")},detail:function(e){return"".concat(x.server,"categories?q=").concat(JSON.stringify({id:parseInt(e)}))}},cloudinary:{exist:function(){return"https://".concat(x.cloudinary.apiKey,":").concat(x.cloudinary.apiSecret,"@api.cloudinary.com/v1_1/").concat(x.cloudinary.cloudName,"/resources/image")}},subcategory:{add:function(){return"".concat(x.server,"subcategories")},list:function(){return"".concat(x.server,"subcategories")},detail:function(e){return"".concat(x.server,"subcategories?q=").concat(JSON.stringify({id:parseInt(e)}))}},stuff:{addStuffiersStuff:function(){return"".concat(x.server,"stuffiers-stuff")},addStuff:function(){return"".concat(x.server,"stuff")},detail:function(e){return"".concat(x.server,"stuff?q=").concat(JSON.stringify({id:parseInt(e)}))},listDetail:function(e){return"".concat(x.server,'stuff?q={"$or":').concat(JSON.stringify(e),"}")},listForStuffier:function(e){return"".concat(x.server,"stuffiers-stuff?q=").concat(JSON.stringify({id_stuffier:e}))},listStuffiers:function(e){return"".concat(x.server,'stuffiers-stuff?q={"$or":').concat(JSON.stringify(e),"}")},detailFromCategories:function(e,t){return"".concat(x.server,'stuff?q={"$and":[{"category": ').concat(e,'}, {"subcategory": ').concat(t,"}]}")},listPendingPics:function(){return"".concat(x.server,'stuff?q={"$or": [ {"file_name": {"$exists": false}}, {"file_name": ""} ]}')}},user:{detail:function(e){return"".concat(x.server,"stuffiers?q=").concat(JSON.stringify({email:e}))},listDetail:function(e){return"".concat(x.server,'stuffiers?q={"$or":').concat(JSON.stringify(e),"}")},friends:function(e){return"".concat(x.server,"friends?q=").concat(JSON.stringify({email_stuffier:e}))},list:function(){return"".concat(x.server,"stuffiers")},loginUser:function(e,t){return"".concat(x.server,"stuffiers?q=").concat(JSON.stringify({email:e,password:t}))},registerUser:function(){return"".concat(x.server,"stuffiers")},lastId:function(){return"".concat(x.server,'stuffiers?q={}&h={"$fields": {"id":1}, "$aggregate":["COUNT:"] }')},requestToBeFriend:function(){return"".concat(x.server,"friend-requests")},friendsRequest:function(e){return"".concat(x.server,"friend-requests?q=").concat(JSON.stringify({email_stuffier:e}))},friendRequestDetail:function(e,t){return"".concat(x.server,"friend-requests?q=").concat(JSON.stringify({email_stuffier:e,id_friend:t}))},deleteFriendRequest:function(e){return"".concat(x.server,"friend-requests/").concat(e)},friend:function(){return"".concat(x.server,"friends")},userRequests:function(){return"".concat(x.server,'stuffiers?q={"request": true}')},deleteUserRequest:function(e){return"".concat(x.server,"stuffiers/").concat(e)}},exchange:{request:function(){return"".concat(x.server,"exchange-requests")},list:function(e){return"".concat(x.server,'exchange-requests?q={ "$or": [{ "id_stuffier": ').concat(e,' } ,{ "id_friend": ').concat(e," }] }")},deleteRequest:function(e){return"".concat(x.server,"exchange-requests/").concat(e)}},loan:{request:function(){return"".concat(x.server,"loan-requests")},list:function(e){return"".concat(x.server,'loan-requests?q={ "$or": [{ "id_stuffier": ').concat(e,' } ,{ "id_friend": ').concat(e," }] }")},deleteRequest:function(e){return"".concat(x.server,"loan-requests/").concat(e)}}},A=n(185),z=n.n(A),I={encrypt:function(e){return z.a.SHA256(e).toString(z.a.enc.Hex)}},M=function(e){return e.length>0?w.a.get(F.user.listDetail(e),{headers:x.headers}):Promise.resolve({})},H=function(e){var t=I.encrypt(e.password);return w.a.get(F.user.lastId(),{headers:x.headers}).then((function(n){var a=Object.values(n.data)[0]+1;return w.a.post(F.user.registerUser(),Object(q.a)(Object(q.a)({},e),{},{password:t,id:a,request:!0}),{headers:x.headers})}))},B=function(e,t){return w.a.post(F.user.requestToBeFriend(),{email_stuffier:e,id_friend:t},{headers:x.headers})},G=function(e,t){return w.a.get(F.user.friendRequestDetail(e,t),{headers:x.headers}).then((function(e){return w.a.delete(F.user.deleteFriendRequest(e.data[0]._id),{headers:x.headers})}))},K=function(e,t){return w.a.post(F.user.friend(),{email_stuffier:e,id_friend:t},{headers:x.headers})},W=(T("STUFFIE:LOGIN_USER_FETCHED"),T("STUFFIE:USER_FETCHED")),J=function(e){return function(t){return function(e){return w.a.get(F.user.detail(e),{headers:x.headers})}(e).then((function(n){return t(W(n.data[0],e)),Promise.resolve(n)}))}},V=T("STUFFIE:USER_REGISTERED"),Y=T("STUFFIE:USER_PICTURE_ADDED");n(497);var Q=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:null,password:null,loginFB:!1},e.onClick=function(){var t=e.props,n=t.fetchUser,a=t.loginUser,r=t.setMessage,c=e.state,s=c.email,i=c.password;s&&i&&a(s,i).then((function(e){return n(e.data[0].email)})).then((function(e){localStorage.setItem("username",e.data[0].email),r("Login successful")})).catch((function(){return r("Error: Couldn't login. Try again.")}))},e.responseFacebook=function(t){var n=e.props,a=n.addUserPicture,r=n.fetchUser,c=n.setMessage;t&&r(t.email).then((function(e){var n=t.picture.data.url;localStorage.setItem("username",e.data[0].email),a(e.data[0],n),c("Login successful")})).catch((function(){return c("Error: Couldn't login. Try again.")}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.state.loginFB;return r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{className:"login__form"},r.a.createElement(P,{type:"email",name:"email",placeholder:"Email",onChange:function(t){return e.setState({email:t})}}),r.a.createElement(P,{type:"password",name:"password",placeholder:"Password",onChange:function(t){return e.setState({password:t})}}),r.a.createElement(D,{onClick:function(){return e.onClick()},text:"Login"})),r.a.createElement("hr",{className:"login__hr"}),r.a.createElement(C.a,{appId:x.fb.appId,autoLoad:t,fields:"name,email,picture",scope:"public_profile,user_friends",onClick:function(t){return t&&e.setState({loginFB:!0})},callback:this.responseFacebook}))}}]),n}(a.Component),$={addUserPicture:function(e,t){return function(n){var a=Object(q.a)(Object(q.a)({},e),{},{picture:t});n(Y(a,a.email))}},loginUser:function(e,t){return function(n){return function(e,t){return w.a.get(F.user.loginUser(e,I.encrypt(t)),{headers:x.headers})}(e,t).then((function(e){return Promise.resolve(e)}))}},fetchUser:J},X=Object(g.b)(null,$)(Object(_.g)(Q)),Z=n(20),ee=[{value:"en",label:"English"},{value:"es",label:"Spanish"}];n(499);var te=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1},e.open=function(){e.setState({isOpen:!0})},e.toggle=function(){e.setState({isOpen:!e.state.isOpen})},e}return Object(l.a)(n,[{key:"handleClickOutside",value:function(){this.setState({isOpen:!1})}},{key:"render",value:function(){var e=this.state.isOpen?"dropdown--is-open":"";return r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{className:"dropdown__label",onClick:this.toggle},this.props.label(this.state.isOpen)),r.a.createElement("div",{className:"dropdown__content-container"},r.a.createElement("div",{className:"dropdown__content ".concat(e)},this.props.children)))}}]),n}(a.Component);n(500);var ne=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={lang:ee[0]},e.changeLang=function(t){var n=e.props.i18n;e.setState({lang:t}),n.changeLanguage(t.value)},e.renderCurrentLanguage=function(t){var n=e.props.t;return r.a.createElement("div",{className:t?"apps__language-open":"apps__language"},n("Language"))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"apps"},r.a.createElement("div",{className:"apps__title"},"Apps & extras"),r.a.createElement("div",{className:"apps__item"},r.a.createElement(p.b,{to:"/tickets"},"Tickets")),r.a.createElement("div",{className:"apps__item"},r.a.createElement(p.b,{to:"/support"},"Support")),r.a.createElement("div",{className:"apps__item"},r.a.createElement(p.b,{to:"/charts"},"Charts")),r.a.createElement("div",{className:"apps__item"},r.a.createElement(p.b,{to:"/test"},"Test")),r.a.createElement("hr",null),r.a.createElement("div",{className:"apps__item"},r.a.createElement(te,{label:function(t){return e.renderCurrentLanguage(t)}},ee.map((function(t){return r.a.createElement("div",{key:t.value,className:"apps__option",onClick:function(){return e.changeLang(t)}},t.label)})))))}}]),n}(a.Component),ae=Object(g.b)((function(e){return{user:e.user}}),{})(Object(h.c)()(Object(_.g)(ne)));n(501);var re=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={messageList:[]},e}return Object(l.a)(n,[{key:"onMessageWasSent",value:function(e){this.setState({messageList:[].concat(Object(Z.a)(this.state.messageList),[e])})}},{key:"sendMessage",value:function(e){e.length>0&&this.setState({messageList:[].concat(Object(Z.a)(this.state.messageList),[{author:"them",type:"text",data:{text:e}}])})}},{key:"render",value:function(){return r.a.createElement("div",{className:"chat"},"Get new Chat-Window")}}]),n}(a.Component),ce=function(e){return e.length?w.a.get(F.stuff.listDetail(e),{headers:x.headers}):Promise.resolve([])},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return w.a.get(F.category.list(),{headers:x.headers,cancelToken:e})},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return w.a.get(F.subcategory.list(),{headers:x.headers,cancelToken:e})},oe=function(e,t){return w.a.post(F.stuff.addStuffiersStuff(),{id_stuffier:e,id_stuff:t},{headers:x.headers})},ue=function(e,t,n){var a=[],r=e.toLowerCase();return Promise.all([se(n),ie(n)]).then((function(e){return e[0].data.forEach((function(e){e.name.toLowerCase().includes(r)&&a.push({type:"Category",name:e.name,id:e.id})})),e[1].data.forEach((function(e){e.name.toLowerCase().includes(r)&&a.push({type:"Subcategory",name:e.name,id:e.id})})),Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.name.toLowerCase().includes(r)&&a.push({type:"Product",name:e.name,id:e.id})}))})),Promise.resolve(a)}))},le=function(e,t){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))},fe=T("MENU::CATEGORIES_FETCHED"),de=U(se,fe),me=(U((function(e){return w.a.get(F.category.detail(e),{headers:x.headers})}),T("MENU::CATEGORY_FETCHED")),U((function(e){var t=e.id,n=e.name;return w.a.post(F.category.add(),{id:t,name:n},{headers:x.headers})}),T("MENU:CATEGORY_ADDED"))),pe=T("MENU::SUBCATEGORIES_FETCHED"),he=U(ie,pe),ge=(U((function(e){return w.a.get(F.subcategory.detail(e),{headers:x.headers})}),T("MENU::SUBCATEGORY_FETCHED")),U((function(e){var t=e.id,n=e.name;return w.a.post(F.subcategory.add(),{id:t,name:n},{headers:x.headers})}),T("MENU:SUBCATEGORY_ADDED")));n(502);var ve="category",Ee="subcategory",ye=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={isLoading:!1,id:"",name:"",categories:[],subcategories:[],tempObjects:null},e.createValue=function(){var t=e.props,n=t.addCategory,a=t.addSubCategory,r=t.type,c=e.state,s=c.categories,i=c.subcategories;r===ve&&(e.setState({isLoading:!0}),n({name:e.state.name,id:Number(e.state.id)}).then((function(t){var n={_id:t.data._id,id:t.data.id,name:t.data.name};e.setState({categories:[].concat(Object(Z.a)(s),[n]),name:"",id:""})})).finally((function(){e.setState({isLoading:!1})}))),r===Ee&&(e.setState({isLoading:!0}),a({name:e.state.name,id:Number(e.state.id)}).then((function(t){var n={_id:t.data._id,id:t.data.id,name:t.data.name};e.setState({subcategories:[].concat(Object(Z.a)(i),[n]),name:"",id:""})})).finally((function(){e.setState({isLoading:!1})})))},e.renderValues=function(t){var n=e.props,a=n.categories,c=n.subcategories,s=t===ve?a:c;return Object(O.map)(s,(function(e){return r.a.createElement("li",{className:"add-category__item",key:"".concat(t,"_").concat(e.id)},r.a.createElement("span",{className:"add-category__id"},"(",e.id,")")," - ",e.name)}))},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.type;"subcategory"===e.type&&"category"===t&&this.setState({label:"Category"}),"category"===e.type&&"subcategory"===t&&this.setState({label:"SubCategory"})}},{key:"render",value:function(){var e=this,t=this.props.type;if(this.state.isLoading)return r.a.createElement(j,{size:"md"});var n=t===ve?"Category":"SubCategory",a=t!==ve?"Category":"SubCategory",c=t===ve?Ee:ve;return r.a.createElement("div",{className:"add-category"},r.a.createElement("form",null,r.a.createElement("div",{className:"add-category__values"},r.a.createElement("div",null,r.a.createElement("h2",null,n),r.a.createElement("ul",{className:"add-category__list"},this.renderValues(t))),r.a.createElement("div",null,r.a.createElement("h2",null,a),r.a.createElement("ul",{className:"add-category__list"},this.renderValues(c)))),r.a.createElement("hr",null),r.a.createElement("div",{className:"add-category__row"},r.a.createElement("label",null,"Id"),r.a.createElement(P,{name:"id",type:"text",onChange:function(t){return e.setState({id:t})}})),r.a.createElement("div",{className:"add-category__row"},r.a.createElement("label",null,n),r.a.createElement(P,{name:"name",type:"text",onChange:function(t){return e.setState({name:t})}})),r.a.createElement("hr",null),r.a.createElement(D,{onClick:function(){return e.createValue()},text:"Send"})))}}]),n}(a.Component),be={addCategory:me,addSubCategory:ge},_e=Object(g.b)((function(e){return{user:e.user,categories:e.categories,subcategories:e.subcategories}}),be)(ye);var Oe=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={valueSelected:null},e.updateChange=function(t){var n=e.props,a=n.onChange,r=n.values,c=Number(t.target.value),s=Object(O.find)(r,(function(e){return e.id===c}));e.setState({valueSelected:c}),a(s)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.values,t=this.state.valueSelected,n=e&&e[0]?e[0].id:null,a=t||n;return r.a.createElement("select",{onChange:this.updateChange,value:a},e&&e.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})))}}]),n}(a.Component);n(503);var Re,Se=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.type;return t?r.a.createElement("div",{className:"warning-message warning-message__".concat(n)},t):r.a.createElement("div",null)}}]),n}(a.Component);!function(e){e.ERROR="error",e.SUCCESSFUL="successful",e.WARNING="warning",e.EMPTY=""}(Re||(Re={}));var je=n(55);function Ne(e){return Object(O.map)(e,(function(e){return{id:e.id_stuff}}))}function Ce(e,t){for(var n=Object.values(t),a=null,r=0;r<n.length&&!(a=n[r].find((function(t){return t.id===e})));r++);return a}function De(e){return!Object.values(e).filter((function(e){return e.length>0})).length}var Pe=T("MENU::PRODUCT_FETCHED"),xe=T("MENU::PRODUCTS_FETCHED"),qe=T("PRODUCTS::PRODUCT_ADDED"),ke=U((function(e){return w.a.get(F.stuff.detail(e),{headers:x.headers})}),Pe);n(504);var we=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={status:Re.EMPTY,name:null,file_name:null,category:e.props.categories[0],product:{id:null,name:null},subcategory:e.props.subcategories[0],stuffStuffier:{},productsByCategories:[]},e.createProduct=function(){var t=e.props,n=t.addProduct,a=t.user,r=e.state,c=r.name,s=r.category,i=r.subcategory;c&&s&&i&&n({name:c,category:s.id,subcategory:i.id},a).then((function(t){e.setState({product:t,stuffStuffier:t,status:Re.SUCCESSFUL})})).catch((function(){var t={name:c,category:s.id,subcategory:i.id};e.setState({product:t,stuffStuffier:t,status:Re.ERROR})}))},e.clearState=function(){e.setState({status:Re.EMPTY,name:null,file_name:null,category:e.props.categories[0],subcategory:e.props.subcategories[0],product:{},stuffStuffier:{}})},e.getMessage=function(){var t=e.state,n=t.stuffStuffier,a=t.status,r=t.product,c=a===Re.ERROR?"was not added":"was added successfully!";return r&&!Object(O.isEmpty)(n)?"Stuff ".concat(r.name," ").concat(c):""},e.updateCategory=function(t){e.renderProducts(t,e.state.subcategory),e.setState({category:t})},e.updateSubcategory=function(t){e.renderProducts(e.state.category,t),e.setState({subcategory:t})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.renderProducts(this.state.category,this.state.subcategory)}},{key:"setProduct",value:function(){var e=this,t=this.props,n=t.addRegisteredProduct,a=t.history;n(t.user,this.state.product).then((function(t){e.setState({stuffStuffier:t,status:Re.SUCCESSFUL}),a.push("/products")}))}},{key:"renderProducts",value:function(e,t){var n=this,a=this.props.products;(function(e,t){return w.a.get(F.stuff.detailFromCategories(e,t),{headers:x.headers})})(e.id,t.id).then((function(e){var t=e.data[0],r=e.data.filter((function(e){return e.id&&!Ce(e.id,a)}));n.setState({productsByCategories:r,product:t})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.categories,a=t.subcategories,c=this.state,s=c.product,i=c.productsByCategories,o=c.category,u=c.status,l=c.subcategory;return r.a.createElement("div",{className:"add-product"},r.a.createElement("h3",null,"Add Stuff"),r.a.createElement(Se,{message:this.getMessage(),type:u}),r.a.createElement("hr",null),r.a.createElement("form",null,r.a.createElement("div",null,"Select Product"),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"Category"),r.a.createElement(Oe,{onChange:function(t){return e.updateCategory(t)},values:n})),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"SubCategory"),r.a.createElement(Oe,{onChange:function(t){return e.updateSubcategory(t)},values:a})),!i.length&&r.a.createElement("div",null,"There are no products"),i.length>0&&r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"Product"),r.a.createElement(Oe,{onChange:function(t){return e.setState({product:t})},values:i})),r.a.createElement("hr",null),r.a.createElement(D,{text:"Add Product",disabled:!(o&&l&&s&&s.name),onClick:function(){return e.setProduct()}}),r.a.createElement("hr",null),r.a.createElement("div",null,"Create New Product"),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"Name"),r.a.createElement(P,{name:"name",type:"text",onChange:function(t){return e.setState({name:t})}})),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"Category"),r.a.createElement(Oe,{onChange:function(t){return e.setState({category:t})},values:n})),r.a.createElement("div",{className:"add-product__row"},r.a.createElement("label",null,"SubCategory"),r.a.createElement(Oe,{onChange:function(t){return e.setState({subcategory:t})},values:a})),r.a.createElement("hr",null),r.a.createElement(D,{onClick:function(){return e.createProduct()},text:"Send"})))}}]),n}(a.Component),Te={addProduct:function(e,t){return function(n){return function(e){var t=e.name,n=e.category,a=e.subcategory,r=e.fileName;return w.a.post(F.stuff.addStuff(),{name:t,category:n,subcategory:a,file_name:r},{headers:x.headers})}(e).then((function(e){var n=e.data;return oe(t.id,n.id)})).then((function(){return n(qe(e,t.email)),Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},addRegisteredProduct:function(e,t){return function(n){return oe(e.id,t.id).then((function(){return n(qe(t,e.email)),Promise.resolve(t)})).catch((function(e){return Promise.reject(e)}))}}},Le=Object(g.b)((function(e){return{user:e.user,categories:e.categories,subcategories:e.subcategories,products:e.products}}),Te)(Object(_.g)(we)),Ue=L((function(){return w.a.get(F.user.userRequests(),{headers:x.headers})}),T("STUFFIE:USER_REQUESTS_FETCHED")),Fe=L((function(e){return w.a.put(F.user.deleteUserRequest(e._id),Object(q.a)(Object(q.a)({},e),{},{request:!1}),{headers:x.headers})}),T("STUFFIE::USER_REQUEST_DELETED"));n(505);var Ae=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).executeRequest=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.props.deleteRequest;n&&a(t).then((function(){return alert("Request Accepted and Deleted")}))},e.renderRequests=function(){var t=e.props.userRequests;return r.a.createElement("div",{className:"admin__requests"},r.a.createElement("hr",null),r.a.createElement("h3",{className:"admin__title"},r.a.createElement("div",null,"User Requests"),r.a.createElement("div",{className:"admin__warning"},t.length)),r.a.createElement("ul",null,t.map((function(t,n){return r.a.createElement("li",{className:"admin__request",key:n},r.a.createElement("div",{className:"admin__request-text"},t.first_name," ",t.last_name," (",t.email,")"),r.a.createElement("div",{className:"admin__request-button"},r.a.createElement(D,{onClick:function(){return e.executeRequest(t,!0)},text:"Accept"})))}))))},e.renderPendingProducts=function(){var t=e.props.pendingProducts;return console.log(t),r.a.createElement("div",{className:"admin__requests"},r.a.createElement("hr",null),r.a.createElement("h3",{className:"admin__title"},r.a.createElement("div",null,"Products Pending of Pics"),r.a.createElement("div",{className:"admin__warning"},t.length)),r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.id,className:"admin__request"},r.a.createElement("div",null,"Product: ",e.name),r.a.createElement("div",null,"Id: ",e.id," / Category: ",e.category," / Subcategory: ",e.subcategory))}))))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.pendingProducts,n=e.userRequests;return r.a.createElement("div",{className:"admin"},t.length>0&&this.renderPendingProducts(),n.length>0&&this.renderRequests(),r.a.createElement("div",{className:"admin__link"},r.a.createElement(p.b,{to:"/category/add"},"Add Category")),r.a.createElement("hr",null),r.a.createElement("div",{className:"admin__link"},r.a.createElement(p.b,{to:"/subcategory/add"},"Add SubCategory")),r.a.createElement("hr",null))}}]),n}(a.Component),ze={deleteRequest:Fe},Ie=Object(g.b)((function(e){return{userRequests:e.userRequests,pendingProducts:e.pendingProducts}}),ze)(Ae);var Me=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.subcategories,a=t.location,c=t.products,s=t.match.params.id,i=a.category||a.subcategory||"",o=s.length>=5?parseInt(s[0]):parseInt(s);s.length>=5&&(o=parseInt(s[0]),i=null===(e=n.find((function(e){return e.id===parseInt(s)})))||void 0===e?void 0:e.name);var u=c[o];return r.a.createElement("div",{className:"category-page"},r.a.createElement("h3",null,i),r.a.createElement("hr",null),!u.length&&r.a.createElement("div",null,"No products"),r.a.createElement("ul",null,Object(O.map)(u,(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(p.b,{to:"/product/".concat(e.id)},e.name))}))))}}]),n}(a.Component),He=Object(g.b)((function(e){return{products:e.products,categories:e.categories,subcategories:e.subcategories}}),{})(Me),Be=n(98),Ge=function(e){return w.a.get("".concat(x.cloudinary.url,"/").concat(e))};n(603);var Ke=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={imageUrl:"default_product"},e.setUrl=function(){var t=e.props,n=t.fileName,a=t.category,r=t.subcategory;if(t.isProduct&&a&&r){var c="products/".concat(a,"/").concat(r,"/").concat(n);Ge(c).then((function(){return e.setState({imageUrl:c})})).catch((function(){return e.setState({imageUrl:"default_product"})}))}else e.setState({imageUrl:n})},e.renderImage=function(){var t=e.props,n=t.format,a=t.width,c=e.state.imageUrl,s="default_product"===c?"png":n;return r.a.createElement("div",{className:"media__image"},r.a.createElement(Be.Image,{publicId:c,format:s},r.a.createElement(Be.Transformation,{width:a,fetchFormat:"auto",crop:"scale"})))},e.renderVideo=function(){var t=e.props,n=t.fileName,a=t.format;return r.a.createElement(Be.Video,{publicId:n,format:a})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){"mp4"!==this.props.format&&this.setUrl()}},{key:"componentDidUpdate",value:function(e){e.fileName!==this.props.fileName&&"mp4"!==this.props.format&&this.setUrl()}},{key:"render",value:function(){var e="mp4"===this.props.format;return r.a.createElement(Be.CloudinaryContext,{cloudName:x.cloudinary.cloudName},e&&this.renderVideo(),!e&&this.renderImage())}}]),n}(a.Component);n(604);var We=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getProductType=function(){var t=e.props,n=t.feedPost,a=t.subcategories.find((function(e){return e.id===n.product.subcategory}));return a?a.name:null},e}return Object(l.a)(n,[{key:"renderMessage",value:function(){var e=this.props.feedPost;return r.a.createElement("div",{className:"feed-row__description"},r.a.createElement("span",{className:"feed-row__name"},e.friend_firstName," ",e.friend_lastName," ")," added ",r.a.createElement("b",null,e.product.name)," in ",this.getProductType())}},{key:"render",value:function(){var e=this.props.feedPost,t={pathname:"/exchange",product:e.product,friend:e.friend_id},n={pathname:"/loan",product:e.product,friend:e.friend_id};return r.a.createElement("div",{className:"feed-row"},this.renderMessage(),r.a.createElement("div",{className:"feed-row__image"},r.a.createElement(Ke,{fileName:e.product.id,category:e.product.category,subcategory:e.product.subcategory,format:"jpg",height:"100",width:"100",isProduct:"true"})),r.a.createElement("div",{className:"feed-row__actions"},r.a.createElement("div",{className:"feed-row__action feed-row__text"},"Ask for:"),r.a.createElement("div",{className:"feed-row__action feed-row__link"},r.a.createElement(p.b,{to:n},"Borrow")),r.a.createElement("div",{className:"feed-row__action feed-row__link"},r.a.createElement(p.b,{to:t},"Trade")),r.a.createElement("div",{className:"feed-row__action feed-row__link"},"Buy")))}}]),n}(a.Component),Je={fetchProduct:ke},Ve=Object(g.b)((function(e){return{subcategories:e.subcategories}}),Je)(We);var Ye=T("USER::FRIENDS_FETCHED"),Qe=T("FRIENDS::PRODUCTS_FETCHED");n(605);var $e=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!1,feed:[]},e.componentDidMount=function(){var t=e.props,n=t.fetchFriendsProducts,a=t.friends;Object(O.isEmpty)(e.state.feed)&&(e.setState({isLoading:!0}),n(a).then((function(t){return e.generateFeed(t)})).finally((function(){return e.setState({isLoading:!1})})))},e}return Object(l.a)(n,[{key:"generateFeed",value:function(e){var t=[];e.forEach((function(e){e.products&&e.products.forEach((function(n){t.push({friend_id:e.id,friend_firstName:e.first_name||"",friend_lastName:e.last_name||"",product:n,date:(new Date).toString()})}))})),this.setState({feed:Object(O.sortBy)(t,"date")})}},{key:"render",value:function(){var e=this.props,t=e.friends,n=e.t,a=this.state,c=a.isLoading,s=a.feed;return c?r.a.createElement("div",{className:"content__loading"},r.a.createElement(j,{size:"xl",message:n("Loading-Feed")})):t.length&&s.length?r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"content__info"},r.a.createElement("div",{className:"content__rows"},Object(O.map)(s,(function(e,t){return r.a.createElement(Ve,{key:t,feedPost:e})}))))):r.a.createElement("div",null,"No Friends! Add friends!")}}]),n}(a.Component),Xe={fetchFriendsProducts:function(e){return function(t){var n=[];return function(e){if(e.length>0){var t=Object(O.map)(e,(function(e){return{id_stuffier:e.id}}));return w.a.get(F.stuff.listStuffiers(t),{headers:x.headers})}return Promise.resolve([])}(e).then((function(e){return n=e.data,ce(Ne(e.data))})).then((function(a){var r=a.data,c=function(e,t,n){var a=[];return Object(O.forEach)(e,(function(e){var r=n.filter((function(t){return t.id_stuffier===e.id})).map((function(e){return Object(O.find)(t,(function(t){return t.id===e.id_stuff}))}));a.push(Object(q.a)(Object(q.a)({},e),{},{products:r}))})),a}(e,r,n);return t(Qe(c)),Promise.resolve(c)}))}}},Ze=Object(g.b)((function(e){return{user:e.user,friends:e.friends,subcategories:e.subcategories}}),Xe)(Object(h.c)()($e)),et=n(12),tt=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}],nt=[{name:"axis",children:[{name:"Axes",size:1302},{name:"Axis",size:24593},{name:"AxisGridLine",size:652},{name:"AxisLabel",size:636},{name:"CartesianAxes",size:6703}]},{name:"controls",children:[{name:"AnchorControl",size:2138},{name:"ClickControl",size:3824},{name:"Control",size:1353},{name:"ControlList",size:4665},{name:"DragControl",size:2649},{name:"ExpandControl",size:2832},{name:"HoverControl",size:4896},{name:"IControl",size:763},{name:"PanZoomControl",size:5222},{name:"SelectionControl",size:7862},{name:"TooltipControl",size:8435}]},{name:"data",children:[{name:"Data",size:20544},{name:"DataList",size:19788},{name:"DataSprite",size:10349},{name:"EdgeSprite",size:3301},{name:"NodeSprite",size:19382},{name:"render",children:[{name:"ArrowType",size:698},{name:"EdgeRenderer",size:5569},{name:"IRenderer",size:353},{name:"ShapeRenderer",size:2247}]},{name:"ScaleBinding",size:11275},{name:"Tree",size:7147},{name:"TreeBuilder",size:9930}]},{name:"events",children:[{name:"DataEvent",size:7313},{name:"SelectionEvent",size:6880},{name:"TooltipEvent",size:3701},{name:"VisualizationEvent",size:2117}]},{name:"legend",children:[{name:"Legend",size:20859},{name:"LegendItem",size:4614},{name:"LegendRange",size:10530}]},{name:"operator",children:[{name:"distortion",children:[{name:"BifocalDistortion",size:4461},{name:"Distortion",size:6314},{name:"FisheyeDistortion",size:3444}]},{name:"encoder",children:[{name:"ColorEncoder",size:3179},{name:"Encoder",size:4060},{name:"PropertyEncoder",size:4138},{name:"ShapeEncoder",size:1690},{name:"SizeEncoder",size:1830}]},{name:"filter",children:[{name:"FisheyeTreeFilter",size:5219},{name:"GraphDistanceFilter",size:3165},{name:"VisibilityFilter",size:3509}]},{name:"IOperator",size:1286},{name:"label",children:[{name:"Labeler",size:9956},{name:"RadialLabeler",size:3899},{name:"StackedAreaLabeler",size:3202}]},{name:"layout",children:[{name:"AxisLayout",size:6725},{name:"BundledEdgeRouter",size:3727},{name:"CircleLayout",size:9317},{name:"CirclePackingLayout",size:12003},{name:"DendrogramLayout",size:4853},{name:"ForceDirectedLayout",size:8411},{name:"IcicleTreeLayout",size:4864},{name:"IndentedTreeLayout",size:3174},{name:"Layout",size:7881},{name:"NodeLinkTreeLayout",size:12870},{name:"PieLayout",size:2728},{name:"RadialTreeLayout",size:12348},{name:"RandomLayout",size:870},{name:"StackedAreaLayout",size:9121},{name:"TreeMapLayout",size:9191}]},{name:"Operator",size:2490},{name:"OperatorList",size:5248},{name:"OperatorSequence",size:4190},{name:"OperatorSwitch",size:2581},{name:"SortOperator",size:2023}]}],at=[{name:"Group A",value:400},{name:"Group B",value:300},{name:"Group C",value:300},{name:"Group D",value:200}],rt=[{name:"A1",value:100},{name:"A2",value:300},{name:"B1",value:100},{name:"B2",value:80},{name:"B3",value:40},{name:"B4",value:30},{name:"B5",value:50},{name:"C1",value:100},{name:"C2",value:200},{name:"D1",value:150},{name:"D2",value:50}],ct=[{name:"18-24",uv:31.47,pv:2400,fill:"#8884d8"},{name:"25-29",uv:26.69,pv:4567,fill:"#83a6ed"},{name:"30-34",uv:15.69,pv:1398,fill:"#8dd1e1"},{name:"35-39",uv:8.22,pv:9800,fill:"#82ca9d"},{name:"40-49",uv:8.63,pv:3908,fill:"#a4de6c"},{name:"50+",uv:2.63,pv:4800,fill:"#d0ed57"},{name:"unknow",uv:6.67,pv:4800,fill:"#ffc658"}];var st=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={barChartData:[],treemapChartData:[],pieChartData01:[],pieChartData02:[],radialChartData:[]},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(et.d,{width:600,height:300,data:tt,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(et.q,{dataKey:"name"}),r.a.createElement(et.r,null),r.a.createElement(et.e,{strokeDasharray:"3 3"}),r.a.createElement(et.o,null),r.a.createElement(et.f,null),r.a.createElement(et.c,{dataKey:"pv",fill:"#8884d8"}),r.a.createElement(et.c,{dataKey:"uv",fill:"#82ca9d"})),r.a.createElement(et.h,{width:600,height:300,data:tt},r.a.createElement(et.q,{dataKey:"name",padding:{left:30,right:30}}),r.a.createElement(et.r,null),r.a.createElement(et.e,{strokeDasharray:"3 3"}),r.a.createElement(et.o,null),r.a.createElement(et.f,null),r.a.createElement(et.g,{type:"monotone",dataKey:"pv",stroke:"#8884d8",activeDot:{r:8}}),r.a.createElement(et.g,{type:"monotone",dataKey:"uv",stroke:"#82ca9d"})),r.a.createElement(et.b,{width:730,height:250,data:tt,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})),r.a.createElement("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0}))),r.a.createElement(et.q,{dataKey:"name"}),r.a.createElement(et.r,null),r.a.createElement(et.e,{strokeDasharray:"3 3"}),r.a.createElement(et.o,null),r.a.createElement(et.a,{type:"monotone",dataKey:"uv",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"}),r.a.createElement(et.a,{type:"monotone",dataKey:"pv",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorPv)"})),r.a.createElement(et.p,{width:730,height:250,data:nt,dataKey:"size",aspectRatio:4/3,stroke:"#fff",fill:"#8884d8"}),r.a.createElement(et.j,{width:800,height:400},r.a.createElement(et.i,{dataKey:"value",data:at,cx:200,cy:200,outerRadius:60,fill:"#8884d8"}),r.a.createElement(et.i,{dataKey:"value",data:rt,cx:200,cy:200,innerRadius:70,outerRadius:90,fill:"#82ca9d",label:!0})),r.a.createElement(et.n,{width:730,height:250,margin:{top:20,right:20,bottom:10,left:10}},r.a.createElement(et.e,{strokeDasharray:"3 3"}),r.a.createElement(et.q,{dataKey:"value",name:"stature",unit:"cm"}),r.a.createElement(et.r,{dataKey:"value",name:"weight",unit:"cm"}),r.a.createElement(et.o,{cursor:{strokeDasharray:"3 3"}}),r.a.createElement(et.f,null),r.a.createElement(et.m,{name:"Data01",data:at,fill:"#8884d8"}),r.a.createElement(et.m,{name:"Data02",data:rt,fill:"#82ca9d"})),r.a.createElement(et.l,{width:730,height:250,innerRadius:"10%",outerRadius:"80%",data:ct,startAngle:180,endAngle:0},r.a.createElement(et.k,{angleAxisId:15,label:{fill:"#666",position:"insideStart"},background:!0,dataKey:"uv"}),r.a.createElement(et.f,{iconSize:10,width:120,height:140,layout:"vertical",verticalAlign:"middle",align:"right"}),r.a.createElement(et.o,null)))}}]),n}(a.Component),it=n(131);n(717);var ot=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).source=null,e.node=null,e.state={isLoading:!1,isOpen:!1,searchText:"",results:[]},e.handleClickOutside=function(t){var n=s.a.findDOMNode(Object(it.a)(e));n&&n.contains(t.target)||(console.log(e.state.searchText),e.setState({searchText:"",isOpen:!1}))},e.fetchResults=function(t){var n=e.props,a=n.products,r=n.selectProduct;e.source&&e.source.cancel("Cancel pending requests."),e.source=w.a.CancelToken.source(),e.setState({searchText:t,isOpen:!0,isLoading:!0}),t?r?e.setState({results:le(t,a),isOpen:!0,isLoading:!1}):ue(t,a,e.source.token).then((function(t){t.length?e.setState({results:t,isOpen:!0,isLoading:!1}):e.setState({isOpen:!1,isLoading:!1})})):e.setState({isOpen:!1,isLoading:!1})},e.getLinkTo=function(e){return Object(je.a)({pathname:"/".concat(e.type.toLowerCase(),"/").concat(e.id)},e.type.toLowerCase(),e.name)},e.renderResultName=function(e){var t=e.type?e.type[0]:"P";return r.a.createElement("div",{className:"search__result-info"},r.a.createElement("div",{className:"search__result-name"},e.name),r.a.createElement("div",{className:"search__result-type search__result-".concat(t)},"| ",t))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!0)}},{key:"renderResults",value:function(){var e=this,t=this.state.results,n=this.props.selectProduct;if(t.length)return r.a.createElement("div",{className:"search__results"},t.map((function(t,a){return r.a.createElement("div",{className:"search__result",key:a},!n&&r.a.createElement(p.b,{key:a,className:"search__result-link",to:e.getLinkTo(t)},e.renderResultName(t)),n&&r.a.createElement("button",{key:a,onClick:function(e){return e&&n(t)}},e.renderResultName(t)))})))}},{key:"render",value:function(){var e=this,t=this.state.isLoading,n=this.state.isOpen?"dropdown--is-open":"";return r.a.createElement("div",{className:"search-bar",ref:function(t){return e.node=t}},r.a.createElement("div",{className:"search-bar__form"},r.a.createElement(P,{name:"search",type:"input",placeholder:"Find stuff...",onChange:function(t){return e.fetchResults(t)},value:this.state.searchText}),r.a.createElement("div",{className:"search-bar__button"},r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement("div",{className:"search-bar__content-container"},r.a.createElement("div",{className:"search-bar__content ".concat(n)},t&&r.a.createElement(j,{size:"md"}),!t&&this.renderResults())))}}]),n}(a.Component),ut=T("EXCHANGE::REQUESTED"),lt=T("EXCHANGES::FETCHED"),ft=T("EXCHANGE::DELETED");n(718);var dt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={userProducts:[],selectedProduct:{},message:"",friend:{first_name:""},type:Re.EMPTY},e.requestExchange=function(){var t=e.props,n=t.exchangeRequest,a=t.history,r=t.location,c=t.user,s=e.state.selectedProduct,i=r.friend;console.log("This is to execute request exchange"),n(i,r.product.id,c.id,Object(O.get)(s,"id")).then((function(){return e.setState({message:"Exchange request successfully",type:Re.SUCCESSFUL})})).catch((function(){return e.setState({message:"Exchange request failed",type:Re.SUCCESSFUL})})).finally((function(){return a.push("/")}))},e.selectProduct=function(t){e.setState({selectedProduct:t})},e.renderProduct=function(t){var n=e.props,a=n.categories,c=n.subcategories,s=a.filter((function(e){return e.id===t.category}))[0],i=c.filter((function(e){return e.id===t.subcategory}))[0];return r.a.createElement("div",{className:"exchange__product"},r.a.createElement(Ke,{fileName:t.id,category:t.category,subcategory:t.subcategory,format:"jpg",height:"100",width:"100",isProduct:"true"}),r.a.createElement("div",{className:"exchange__product-info"},r.a.createElement("div",null,t.name),r.a.createElement("div",null,s.name),r.a.createElement("div",null,i.name)))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.history,a=t.location,r=t.products,c=a.product;c&&void 0!==c||n.push("/");var s,i=(s=r,Object.values(s).filter((function(e){return e.length>0})).flat()).filter((function(e){return e.category===c.category||e.subcategory===c.subcategory}));this.setState({userProducts:i}),M([{id:a.friend}]).then((function(t){return e.setState({friend:t.data[0]})}))}},{key:"render",value:function(){var e=this,t=this.props.location,n=this.state,a=n.friend,c=n.selectedProduct,s=n.userProducts,i=n.message,o=n.type,u=t.product;return s.length?u?r.a.createElement("div",{className:"exchange"},r.a.createElement(Se,{message:i,type:o}),r.a.createElement("div",{className:"exchange__header"},r.a.createElement(ot,{products:s,selectProduct:function(t){return e.selectProduct(t)}})),!Object(O.isEmpty)(c)&&r.a.createElement("div",{className:"exchange__content"},r.a.createElement("div",{className:"exchange__compare"},r.a.createElement("div",{className:"exchange__compare-info"},r.a.createElement("h4",null,"My Product"),this.renderProduct(c)),r.a.createElement("div",{className:"exchange__line"}),r.a.createElement("div",{className:"exchange__compare-info"},r.a.createElement("h4",null,null===a||void 0===a?void 0:a.first_name," Product"),this.renderProduct(u))),r.a.createElement(D,{type:"submit",onClick:this.requestExchange,text:"Request Exchange"}))):r.a.createElement(_.a,{to:"/"}):r.a.createElement("div",null,"No products to exchange under same category")}}]),n}(a.Component),mt={exchangeRequest:function(e,t,n,a){return function(r){return(c=e,s=t,i=n,o=a,w.a.post(F.exchange.request(),{id_stuffier:c,id_friend:i,id_stuff:s,id_friend_stuff:o},{headers:x.headers})).then((function(t){r(ut(t.data,e)),Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}));var c,s,i,o}}},pt=Object(g.b)((function(e){return{categories:e.categories,products:e.products,subcategories:e.subcategories,user:e.user}}),mt)(Object(_.g)(dt));n(719);var ht=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).textField=r.a.createRef(),e.state={requests:[],emailToRequest:"",message:null,textfield:null,executeStatus:Re.EMPTY},e.executeRequest=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.props.user,r=[G(a.email,t.id)];n&&r.push(K(a.email,t.id)),Promise.all(r).then((function(t){!n&&e.setState({executeStatus:Re.WARNING}),console.log(t[0].data),n&&e.setState({executeStatus:Re.SUCCESSFUL}),n&&console.log(t[1].data)})).catch((function(){return e.setState({executeStatus:Re.ERROR})}))},e.renderRequests=function(){var t=e.state.requests;return r.a.createElement("div",{className:"friends__requests"},r.a.createElement("hr",null),r.a.createElement("h3",{className:"friends__title"},r.a.createElement("div",null,"Requests"),r.a.createElement("div",{className:"friends__warning"},t.length)),r.a.createElement("ul",null,t.map((function(t,n){return r.a.createElement("li",{className:"friends__request",key:n},r.a.createElement("div",{className:"friends__request-text"},t.first_name," ",t.last_name," (",t.email,")"),r.a.createElement("div",{className:"friends__request-button"},r.a.createElement(D,{onClick:function(){return e.executeRequest(t,!0)},text:"Accept"})),r.a.createElement("div",{className:"friends__request-button"},r.a.createElement(D,{onClick:function(){return e.executeRequest(t)},text:"Reject"})))}))))},e.handleRequest=function(){var t=e.props.user,n=e.state.emailToRequest;B(n,t.id).then((function(){return e.setState({message:"Request sent succesfully",emailToRequest:""})})).catch((function(){return e.setState({message:"Request couldnt be sent",emailToRequest:""})}))},e.getMessage=function(){var t=e.state,n=t.emailToRequest,a=t.executeStatus,r=a===Re.ERROR?"was not added":a===Re.WARNING?"was rejected!":a===Re.SUCCESSFUL?"was accepted!":null;return r?"Friend ".concat(n," ").concat(r):""},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props.friendsRequests;n.length>0&&M((e=n,Object(O.map)(e,(function(e){return{id:e.id_friend}})))).then((function(e){return t.setState({requests:e.data})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.friends,a=t.t,c=t.user,s=this.state,i=s.requests,o=s.message,u=s.emailToRequest,l=s.executeStatus;return r.a.createElement("div",{className:"friends"},r.a.createElement("h2",{className:"friends__title"},a("Friends-Title",{first_name:c.first_name})),r.a.createElement(Se,{message:this.getMessage(),type:l}),r.a.createElement("ul",null,n.map((function(e){return r.a.createElement("li",{key:e.id},e.first_name," ",e.last_name," - ",e.email)}))),i.length>0&&this.renderRequests(),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("h3",{className:"friends__title"},a("Add-Friend")),r.a.createElement("div",{className:"friends__form"},r.a.createElement(P,{placeholder:"Friend Email",type:"text",name:"friend_email",value:u,onChange:function(t){return e.setState({emailToRequest:t})}}),r.a.createElement("div",{className:"friends__button"},r.a.createElement(D,{text:"Request",onClick:function(){return e.handleRequest()}}))),o&&r.a.createElement("div",{className:"friends__message"},o)))}}]),n}(a.Component),gt=Object(g.b)((function(e){return{user:e.user,friends:e.friends,friendsRequests:e.friendsRequests}}),{})(Object(h.c)()(ht)),vt=T("LOAN::REQUESTED"),Et=T("LOANS::FETCHED"),yt=T("LOAN::DELETED");n(720);var bt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={friend:{first_name:""},message:"",type:Re.EMPTY},e.requestLoan=function(){var t=e.props,n=t.loanRequest,a=t.location,r=t.user;n(a.friend,a.product.id,r.id).then((function(){return e.setState({message:"Exchange request successfully",type:Re.SUCCESSFUL})})).catch((function(){return e.setState({message:"Exchange request failed",type:Re.SUCCESSFUL})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.history,a=t.location,r=a.product;r&&void 0!==r||n.push("/"),M([{id:a.friend}]).then((function(t){return e.setState({friend:t.data[0]})}))}},{key:"renderProduct",value:function(e){var t=this.props,n=t.categories,a=t.subcategories,c=n.filter((function(t){return t.id===e.category}))[0],s=a.filter((function(t){return t.id===e.subcategory}))[0];return r.a.createElement("div",{className:"exchange__product"},r.a.createElement(Ke,{fileName:e.id,category:e.category,subcategory:e.subcategory,format:"jpg",height:"100",width:"100",isProduct:"true"}),r.a.createElement("div",{className:"exchange__product-info"},r.a.createElement("div",null,e.name),r.a.createElement("div",null,c.name),r.a.createElement("div",null,s.name)))}},{key:"render",value:function(){var e=this.props.location,t=this.state,n=t.friend,a=t.message,c=t.type,s=e.product;return s?r.a.createElement("div",{className:"loan"},r.a.createElement(Se,{message:a,type:c}),r.a.createElement("div",{className:"loan__product"},r.a.createElement("h4",null,null===n||void 0===n?void 0:n.first_name," Product"),this.renderProduct(s)),r.a.createElement(D,{type:"submit",onClick:this.requestLoan,text:"Request Loan"})):r.a.createElement(_.a,{to:"/"})}}]),n}(a.Component),_t={loanRequest:function(e,t,n){return function(a){return(r=e,c=t,s=n,w.a.post(F.loan.request(),{id_stuffier:r,id_friend:s,id_stuff:c},{headers:x.headers})).then((function(t){a(vt(t.data,e)),Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}));var r,c,s}}},Ot=Object(g.b)((function(e){return{categories:e.categories,products:e.products,subcategories:e.subcategories,user:e.user}}),_t)(Object(_.g)(bt)),Rt=n(100),St=n.n(Rt);function jt(e,t){var n=function(e){var t=[];return Object.keys(e).forEach((function(n){if(e[n].length>0){t.length||(t=[(r={id:e[n][0].id,name:e[n][0].name,category:e[n][0].category,subcategory:e[n][0].subcategory},Object.keys(r).map((function(e){return(t=e).charAt(0).toUpperCase()+t.slice(1);var t})))]);var a=e[n].map((function(e){return[e.id,e.name,e.category,e.subcategory]}));t=[].concat(Object(Z.a)(t),Object(Z.a)(a))}var r})),t}(e),a=St.a.utils.book_new(),r=St.a.utils.aoa_to_sheet(n);St.a.utils.book_append_sheet(a,r,"Products_Sheet"),St.a.writeFile(a,"".concat(t).concat(".xlsx"))}n(724);var Nt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={requestedProducts:[],message:"",type:Re.EMPTY},e.generateReport=function(){var t=e.props,n=t.products,a=t.user;jt(n,"".concat(a.first_name,"_products"))},e.executeDeleteExchange=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.props,r=a.deleteRequest,c=a.deleteRequestLoan;n?c(t).then((function(){return e.setState({message:"Loan request deleted",type:Re.SUCCESSFUL})})).catch((function(){return e.setState({message:"Loan request couldn't be deleted",type:Re.ERROR})})):r(t).then((function(){return e.setState({message:"Exchange request deleted",type:Re.SUCCESSFUL})})).catch((function(){return e.setState({message:"Exchange request couldn't be deleted",type:Re.ERROR})}))},e.renderRequests=function(){var t=e.props,n=t.exchangeRequests,a=t.friends,c=t.user,s=e.state.requestedProducts;return r.a.createElement("div",{className:"products__requests"},r.a.createElement("hr",null),r.a.createElement("h3",{className:"products__requests-title"},r.a.createElement("div",null,"Exchange Requests"),r.a.createElement("div",{className:"products__warning"},n.length)),r.a.createElement("ul",null,n.map((function(t,n){var i=t.id_stuffier===c.id?c:a.filter((function(e){return e.id===t.id_stuffier}))[0],o=t.id_friend===c.id?c:a.filter((function(e){return e.id===t.id_friend}))[0],u=c===o,l=c===i,f=u?"Cancel":"Reject",d=s.find((function(e){return e.id===t.id_stuff})),m=s.find((function(e){return e.id===t.id_friend_stuff}));return r.a.createElement("li",{className:"products__request",key:n},r.a.createElement("div",{className:"products__request-group"},r.a.createElement("div",{className:"products__request-text"},"Owner: ",l?"Me":"".concat(i.first_name," ").concat(i.last_name," (").concat(i.email,")")),r.a.createElement("div",{className:"products__request-text"},"Product: ",Object(O.get)(d,"name")),r.a.createElement("div",{className:"products__request-text"},"Requestor: ",u?"Me":"".concat(o.first_name," ").concat(o.last_name," (").concat(o.email,")")),r.a.createElement("div",{className:"products__request-text"},"Product: ",Object(O.get)(m,"name"))),r.a.createElement("div",{className:"products__request-buttons"},!u&&r.a.createElement("div",{className:"products__request-button"},r.a.createElement(D,{onClick:function(){return console.log("Accept Exchange")},text:"Accept"})),r.a.createElement("div",{className:"products__request-button"},r.a.createElement(D,{onClick:function(){return e.executeDeleteExchange(t._id)},text:f}))))}))))},e.renderLoans=function(){var t=e.props,n=t.loanRequests,a=t.friends,c=t.user,s=e.state.requestedProducts;return r.a.createElement("div",{className:"products__requests"},r.a.createElement("hr",null),r.a.createElement("h3",{className:"products__requests-title"},r.a.createElement("div",null,"Loan Requests"),r.a.createElement("div",{className:"products__warning"},n.length)),r.a.createElement("ul",null,n.map((function(t,n){var i=t.id_stuffier===c.id?c:a.filter((function(e){return e.id===t.id_stuffier}))[0],o=t.id_friend===c.id?c:a.filter((function(e){return e.id===t.id_friend}))[0],u=c===o,l=c===i,f=u?"Cancel":"Reject",d=s.find((function(e){return e.id===t.id_stuff}));return r.a.createElement("li",{className:"products__request",key:n},r.a.createElement("div",{className:"products__request-group"},r.a.createElement("div",{className:"products__request-text"},"Owner: ",l?"Me":"".concat(i.first_name," ").concat(i.last_name," (").concat(i.email,")")),r.a.createElement("div",{className:"products__request-text"},"Requestor: ",u?"Me":"".concat(o.first_name," ").concat(o.last_name," (").concat(o.email,")")),r.a.createElement("div",{className:"products__request-text"},"Product: ",Object(O.get)(d,"name"))),r.a.createElement("div",{className:"products__request-buttons"},!u&&r.a.createElement("div",{className:"products__request-button"},r.a.createElement(D,{onClick:function(){return console.log("Accept Exchange")},text:"Accept"})),r.a.createElement("div",{className:"products__request-button"},r.a.createElement(D,{onClick:function(){return e.executeDeleteExchange(t._id,!0)},text:f}))))}))))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.exchangeRequests,a=t.loanRequests.map((function(e){return e.id_stuff})),r=n.map((function(e){return e.id_stuff})),c=n.map((function(e){return e.id_friend_stuff}));(function(e){return w.a.get(F.stuff.listDetail(e),{headers:x.headers})})(function(e){return Object(O.map)(e,(function(e){return{id:e}}))}(Object(O.uniq)([].concat(Object(Z.a)(a),Object(Z.a)(r),Object(Z.a)(c))))).then((function(t){return e.setState({requestedProducts:t.data})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.categories,a=t.exchangeRequests,c=t.loanRequests,s=t.history,i=t.products,o=t.user,u=this.state,l=u.message,f=u.type;return r.a.createElement("div",{className:"products"},r.a.createElement(Se,{message:l,type:f}),r.a.createElement("div",{className:"products__title"},r.a.createElement("h2",null,o.first_name," Stuff"),r.a.createElement("div",{className:"products__add-product"},r.a.createElement(D,{text:"Add Product",onClick:function(){return s.push("/product/add")}}))),a.length>0&&this.renderRequests(),c.length>0&&this.renderLoans(),r.a.createElement("hr",null),De(i)&&r.a.createElement("div",null,"No Stuff! Add Products!"),!De(i)&&r.a.createElement("div",null,n.map((function(e,t){return i[e.id]&&i[e.id].length?r.a.createElement("div",{key:e.id},r.a.createElement("h4",null,e.name),r.a.createElement("ul",null,Object(O.map)(i[e.id],(function(t){return r.a.createElement("li",{key:"".concat(e.id,"_").concat(t.id)},r.a.createElement(p.b,{to:"/product/".concat(t.id)},t.name))})))):r.a.createElement("div",{key:"".concat(e.id,"_").concat(t)})})),r.a.createElement("hr",null),r.a.createElement(D,{onClick:function(){return e.generateReport()},text:"Generate Report"})))}}]),n}(a.Component),Ct={deleteRequest:function(e){return function(t){return function(e){return w.a.delete(F.exchange.deleteRequest(e),{headers:x.headers})}(e).then((function(e){var n=e.data.result[0];t(ft(n)),Promise.resolve(n)})).catch((function(e){return Promise.reject(e)}))}},deleteRequestLoan:function(e){return function(t){return function(e){return w.a.delete(F.loan.deleteRequest(e),{headers:x.headers})}(e).then((function(e){var n=e.data.result[0];t(yt(n)),Promise.resolve(n)})).catch((function(e){return Promise.reject(e)}))}}},Dt=Object(g.b)((function(e){return{user:e.user,categories:e.categories,friends:e.friends,exchangeRequests:e.exchangeRequests,loanRequests:e.loanRequests,products:e.products}}),Ct)(Nt);var Pt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={id:null,product:{name:null,id:null,category:null,subcategory:null}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,n=e.products,a=parseInt(t.params.id);this.setState({id:a,product:Ce(a,n)})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.match,r=n.products,c=a.params.id;c!==t.id&&this.setState({id:a.params.id,product:Ce(parseInt(c),r)})}},{key:"render",value:function(){var e=this.props,t=e.categories,n=e.subcategories,a=this.state.product;if(!a)return r.a.createElement(j,{size:"lg",message:"Loading product..."});var c=Object(O.find)(t,(function(e){return e.id===a.category})),s=Object(O.find)(n,(function(e){return e.id===a.subcategory}));return r.a.createElement("div",{className:"product"},r.a.createElement("h3",null,a.name),r.a.createElement("hr",null),r.a.createElement(Ke,{fileName:a.id,category:a.category,subcategory:a.subcategory,isProduct:"true",height:"200",width:"100"}),r.a.createElement("hr",null),r.a.createElement("div",null,"Category: ",c&&c.name," "),r.a.createElement("div",null,"Subcategory: ",s&&s.name," "))}}]),n}(a.Component),xt=Object(g.b)((function(e){return{categories:e.categories,products:e.products,subcategories:e.subcategories}}),{})(Pt);var qt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("iframe",{src:"https://webchat.botframework.com/embed/StuffieBot?s=fkpQavtTB78.cwA.pjM.9djZJuhRob4Mt-Lb5-1Wk7yrsHtLAxOKIL6w3gE4910",title:"WebChat"})}}]),n}(a.Component),kt=n(334),wt=n.n(kt);var Tt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={file:"",progressValue:0},e}return Object(l.a)(n,[{key:"handleChange",value:function(e){if(e&&e.target&&e.target.files){var t=e.target.files[0];this.setState({file:t})}}},{key:"handleSubmit",value:function(e){e.stopPropagation(),e.preventDefault(),wt.a.recognize(this.state.file,"eng").progress(this.progressUpdate).then(this.result)}},{key:"result",value:function(e){var t=document.getElementById("info"),n=document.getElementById("result");t.innerHTML="Finished!",n.innerHTML=e?e.text:""}},{key:"progressUpdate",value:function(e){if("progress"in e){var t=document.querySelector("progress");t.value=e.progress,t.max=1,document.getElementById("info").innerHTML="Analyzing file..."}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"tickets"},r.a.createElement("h3",null,"Tickets"),r.a.createElement("div",{className:"ticketsForm"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("input",{type:"file",id:"fileId",name:"fileName",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("hr",null),r.a.createElement("input",{type:"submit",value:"Analyze",disabled:!this.state.file}))),r.a.createElement("hr",null),r.a.createElement("div",{id:"status",className:"ticketsStatus"},r.a.createElement("progress",{value:this.state.progressValue,max:"100"}),r.a.createElement("span",{id:"statusInfo",className:"statusInfo"},"Status: ",r.a.createElement("span",{id:"info"}))),r.a.createElement("hr",null),r.a.createElement("div",{id:"result"}))}}]),n}(a.Component);var Lt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).authenticate=function(){console.log("secreto: ".concat(I.encrypt("secreto"))),console.log("mario: ".concat(I.encrypt("mario"))),console.log("doc: ".concat(I.encrypt("secrdoceto"))),console.log("merol: ".concat(I.encrypt("merol")))},e.getStuff=function(){console.log([{id:1,name:"Carlos Reyes 1"},{id:2,name:"Carlos Reyes 2"},{id:1,name:"Carlos Reyes 1"},{id:3,name:"Carlos Reyes 3"}]);var e=[1,1,2,3,4,5];return e.filter((function(t,n){return e.indexOf(t)===n}))},e}return Object(l.a)(n,[{key:"reverseStuff",value:function(e){return e.split("").reverse().join("")}},{key:"render",value:function(){this.authenticate();var e=this.getStuff(),t=this.reverseStuff("unodostres");return r.a.createElement("div",null,r.a.createElement("span",null,"This is my test = ",t),r.a.createElement("span",null,"This is my other test = ",e))}}]),n}(a.Component);var Ut=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(_.d,null,r.a.createElement(_.b,{exact:!0,path:"/",component:Ze}),r.a.createElement(_.b,{exact:!0,path:"/StuffieReact",component:Ze}),r.a.createElement(_.b,{path:"/admin",component:Ie}),r.a.createElement(_.b,{path:"/friends",component:gt}),r.a.createElement(_.b,{path:"/products",component:Dt}),r.a.createElement(_.b,{path:"/product/add",component:Le}),r.a.createElement(_.b,{path:"/product/:id",render:function(e){return r.a.createElement(xt,e)}}),r.a.createElement(_.b,{path:"/category/add",render:function(){return r.a.createElement(_e,{type:"category"})}}),r.a.createElement(_.b,{path:"/category/:id",render:function(t){return r.a.createElement(He,Object.assign({},t,e.props))}}),r.a.createElement(_.b,{path:"/subcategory/add",render:function(){return r.a.createElement(_e,{type:"subcategory"})}}),r.a.createElement(_.b,{path:"/subcategory/:id",render:function(t){return r.a.createElement(He,Object.assign({},t,e.props))}}),r.a.createElement(_.b,{path:"/exchange",render:function(t){return r.a.createElement(pt,Object.assign({},t,e.props))}}),r.a.createElement(_.b,{path:"/loan",render:function(t){return r.a.createElement(Ot,Object.assign({},t,e.props))}}),r.a.createElement(_.b,{path:"/charts",component:st}),r.a.createElement(_.b,{path:"/support",component:qt}),r.a.createElement(_.b,{path:"/tickets",component:Tt}),r.a.createElement(_.b,{path:"/test",component:Lt}))}}]),n}(a.Component);n(727);var Ft=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("hr",null),"Stuffie\u2122 is a platform coded and registered by \xa0",r.a.createElement("a",{href:"http://stuffie.azurewebsites.net/PM_Carlos-Reyes2.html",target:"_blank",rel:"noopener noreferrer"},"Carlos Reyes-Rico"),".")}}]),n}(a.Component);n(728);var At=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(t){var n=e.props,a=n.logout,r=n.history;t.preventDefault(),a(),r.push("/")},e.toggleMenu=function(){var e=document.getElementById("apps");"block"===e.style.display?e.style.display="none":e.style.cssText="\n        display: block;\n        float: right;\n        top: 28px; right: 0px;\n        position: absolute; background-color: white;\n        width: 146px;\n        padding: 8px;\n        box-shadow: 5px 5px #888888;\n        border-radius: 6px;      \n      "},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.friendsRequests,a=t.exchangeRequests,c=t.loanRequests,s=t.pendingProducts,i=t.products,o=t.t,u=t.user,l=t.userRequests,f=a.length>0?"stuffie-header__section-exchange":"",d=a.length+c.length;if(o)return r.a.createElement("div",{className:"stuffie-header"},r.a.createElement("div",{className:"stuffie-header__left"},r.a.createElement("div",{className:"stuffie-header__info"},r.a.createElement("div",{className:"stuffie-header__logo"},r.a.createElement(Ke,{fileName:"logo_2020",format:"jpg",height:"50",width:"50"})),r.a.createElement("div",{className:"stuffie-header__user"},"Stuffie")),r.a.createElement("div",{className:"stuffie-header__sections"},r.a.createElement("div",{className:"stuffie-header__section-item"},r.a.createElement(p.b,{to:"/StuffieReact"},o("Feed"))),r.a.createElement("div",{className:"stuffie-header__section-item"},r.a.createElement(p.b,{to:"/friends"},o("Friends")),n.length>0&&r.a.createElement("div",{className:"stuffie-header__warning"},n.length)),r.a.createElement("div",{className:"stuffie-header__section-item ".concat(f)},r.a.createElement(p.b,{to:"/products"},window.outerWidth>=1024&&!d?"Products":"Prods"),d>0&&r.a.createElement("div",{className:"stuffie-header__warning"},r.a.createElement("span",{className:"stuffie-header__warning-text"},d))),u.admin&&r.a.createElement("div",{className:"stuffie-header__section-item"},r.a.createElement(p.b,{to:"/admin"},o("Admin")),(l.length>0||s.length>0)&&r.a.createElement("div",{className:"stuffie-header__warning"},r.a.createElement("span",{className:"stuffie-header__warning-text"},l.length+s.length))),r.a.createElement("div",{className:"stuffie-header__section-item"},r.a.createElement("button",{className:"stuffie-header__button",onClick:this.handleLogout},o("Logout"))))),r.a.createElement("div",{className:"stuffie-header__search"},r.a.createElement(ot,{products:i}),r.a.createElement("div",{className:"stuffie-header__menu"},r.a.createElement("div",{id:"apps"},r.a.createElement(ae,null)),r.a.createElement("button",{className:"icon",onClick:function(t){return t&&e.toggleMenu()}},r.a.createElement("i",{className:"fa fa-bars"})))))}}]),n}(a.Component),zt={logout:function(){return localStorage.removeItem("picture"),localStorage.removeItem("username"),{type:"STUFFIE::REVOKE_USER"}}},It=Object(g.b)((function(e){return{user:e.user,userRequests:e.userRequests,friendsRequests:e.friendsRequests,products:e.products,exchangeRequests:e.exchangeRequests,loanRequests:e.loanRequests,pendingProducts:e.pendingProducts}}),zt)(Object(h.c)()(Object(_.g)(At)));n(729);var Mt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).renderCategories=function(){var t=e.props,n=t.categories,a=t.products;if(n&&a)return n.filter((function(e){return a[e.id]&&a[e.id].length})).map((function(e){var t={pathname:"/category/".concat(e.id),category:e.name};return r.a.createElement("div",{key:e.id,className:"menu__category"},r.a.createElement(p.b,{className:"",key:e.id,to:t},e.name))}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.products,n=e.t;return r.a.createElement("div",null,r.a.createElement("div",{className:"menu__title"},n("Summary")),De(t)&&r.a.createElement("div",null,"No products"),r.a.createElement("div",{className:"menu__list"},this.renderCategories()))}}]),n}(a.Component),Ht=Object(g.b)((function(e){return{user:e.user,categories:e.categories,products:e.products}}),{})(Object(h.c)()(Mt));n(730);var Bt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.t;return r.a.createElement("div",{className:"stuffie"},r.a.createElement("div",{className:"stuffie__header"},r.a.createElement(It,null)),r.a.createElement("div",{className:"stuffie__main"},r.a.createElement("div",{className:"stuffie__menu"},r.a.createElement(Ht,null)),r.a.createElement("div",{className:"stuffie__content"},r.a.createElement(Ut,null)),r.a.createElement("div",{className:"stuffie__right"},r.a.createElement("div",{className:"stuffie__user"},t.picture&&r.a.createElement("img",{src:t.picture,alt:"User Pic"}),r.a.createElement("div",{className:"stuffie__welcome"},n("Welcome")," ",t.first_name)),r.a.createElement("div",{className:"stuffie__apps"},r.a.createElement(ae,null)))),r.a.createElement("div",{className:"stuffie_footer"},r.a.createElement(Ft,null)),r.a.createElement(re,null))}}]),n}(a.Component),Gt=Object(g.b)((function(e){return{user:e.user}}),{})(Object(h.c)()(Bt)),Kt=T("MENU::FRIENDS_REQUESTS_FETCHED"),Wt=T("ADMIN::PENDING_PRODUCTS_FETCHED");n(731);var Jt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!0},e.fetchData=function(){var t=e.props,n=t.user,a=t.fetchCategories,r=t.fetchFriends,c=t.fetchSubCategories,s=t.fetchProducts,i=t.fetchFriendsRequests,o=t.fetchExchangeRequests,u=t.fetchLoanRequests,l=t.fetchPendingProducts,f=t.fetchUserRequests,d=[a(),c(),r(n.email),i(n.email),o(n.id),u(n.id)],m=[f(),l()];n.admin&&(d=[].concat(Object(Z.a)(d),m)),Promise.all(d).then((function(e){return s(n,e[0].data)})).catch((function(e){return console.log(e)})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this.props.t;return this.state.isLoading?r.a.createElement("div",{className:"fetch-data__loading"},r.a.createElement(j,{size:"xl",message:e("Loading-data")})):r.a.createElement(Gt,null)}}]),n}(a.Component),Vt={fetchCategories:de,fetchFriends:function(e){return function(t){return function(e){return w.a.get(F.user.friends(e),{headers:x.headers})}(e).then((function(e){return M((t=e.data,Object(O.map)(t,(function(e){return{id:e.id_friend}}))));var t})).then((function(n){var a=n.data||[];return t(Ye(a,e)),Promise.resolve(a)}))}},fetchFriendsRequests:function(){return function(e){return w.a.get(F.user.friendsRequest(t),{headers:x.headers}).then((function(t){return e(Kt(t.data)),Promise.resolve(t.data)}));var t}},fetchProducts:function(e,t){return function(n){return(a=e.id,w.a.get(F.stuff.listForStuffier(a),{headers:x.headers})).then((function(e){return ce(Ne(e.data))})).then((function(a){var r=a.data,c=function(e,t){var n={};return Object(O.forEach)(e,(function(e){n=Object(q.a)(Object(q.a)({},n),{},Object(je.a)({},e.id,[]))})),Object(O.isEmpty)(n)||Object(O.forEach)(t,(function(e){n[e.category].push(e)})),n}(t,r);return n(xe(c,e.email)),Promise.resolve(c)}));var a}},fetchSubCategories:he,fetchExchangeRequests:function(e){return function(t){return(n=e,w.a.get(F.exchange.list(n),{headers:x.headers})).then((function(n){t(lt(n.data,e)),Promise.resolve(n.data)})).catch((function(e){return Promise.reject(e)}));var n}},fetchLoanRequests:function(e){return function(t){return(n=e,w.a.get(F.loan.list(n),{headers:x.headers})).then((function(n){t(Et(n.data,e)),Promise.resolve(n.data)})).catch((function(e){return Promise.reject(e)}));var n}},fetchPendingProducts:function(){return function(e){return w.a.get(F.stuff.listPendingPics(),{headers:x.headers}).then((function(t){return e(Wt(t.data)),Promise.resolve(t.data)})).catch((function(e){return Promise.reject(e)}))}},fetchUserRequests:Ue},Yt=Object(g.b)((function(e){return{user:e.user}}),Vt)(Object(h.c)()(Jt));n(732);var Qt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",firstName:"",lastName:"",isLoading:!1},e.handleSubmit=function(t){var n=e.props,a=n.registerUser,r=n.setMessage,c=e.state,s={email:c.email,password:c.password,first_name:c.firstName,last_name:c.lastName,admin:!1};t.preventDefault(),e.setState({isLoading:!0}),a(s).then((function(e){localStorage.setItem("username",e.email),r("Register Successful. Request to be accepted by Admin. Do not login yet!")})).catch((function(e){return r("Error: Couldn't register. Try again.")})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(l.a)(n,[{key:"enableButton",value:function(){var e=this.state,t=e.email,n=e.password,a=e.firstName,r=e.lastName;return t.length>0&&n.length>0&&a.length>0&&r.length>0}},{key:"render",value:function(){var e=this,t=this.state.isLoading;return r.a.createElement("div",{className:"register"},r.a.createElement("h1",null,"Register"),r.a.createElement("form",{className:"register__form",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"register__content"},r.a.createElement("div",{className:"register__row"},r.a.createElement("div",{className:"register__text"},"Email"),r.a.createElement(P,{type:"text",name:"email",placeholder:"Email",disabled:t,onChange:function(t){return e.setState({email:t})}})),r.a.createElement("div",{className:"register__row"},r.a.createElement("div",{className:"register__text"},"Password"),r.a.createElement(P,{type:"password",name:"password",placeholder:"Password",disabled:t,onChange:function(t){return e.setState({password:t})}})),r.a.createElement("div",{className:"register__row"},r.a.createElement("div",{className:"register__text"},"First Name"),r.a.createElement(P,{type:"text",name:"firstName",placeholder:"First Name",disabled:t,onChange:function(t){return e.setState({firstName:t})}})),r.a.createElement("div",{className:"register__row"},r.a.createElement("div",{className:"register__text"},"Last Name"),r.a.createElement(P,{type:"text",name:"lastName",placeholder:"Last Name",disabled:t,onChange:function(t){return e.setState({lastName:t})}}))),r.a.createElement("div",{className:"register__button"},r.a.createElement(D,{type:"submit",text:"Register",disabled:!this.enableButton()||t}),t&&r.a.createElement("div",{className:"register__loading"},r.a.createElement(j,{size:"md"})))))}}]),n}(a.Component),$t={registerUser:function(e){return function(t){return H(e).then((function(){return t(V(e,e.email)),Promise.resolve(e)}))}}},Xt=Object(g.b)((function(e){return{user:e.user}}),$t)(Object(_.g)(Qt));n(733);var Zt=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!0,message:""},e.getMessageType=function(e){return e.toLowerCase().includes("Error")?Re.ERROR:e.toLowerCase().includes("successful")?Re.SUCCESSFUL:Re.WARNING},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.fetchUser;localStorage.getItem("username")?t(localStorage.getItem("username")).finally((function(){return e.setState({isLoading:!1})})):this.setState({isLoading:!1})}},{key:"componentDidUpdate",value:function(e,t){e.user!==this.props.user&&this.setState({message:""})}},{key:"render",value:function(){var e=this,t=this.props.user,n=this.state,a=n.isLoading,c=n.message,s=Object(O.get)(t,"request"),i=s?"User already registered, wait for authorization. Don't register again.":c;return a?r.a.createElement("div",{className:"auth__loading"},r.a.createElement(j,{size:"xl",message:"Loading"})):Object(O.isEmpty)(t)||s?r.a.createElement("div",{className:"auth"},r.a.createElement("div",{className:"auth__header"},r.a.createElement(Ke,{fileName:"logo_2020_2",format:"jpg",height:"50",width:"50"}),r.a.createElement("h1",{className:"auth__title"},r.a.createElement("span",{className:"auth__stuffie"},"Stuffie"),r.a.createElement("span",{className:"auth__slogan"},"Connecting Life"))),r.a.createElement("div",{className:"auth__horizontal-line"}),r.a.createElement(Se,{message:i,type:this.getMessageType(i)}),r.a.createElement("div",{className:"auth__content"},r.a.createElement(Xt,{setMessage:function(t){return e.setState({message:t})}}),r.a.createElement("div",{className:"auth__line"}),r.a.createElement(X,{setMessage:function(t){return e.setState({message:t})}}))):Object(O.isEmpty)(t)?void 0:r.a.createElement(Yt,null)}}]),n}(a.Component),en={fetchUser:J},tn=Object(g.b)((function(e){return{user:e.user}}),en)(Zt);var nn=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(_.d,null,r.a.createElement(_.b,{path:"/",component:tn}),r.a.createElement(_.b,{path:"/login",component:X}),r.a.createElement(_.b,{path:"/register",component:Xt}))}}]),n}(a.Component),an=Object(h.c)()(nn);n(734),n(735);var rn=function(e){Object(f.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=Object(m.a)(e);if(t()){var r=Object(m.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.store;return r.a.createElement("div",{className:"stuffie__app"},r.a.createElement(g.a,{store:e},r.a.createElement(h.a,{i18n:b},r.a.createElement(p.a,null,r.a.createElement(an,null)))))}}]),n}(a.Component),cn=Object(h.c)()(rn),sn=Object(i.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STUFFIE:LOGIN_USER_FETCHED":case"STUFFIE:USER_FETCHED":case"STUFFIE:USER_PICTURE_ADDED":return t.payload;default:return e}},userRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STUFFIE:USER_REQUESTS_FETCHED":return t.payload;case"STUFFIE::USER_REQUEST_DELETED":var n=e.filter((function(e){return e._id!==t.payload._id}));return n;default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU:CATEGORY_ADDED":var n=t.payload;return[].concat(Object(Z.a)(e),[n]);case"MENU::CATEGORIES_FETCHED":case"MENU::CATEGORY_FETCHED":return t.payload;default:return e}},friends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER::FRIENDS_FETCHED":case"FRIENDS::PRODUCTS_FETCHED":return t.payload;default:return e}},friendsRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU::FRIENDS_REQUESTS_FETCHED":return t.payload;default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCTS::PRODUCT_ADDED":var n=t.payload,a=e[n.category];return Object(q.a)(Object(q.a)({},e),{},Object(je.a)({},n.category,[].concat(Object(Z.a)(a),[n])));case"MENU::PRODUCTS_FETCHED":return t.payload;default:return e}},subcategories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENU:SUBCATEGORY_ADDED":var n=t.payload;return[].concat(Object(Z.a)(e),[n]);case"MENU::SUBCATEGORIES_FETCHED":case"MENU::SUBCATEGORY_FETCHED":return t.payload;default:return e}},exchangeRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXCHANGE::REQUESTED":return[].concat(Object(Z.a)(e),[t.payload]);case"EXCHANGES::FETCHED":return t.payload;case"EXCHANGE::DELETED":var n=e.filter((function(e){return e._id!==t.payload}));return n;default:return e}},pendingProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADMIN::PENDING_PRODUCTS_FETCHED":return t.payload;default:return e}},loanRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAN::REQUESTED":return[].concat(Object(Z.a)(e),[t.payload]);case"LOANS::FETCHED":return t.payload;case"LOAN::DELETED":var n=e.filter((function(e){return e._id!==t.payload}));return n;default:return e}}}),on=function(e,t){return"STUFFIE::REVOKE_USER"===t.type&&(e=void 0),sn(e,t)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(736),n(737);var un=[o.a],ln="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d;un.push(n(738));var fn=Object(i.e)(on,ln(i.a.apply(void 0,un)));s.a.render(r.a.createElement(cn,{store:fn}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[348,1,2]]]);
//# sourceMappingURL=main.3228ac11.chunk.js.map