{"version":3,"sources":["config/i18n.js","components/shared/Loading.tsx","components/shared/TextField.tsx","services/config.js","redux/action-helpers.js","services/routes.js","config/crypto.js","services/stuffier.js","redux/user/actions.js","redux/user/constants.js","redux/constants.js","components/main/Login.tsx","config/options.js","components/shared/Menu.tsx","components/sections/Apps.tsx","components/sections/Chat.js","services/stuff.js","redux/categories/actions.js","redux/categories/constants.js","redux/subcategories/actions.js","redux/subcategories/constants.js","components/content/AddCategory.tsx","components/shared/DropDown.tsx","redux/products/actions.js","redux/products/constants.js","components/content/AddProduct.tsx","components/shared/Button.tsx","redux/user-requests/actions.js","redux/user-requests/constants.js","components/admin/Admin.tsx","components/content/CategoryPage.tsx","components/shared/Media.js","components/content/FeedRow.tsx","components/content/Content.tsx","services/charts.js","components/apps/Charts.tsx","components/content/Friends.tsx","components/helpers/UserHelper.ts","components/helpers/DownloadHelper.ts","components/content/Products.tsx","components/content/Product.tsx","components/apps/Support.tsx","components/apps/Tickets.tsx","components/apps/Test.tsx","components/main/MainRoutes.tsx","components/sections/Footer.tsx","components/shared/SearchBar.tsx","components/sections/Header.tsx","components/sections/Menu.tsx","components/main/Main.tsx","redux/friends/actions.js","redux/friends/constants.js","redux/friends-requests/actions.js","redux/friends-requests/constants.js","components/main/FetchData.tsx","components/helpers/StuffHelper.ts","components/main/Register.tsx","components/main/Auth.tsx","components/main/Routes.tsx","App.tsx","redux/reducers.js","redux/user/reducer.js","redux/user-requests/reducer.js","redux/categories/reducer.js","redux/friends/reducer.js","redux/friends-requests/reducer.js","redux/products/reducer.js","redux/subcategories/reducer.js","serviceWorker.js","index.js"],"names":["i18n","use","initReactI18next","init","lng","resources","en","es","fallbackLng","debug","process","ns","defaultNS","keySeparator","interpolation","escapeValue","formatSeparator","react","wait","err","t","console","info","language","Loading","this","props","size","message","getSize","react_default","a","createElement","className","react_loading_default","type","color","height","width","Component","TextField","_this$props","name","placeholder","value","onChange","disabled","ref","event","target","config","cloudinary","cloudName","apiKey","apiSecret","cloudinary_headers","cache-control","x-apikey","fb","appId","headers","server","makeStandardActionCreator","ACTION_TYPE","payload","meta","makeApiActionCreator","apiCall","successActionCreator","_len","arguments","length","args","Array","_key","dispatch","apply","then","_ref","data","Object","objectSpread","Promise","resolve","makePaginatedApiActionCreator","requestActionCreator","undefined","dispatchResultsAndFetchNextIfPresent","_ref2","next","axios","get","routes","category","add","concat","list","detail","id","JSON","stringify","parseInt","exist","subcategory","stuff","addStuffiersStuff","addStuff","listDetail","ids","listForStuffier","id_stuffier","listStuffiers","ids_stuffier","detailFromCategories","user","email","friends","email_stuffier","loginUser","password","registerUser","lastId","requestToBeFriend","friendsRequest","friendRequestDetail","id_friend","deleteFriendRequest","friend","userRequests","deleteUserRequest","crypto","encrypt","clear","CryptoJS","SHA256","toString","enc","Hex","getStuffiers","registerStuffier","res","values","post","request","email_friend","id_user","deleteRequest","delete","_id","addFriend","userFetched","fetchUser","getStuffier","userRegistered","userPictureAdded","logout","localStorage","removeItem","Login","state","loginFB","onClick","_this","_this$state","preventDefault","response","setItem","alert","catch","setState","error","String","responseFacebook","_this$props2","addUserPicture","picture","url","_this2","components_shared_TextField","facebook_login_with_button_default","autoLoad","fields","scope","callback","mapDispatchProps","facebookUser","loginStuffier","connect","withRouter","options","label","Menu","isOpen","open","toggle","children","Apps","lang","changeLang","changeLanguage","renderCurrentLanguage","react_router_dom","to","components_shared_Menu","map","option","key","withTranslation","Chat","messageList","toConsumableArray","text","author","getStuffiersList","getCategories","token","cancelToken","getSubCategories","addStuffStuffier","id_stuff","getSearchResults","searchText","products","results","all","forEach","c","toLowerCase","includes","push","s","keys","p","categoriesFetched","fetchCategories","fetchCategory","addCategory","_ref3","subCategoriesFetched","fetchSubCategories","fetchSubCategory","addSubCategory","TYPE","CATEGORY","SUBCATEGORY","AddCategory","isLoading","categories","subcategories","tempObjects","createValue","Number","newCategory","finally","newSubCategory","renderValues","typeToRender","_this$state2","objects","object","_this$state3","prevProps","_this3","components_shared_Loading","otherLabel","otherType","DropDown","valueSelected","updateChange","find","objectSelected","index","productFetched","productsFetched","productAdded","fetchProduct","AddProduct","status","file_name","product","stuffStuffier","productsByCategories","createProduct","addProduct","fileName","log","clearState","renderProductAddedMessage","updateCategory","renderProducts","updateSubcategory","prevState","getStuffFromCategories","_this4","_this$state4","shared_DropDown","setProduct","reject","Button","fetchUserRequests","put","Admin","executeRequest","isAccepted","filter","renderRequests","first_name","last_name","components_shared_Button","CategoryPage","location","match","params","Media","renderImage","format","file","isProduct","f","lib","publicId","fetchFormat","crop","renderVideo","media","FeedRow","getProductType","getLinkTo","pathname","renderMessage","components_shared_Media","Content","friendsProducts","componentDidMount","isEmpty","getProductsFromUsers","row","components_content_FeedRow","barChartData","uv","pv","amt","treemapChartData","pieChartData01","pieChartData02","radialChartData","fill","Charts","es6","margin","top","right","left","bottom","dataKey","strokeDasharray","padding","stroke","activeDot","r","x1","y1","x2","y2","offset","stopColor","stopOpacity","fillOpacity","aspectRatio","cx","cy","outerRadius","innerRadius","unit","cursor","startAngle","endAngle","angleAxisId","position","background","iconSize","layout","verticalAlign","align","Friends","textField","React","createRef","requests","emailToRequest","textfield","promises","handleRequest","collection","friendsRequests","excelfileExtension","downloadExcel","word","charAt","toUpperCase","slice","arrayOfCategory","getDataToExport","worksheet_book","XLSX","utils","book_new","worksheet","aoa_to_sheet","book_append_sheet","writeFile","Products","generateReport","Product","categoryName","subcategoryName","Support","src","title","Tickets","progressValue","files","stopPropagation","Tesseract","recognize","progress","progressUpdate","result","document","getElementById","innerHTML","packet","querySelector","max","onSubmit","handleSubmit","handleChange","Test","authenticate","getStuff","item","indexOf","split","reverse","join","x","reverseStuff","MainRoutes","react_router","exact","path","component","render","content_Product","components_content_AddCategory","content_CategoryPage","assign","Footer","href","SearchBar","source","fetchResults","cancel","CancelToken","defineProperty","renderResults","Header","handleLogout","history","admin","_this$props3","components_shared_SearchBar","renderCategories","newTo","Main","components_sections_Header","components_sections_Menu","main_MainRoutes","components_sections_Apps","sections_Footer","sections_Chat","friendsFetched","fetchFriendsRequests","FetchData","fetchData","fetchFriends","fetchProducts","components_main_Main","getFriends","productsMap","getProductsMap","Register","firstName","lastName","enableButton","Auth","getItem","components_main_Register","components_main_Login","components_main_FetchData","Routes","App","store","react_redux_es","dist_es","main_Routes","appReducer","combineReducers","action","rootReducer","Boolean","window","hostname","middleware","thunk","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","require","createStore","reducersApp","applyMiddleware","ReactDOM","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f2a19d58.chunk.js","sourcesContent":["import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nimport en from '../locale/en';\r\nimport es from '../locale/es';\r\n\r\ni18n\r\n  .use(initReactI18next)\r\n  .init({\r\n    lng: 'en',\r\n    resources: {\r\n      en,\r\n      es,\r\n    },\r\n    fallbackLng: 'en',\r\n    debug: process.env.NODE_ENV !== 'production',\r\n    ns: ['translations'],\r\n    defaultNS: 'translations',\r\n    keySeparator: false,\r\n    interpolation: {\r\n      escapeValue: false,\r\n      formatSeparator: ',',\r\n    },\r\n    react: {\r\n      wait: true,\r\n    },\r\n  }, (err, t) => {\r\n    if (err) {\r\n      console.info('i18n.language', i18n.language);\r\n    }\r\n  });\r\n\r\nexport default i18n;\r\n","import React, { Component } from 'react';\r\nimport ReactLoading from 'react-loading';\r\nimport { LoadingProps } from './types';\r\n\r\nimport './Loading.scss';\r\n\r\nclass Loading extends Component<LoadingProps, any> {\r\n  getSize(): number {\r\n    switch(this.props.size) {\r\n      case 'sm':\r\n        return 8;\r\n      case 'md':\r\n        return 16;\r\n      case 'lg':\r\n        return 32;\r\n      case 'xl':\r\n        return 64;\r\n      default:\r\n        return 8;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { message } = this.props;\r\n    const size = this.getSize();\r\n\r\n    return (\r\n      <div className=\"stuffie-loading\">\r\n        <ReactLoading type=\"spin\" color=\"#00f\" height={size} width={size} />\r\n        {message && (<div className=\"stuffie-loading__message\">{message}</div>)} \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loading;\r\n ","import React, { Component } from 'react';\r\nimport { TextFieldProps } from './types';\r\nimport './TextField.scss';\r\n\r\nclass TextField extends Component<TextFieldProps> {\r\n  render() {\r\n    const { name, placeholder, type, value, onChange, disabled, ref } = this.props;\r\n\r\n    return (\r\n      <div className=\"textfield\">\r\n        { value !== null && !onChange &&\r\n          <input\r\n            type={type}\r\n            name={name}\r\n            placeholder={placeholder || ''}\r\n            value={value}\r\n            disabled={disabled}\r\n            ref={ref ? ref : null}\r\n          />\r\n        }\r\n        { onChange &&\r\n          <input\r\n            type={type}\r\n            name={name}\r\n            placeholder={placeholder || ''}\r\n            disabled={disabled}\r\n            onChange={event => onChange(event.target.value)}\r\n            ref={ref ? ref : null}\r\n          />\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TextField;\r\n","const config = {\r\n  cloudinary: {\r\n    cloudName: 'reyesrico',\r\n    apiKey: '981789986692969',\r\n    apiSecret: 'xxQPfLvWpN_iIlt1RfMZnB3jRw0'\r\n  },\r\n  cloudinary_headers: {\r\n    'cache-control': 'no-cache',\r\n    'x-apikey': '981789986692969'\r\n  },\r\n  fb: {\r\n    appId: \"1458399831108421\"\r\n  },\r\n  headers: {\r\n    'cache-control': 'no-cache',\r\n    'x-apikey': '5c932ad1cac6621685acc11e' //'20596935c72a29593312b65ac2075c86eb1ac',\r\n  },\r\n  server: 'https://stuffie-98b2.restdb.io/rest/'\r\n};\r\n\r\nexport default config;\r\n","import axios from 'axios';\n\n// Inspired by https://github.com/acdlite/flux-standard-action and\n// https://redux-actions.js.org/docs/api/createAction.html\n\n// Returns an action creator that stores the first argument (probably an object, so you can store multiple key-values\n// and destructure) as the action.payload. And the second argument as action.meta; meta can be useful to provide the\n// reducer with request parameters that aren't included in a payload returned by the server, for example.\nexport const makeStandardActionCreator = (ACTION_TYPE) => {\n  return (payload, meta) => ({\n    meta,\n    payload,\n    type: ACTION_TYPE,\n  });\n};\n\n// TODO: Make all to use this for args!!\n// CREATE FUNCTION TO RECEIVE ARRAY OF ARGS AND NOT ONLY ONE\n// To make action creators that make an API call and dispatch an action creator on success with the response.\n// Doesn't handle dispatching for errors.\nexport const makeApiActionCreator = (apiCall, successActionCreator) => {\n  return (...args) => dispatch => {\n    return apiCall(...args).then(({ data }) => {\n      dispatch(successActionCreator(data, {...args}));\n      return Promise.resolve(data);\n    });\n  };\n};\n\nexport const makePaginatedApiActionCreator = (apiCall, successActionCreator, requestActionCreator) => {\n  return args => (dispatch) => {\n    const dispatchResultsAndFetchNextIfPresent = ({ data }) => {\n      dispatch(successActionCreator(data, args));\n      if (data.next) {\n        return axios.get(data.next).then(dispatchResultsAndFetchNextIfPresent);\n      } else {\n        return Promise.resolve({ data });\n      }\n    };\n\n    if (requestActionCreator) {\n      dispatch(requestActionCreator(undefined, args));\n    }\n    return apiCall(args).then(dispatchResultsAndFetchNextIfPresent);\n  };\n};\n","import config from './config';\r\n\r\nconst routes = {\r\n  category: {\r\n    add: () => `${config.server}categories`,\r\n    list: () => `${config.server}categories`,\r\n    detail: id => `${config.server}categories?q=${JSON.stringify({ id: parseInt(id) })}`\r\n  },\r\n  cloudinary: {\r\n    exist: () => `https://${config.cloudinary.apiKey}:${config.cloudinary.apiSecret}@api.cloudinary.com/v1_1/${config.cloudinary.cloudName}/resources/image`\r\n  },\r\n  subcategory: {\r\n    add: () => `${config.server}subcategories`,\r\n    list: () => `${config.server}subcategories`,\r\n    detail: id => `${config.server}subcategories?q=${JSON.stringify({ id: parseInt(id) })}`\r\n  },\r\n  stuff: {\r\n    addStuffiersStuff: () => `${config.server}stuffiers-stuff`,\r\n    addStuff: () => `${config.server}stuff`,\r\n    detail: id => `${config.server}stuff?q=${JSON.stringify({ id: parseInt(id) })}`,\r\n    listDetail: ids => `${config.server}stuff?q={\"$or\":${JSON.stringify(ids)}}`,\r\n    listForStuffier: id_stuffier => `${config.server}stuffiers-stuff?q=${JSON.stringify({ id_stuffier })}`,\r\n    listStuffiers: ids_stuffier => `${config.server}stuffiers-stuff?q={\"$or\":${JSON.stringify(ids_stuffier)}}`,\r\n    detailFromCategories: (category, subcategory) => `${config.server}stuff?q={\"$and\":[{\"category\": ${category}}, {\"subcategory\": ${subcategory}}]}`\r\n  },\r\n  user: {\r\n    detail: email => `${config.server}stuffiers?q=${JSON.stringify({ email })}`,\r\n    listDetail: ids => `${config.server}stuffiers?q={\"$or\":${JSON.stringify(ids)}}`,\r\n    friends: email => `${config.server}friends?q=${JSON.stringify({ email_stuffier: email })}`,\r\n    list: () => `${config.server}stuffiers`,\r\n    loginUser: (email, password) => `${config.server}stuffiers?q=${JSON.stringify({ email, password })}`,\r\n    registerUser: () => `${config.server}stuffiers`,\r\n    lastId: () => `${config.server}stuffiers?q={}&h={\"$fields\": {\"id\":1}, \"$aggregate\":[\"COUNT:\"] }`,\r\n    requestToBeFriend: () => `${config.server}friend-requests`,\r\n    friendsRequest: email_stuffier => `${config.server}friend-requests?q=${JSON.stringify({ email_stuffier })}`,\r\n    friendRequestDetail: (email_stuffier, id_friend) => `${config.server}friend-requests?q=${JSON.stringify({ email_stuffier, id_friend })}`,\r\n    deleteFriendRequest: id => `${config.server}friend-requests/${id}`,\r\n    friend: () => `${config.server}friends`,\r\n    userRequests: () => `${config.server}stuffiers?q={\"request\": true}`,\r\n    deleteUserRequest: id => `${config.server}stuffiers/${id}`\r\n  }\r\n};\r\n\r\nexport default routes;\r\n","import CryptoJS from 'crypto-js';\r\n\r\nconst crypto = {\r\n  encrypt: clear => CryptoJS.SHA256(clear).toString(CryptoJS.enc.Hex)\r\n};\r\n\r\nexport default crypto;\r\n","import axios from 'axios';\r\nimport routes from './routes';\r\nimport config from './config';\r\nimport crypto from '../config/crypto';\r\n\r\nexport const getStuffier = email => (\r\n  axios.get(routes.user.detail(email), { headers: config.headers })\r\n);\r\n\r\nexport const getStuffiers = ids => (\r\n  axios.get(routes.user.listDetail(ids), { headers: config.headers })\r\n);\r\n\r\nexport const getFriends = email => (\r\n  axios.get(routes.user.friends(email), { headers: config.headers })\r\n);\r\n\r\nexport const loginStuffier = (email, password) => (\r\n  axios.get(routes.user.loginUser(email, crypto.encrypt(password)), { headers: config.headers })\r\n);\r\n\r\nexport const getLastStuffierId = () => (\r\n  axios.get(routes.user.lastId(), { headers: config.headers })\r\n);\r\n\r\nexport const registerStuffier = (user) => {\r\n  const password = crypto.encrypt(user.password);\r\n  return getLastStuffierId().then(res => {\r\n    const id = Object.values(res.data)[0] + 1;\r\n    return axios.post(routes.user.registerUser(), { ...user, password, id, request: true }, { headers: config.headers });\r\n  });\r\n};\r\n\r\nexport const getFriendsRequests = (email) => (\r\n  axios.get(routes.user.friendsRequest(email), { headers: config.headers })\r\n);\r\n\r\nexport const requestToBeFriend = (email_friend, id_user) => (\r\n  axios.post(routes.user.requestToBeFriend(), { email_stuffier: email_friend, id_friend: id_user }, { headers: config.headers })\r\n);\r\n\r\nexport const deleteRequest = (email_stuffier, id_friend) => {\r\n  return axios.get(routes.user.friendRequestDetail(email_stuffier, id_friend), { headers: config.headers })\r\n    .then(res => axios.delete(routes.user.deleteFriendRequest(res.data[0]._id), { headers: config.headers }));\r\n}\r\n\r\nexport const addFriend = (email_stuffier, id_friend) => (\r\n  axios.post(routes.user.friend(), { email_stuffier, id_friend }, { headers: config.headers })\r\n);\r\n\r\nexport const getUserRequests = () => (\r\n  axios.get(routes.user.userRequests(), { headers: config.headers })\r\n);\r\n\r\nexport const deleteUserRequest = user => (\r\n  axios.put(routes.user.deleteUserRequest(user._id), { ...user, request: false }, { headers: config.headers })\r\n);\r\n","import { makeStandardActionCreator } from '../action-helpers';\r\n\r\nimport { REVOKE_USER } from '../constants';\r\nimport { LOGIN_USER_FETCHED, USER_FETCHED, USER_REGISTERED, USER_PICTURE_ADDED } from './constants';\r\nimport { loginStuffier, getStuffier, registerStuffier } from '../../services/stuffier';\r\n\r\nexport const loginUserFetched = makeStandardActionCreator(LOGIN_USER_FETCHED);\r\nexport const loginUser = (email, password) => dispatch => {\r\n  return loginStuffier(email, password).then(data  => {\r\n    // dispatch(loginUserFetched(data, { email, password }));   // NOT NEEDED\r\n    return Promise.resolve(data);\r\n  });\r\n};\r\n\r\nconst userFetched = makeStandardActionCreator(USER_FETCHED);\r\nexport const fetchUser = (email) => dispatch => {   //makePaginatedApiActionCreator(getStuffier, userFetched);\r\n  return getStuffier(email).then(res => {\r\n    // TODO: Promise resolve only data about User!!!\r\n    dispatch(userFetched(res.data[0], email));\r\n    return Promise.resolve(res);\r\n  });\r\n}\r\n\r\nconst userRegistered = makeStandardActionCreator(USER_REGISTERED);\r\nexport const registerUser = (user) => dispatch => {\r\n  return registerStuffier(user).then(() => {\r\n    dispatch(userRegistered(user, user.email));\r\n    return Promise.resolve(user);\r\n  });\r\n}\r\n\r\nconst userPictureAdded = makeStandardActionCreator(USER_PICTURE_ADDED);\r\nexport const addUserPicture = (user, picture) => dispatch => {\r\n  const facebookUser = { ...user, picture };\r\n  dispatch(userPictureAdded(facebookUser, facebookUser.email));\r\n}\r\n\r\nexport const logout = () => {\r\n  localStorage.removeItem('picture');\r\n  localStorage.removeItem('username');\r\n\r\n  return {\r\n    type: REVOKE_USER,\r\n  };  \r\n}\r\n","export const LOGIN_USER_FETCHED = 'STUFFIE:LOGIN_USER_FETCHED';\r\nexport const USER_FETCHED = 'STUFFIE:USER_FETCHED';\r\nexport const USER_REGISTERED = 'STUFFIE:USER_REGISTERED';\r\nexport const USER_PICTURE_ADDED = 'STUFFIE:USER_PICTURE_ADDED';\r\n","export const REVOKE_USER = 'STUFFIE::REVOKE_USER';\r\n","import React, { Component } from 'react';\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport FacebookUser from '../types/FacebookUser';\r\nimport TextField from '../shared/TextField';\r\nimport config from '../../services/config';\r\nimport { LoginProps } from './types';\r\nimport { addUserPicture, loginUser, fetchUser } from '../../redux/user/actions';\r\n\r\nimport './Login.scss';\r\n\r\nclass Login extends Component<LoginProps, any> {\r\n  state = {\r\n    email: null,\r\n    password: null,\r\n    loginFB: false\r\n  }\r\n\r\n  onClick = (event: any) => {\r\n    const { fetchUser, loginUser } = this.props;\r\n    const { email, password } = this.state;\r\n\r\n    event.preventDefault();\r\n\r\n    if (email && password) {\r\n      loginUser(email, password)\r\n      .then((response: any) => fetchUser(response.data[0].email))\r\n      .then((res: any) => {\r\n        localStorage.setItem('username', res.data[0].email);\r\n        alert(\"Login Successful using RestDBIO\");``\r\n      })\r\n      .catch((err: any) => this.setState({ error: String(err) }));\r\n    }\r\n  }\r\n\r\n  responseFacebook = (response: FacebookUser) => {\r\n    const { addUserPicture, fetchUser } = this.props;\r\n\r\n    if (response) {\r\n      fetchUser(response.email)\r\n      .then((res: any) => {\r\n        const picture = response.picture.data.url;\r\n        localStorage.setItem('username', res.data[0].email);\r\n        addUserPicture(res.data[0], picture);\r\n        alert(\"Login Successful using RestDBIO\");\r\n      })\r\n      .catch((err: any) => this.setState({ error: String(err) }));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { loginFB } = this.state;\r\n\r\n    return (\r\n      <div className=\"login\">\r\n        <h1>Login</h1>\r\n        <form className=\"login__form\">\r\n          <TextField\r\n            type=\"email\"\r\n            name=\"email\"\r\n            onChange={(email: string) => this.setState({ email })} />\r\n          <TextField\r\n            type=\"password\"\r\n            name=\"password\"\r\n            onChange={(password: string) => this.setState({ password })} />\r\n          <div className=\"login__submit\"><input type=\"submit\" value=\"Login\" onClick={this.onClick} /></div>\r\n        </form>\r\n        <hr className=\"login__hr\" />\r\n          <FacebookLogin\r\n            appId={config.fb.appId}\r\n            autoLoad={loginFB}\r\n            fields=\"name,email,picture\"\r\n            scope=\"public_profile,user_friends\"\r\n            onClick={(event) => event && this.setState({ loginFB: true })}\r\n            callback={this.responseFacebook} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = {\r\n  addUserPicture,\r\n  loginUser,\r\n  fetchUser\r\n};\r\n\r\nexport default connect(null, mapDispatchProps)(withRouter<any, React.ComponentClass<any>>(Login));\r\n","export const options = [\r\n  { value: 'en', label: 'English' },\r\n  { value: 'es', label: 'Spanish' },\r\n];\r\n","import React, { Component } from 'react';\r\nimport { MenuProps, MenuState } from './types';\r\n\r\n// import enhanceWithClickOutside from 'react-click-outside';\r\nimport './Menu.scss';\r\n\r\nclass Menu extends Component<MenuProps, MenuState> {\r\n  state = {\r\n    isOpen: false,\r\n  };\r\n\r\n  handleClickOutside() {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  open = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  toggle = () => {\r\n    this.setState({ isOpen: !this.state.isOpen });\r\n  }\r\n\r\n  render() {\r\n    const isOpen = this.state.isOpen ? 'dropdown--is-open' : '';\r\n\r\n    return (\r\n      <div className=\"dropdown\">\r\n        <div className=\"dropdown__label\" onClick={this.toggle}>\r\n          {this.props.label(this.state.isOpen)}\r\n        </div>\r\n        <div className=\"dropdown__content-container\">\r\n          <div className={`dropdown__content ${isOpen}`}>\r\n            {this.props.children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Menu;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { withTranslation } from 'react-i18next';\r\nimport { options } from '../../config/options';\r\n\r\nimport Menu from '../shared/Menu';\r\nimport State from '../../redux/State';\r\nimport { AppsProps } from './types';\r\nimport './Apps.scss';\r\n\r\nclass Apps extends Component<AppsProps, any> {\r\n  state = {\r\n    lang: options[0]\r\n  };\r\n\r\n  changeLang = (lang:any) => {\r\n    const { i18n } = this.props;\r\n\r\n    this.setState({ lang });\r\n    i18n.changeLanguage(lang.value);\r\n  };\r\n\r\n  renderCurrentLanguage = (isOpen: boolean) => {\r\n    const { t } = this.props;\r\n\r\n    return (\r\n      <div className={isOpen ? 'apps__language-open' : 'apps__language'}>\r\n        {t('Language')}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"apps\">\r\n        <div className=\"apps__title\">Apps &amp; extras</div>\r\n        <div className=\"apps__item\"><Link to='/tickets'>Tickets</Link></div>\r\n        <div className=\"apps__item\"><Link to='/support'>Support</Link></div>\r\n        <div className=\"apps__item\"><Link to='/charts'>Charts</Link></div>\r\n        <div className=\"apps__item\"><Link to='/test'>Test</Link></div>\r\n        <hr />\r\n        <div className=\"apps__item\">\r\n          <Menu label={(isOpen: boolean) => this.renderCurrentLanguage(isOpen)}>\r\n            {options.map(option => {\r\n              return (<div key={option.value} className=\"apps__option\" onClick={() => this.changeLang(option)}>{option.label}</div>);\r\n            })}\r\n          </Menu>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(withTranslation()<any>(withRouter<any, React.ComponentClass<any>>(Apps)));\r\n","import React, { Component } from 'react';\r\n\r\nclass Chat extends Component {\r\n\r\n  state = {\r\n    messageList: []\r\n  };\r\n \r\n  onMessageWasSent(message) {\r\n    this.setState({\r\n      messageList: [...this.state.messageList, message]\r\n    })\r\n  }\r\n \r\n  sendMessage(text) {\r\n    if (text.length > 0) {\r\n      this.setState({\r\n        messageList: [...this.state.messageList, {\r\n          author: 'them',\r\n          type: 'text',\r\n          data: { text }\r\n        }]\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>Get new Chat-Window</div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default Chat;\r\n","import axios from 'axios';\r\nimport { map } from 'lodash';\r\nimport routes from './routes';\r\nimport config from './config';\r\n\r\nexport const getStuffList = id_stuffier => (\r\n  axios.get(routes.stuff.listForStuffier(id_stuffier), { headers: config.headers })\r\n);\r\n\r\nexport const getStuffiersList = friends => {\r\n  const ids = map(friends, friend => { \r\n    return { id_stuffier: friend.id };\r\n  });\r\n\r\n  return axios.get(routes.stuff.listStuffiers(ids), { headers: config.headers });\r\n};\r\n\r\nexport const getStuff = id => (\r\n  axios.get(routes.stuff.detail(id), { headers: config.headers })\r\n);\r\n\r\nexport const getListStuff = ids => {\r\n  if (ids.length) {\r\n    return axios.get(routes.stuff.listDetail(ids), { headers: config.headers });\r\n  }\r\n\r\n  return Promise.resolve([]);\r\n};\r\n\r\nexport const getCategories = (token = null) => (\r\n  axios.get(routes.category.list(), { headers: config.headers, cancelToken: token })\r\n);\r\n\r\nexport const getSubCategories = (token = null) => (\r\n  axios.get(routes.subcategory.list(), { headers: config.headers, cancelToken: token })\r\n);\r\n\r\nexport const addStuff = ({ name, category, subcategory, fileName }) => (\r\n  axios.post(routes.stuff.addStuff(), { name, category, subcategory, file_name: fileName }, { headers: config.headers })\r\n);\r\n\r\nexport const addStuffStuffier = (id_stuffier, id_stuff) => (\r\n  axios.post(routes.stuff.addStuffiersStuff(), { id_stuffier, id_stuff }, { headers: config.headers })\r\n);\r\n\r\nexport const getStuffFromCategories = (category, subcategory) => (\r\n  axios.get(routes.stuff.detailFromCategories(category, subcategory), { headers: config.headers })\r\n);\r\n\r\nexport const getCategory = id => (\r\n  axios.get(routes.category.detail(id), { headers: config.headers })\r\n);\r\n\r\nexport const getSubcategory = id => (\r\n  axios.get(routes.subcategory.detail(id), { headers: config.headers })\r\n);\r\n\r\nexport const isImageExist = () => (\r\n  axios.get(routes.cloudinary.exist(), { headers: config.cloudinary_headers })\r\n);\r\n\r\nexport const addSubCategoryCall = ({ id, name }) => (\r\n  axios.post(routes.subcategory.add(), { id, name }, { headers: config.headers })\r\n);\r\n\r\nexport const addCategoryCall = ({ id, name }) => (\r\n  axios.post(routes.category.add(), { id, name }, { headers: config.headers })\r\n);\r\n\r\n/*\r\n* This is to emulate ElasticSearch\r\n*/\r\nexport const getSearchResults = (searchText, products, token) => {\r\n  let results = [];\r\n\r\n  return Promise.all([getCategories(token), getSubCategories(token)]).then(values => {\r\n    values[0].data.forEach(c => {\r\n      if (c.name.toLowerCase().includes(searchText)){\r\n        results.push({ type: 'Category', name: c.name, id: c.id });\r\n      }\r\n    });\r\n\r\n    values[1].data.forEach(s => {\r\n      if (s.name.toLowerCase().includes(searchText)) {\r\n        results.push({ type: 'Subcategory', name: s.name, id: s.id });\r\n      }\r\n    });\r\n\r\n    Object.keys(products).forEach(key => {\r\n      products[key].forEach(p => {\r\n        if (p.name.toLowerCase().includes(searchText)) {\r\n          results.push({ type: 'Product', name: p.name, id: p.id });\r\n        }  \r\n      });\r\n    });\r\n  \r\n    return Promise.resolve(results);\r\n  });\r\n};\r\n","import { makePaginatedApiActionCreator, makeStandardActionCreator } from '../action-helpers';\r\nimport { CATEGORY_ADDED, CATEGORIES_FETCHED, CATEGORY_FETCHED } from './constants';\r\nimport { addCategoryCall, getCategories, getCategory } from '../../services/stuff';\r\n\r\nconst categoriesFetched = makeStandardActionCreator(CATEGORIES_FETCHED);\r\nexport const fetchCategories = makePaginatedApiActionCreator(getCategories, categoriesFetched);\r\n\r\nconst categoryFeteched = makeStandardActionCreator(CATEGORY_FETCHED);\r\nexport const fetchCategory = makePaginatedApiActionCreator(getCategory, categoryFeteched);\r\n\r\nconst categoryAdded = makeStandardActionCreator(CATEGORY_ADDED);\r\nexport const addCategory = makePaginatedApiActionCreator(addCategoryCall, categoryAdded);\r\n","export const CATEGORIES_FETCHED = 'MENU::CATEGORIES_FETCHED';\r\nexport const CATEGORY_FETCHED = 'MENU::CATEGORY_FETCHED';\r\nexport const CATEGORY_ADDED = 'MENU:CATEGORY_ADDED';\r\n","import { makePaginatedApiActionCreator, makeStandardActionCreator } from '../action-helpers';\r\nimport { SUBCATEGORIES_FETCHED, SUBCATEGORY_FETCHED, SUBCATEGORY_ADDED } from './constants';\r\nimport { addSubCategoryCall, getSubCategories, getSubcategory } from '../../services/stuff';\r\n\r\nconst subCategoriesFetched = makeStandardActionCreator(SUBCATEGORIES_FETCHED);\r\nexport const fetchSubCategories = makePaginatedApiActionCreator(getSubCategories, subCategoriesFetched);\r\n\r\nconst subCategoryFetched = makeStandardActionCreator(SUBCATEGORY_FETCHED);\r\nexport const fetchSubCategory = makePaginatedApiActionCreator(getSubcategory, subCategoryFetched);\r\n\r\nconst subCategoryAdded = makeStandardActionCreator(SUBCATEGORY_ADDED);\r\nexport const addSubCategory = makePaginatedApiActionCreator(addSubCategoryCall, subCategoryAdded);\r\n","export const SUBCATEGORIES_FETCHED = 'MENU::SUBCATEGORIES_FETCHED';\r\nexport const SUBCATEGORY_FETCHED = 'MENU::SUBCATEGORY_FETCHED';\r\nexport const SUBCATEGORY_ADDED = 'MENU:SUBCATEGORY_ADDED';\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { map } from 'lodash';\r\n\r\nimport Loading from '../shared/Loading';\r\nimport TextField from '../shared/TextField';\r\nimport { addCategory } from '../../redux/categories/actions';\r\nimport { addSubCategory } from '../../redux/subcategories/actions';\r\nimport { fetchCategories } from '../../redux/categories/actions';\r\nimport { fetchSubCategories } from '../../redux/subcategories/actions';\r\n\r\nimport { AddCategoryProps } from './types';\r\nimport './AddCategory.scss';\r\n\r\nconst TYPE = {\r\n  CATEGORY: 'category',\r\n  SUBCATEGORY: 'subcategory'\r\n};\r\n\r\nclass AddCategory extends Component<AddCategoryProps, any> {\r\n  state = {\r\n    isLoading: true,\r\n    id: '',\r\n    name: '',\r\n    categories: [],\r\n    subcategories: [],\r\n    tempObjects: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { fetchCategories, fetchSubCategories } = this.props;\r\n    const { categories, subcategories } = this.state;\r\n\r\n    if (!categories.length) {\r\n      fetchCategories().then((res: any) => {\r\n        this.setState({ categories: res.data, isLoading: false });\r\n      });\r\n    }    \r\n\r\n    if (!subcategories.length) {\r\n      fetchSubCategories().then((res: any) => {\r\n        this.setState({ subcategories: res.data, isLoading: false });\r\n      });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: any) {\r\n    const { type } = this.props;\r\n\r\n    if (prevProps.type === 'subcategory' && type === 'category') {\r\n      this.setState({ label: 'Category' });\r\n    }\r\n\r\n    if (prevProps.type === 'category' && type === 'subcategory') {\r\n      this.setState({ label: 'SubCategory' });\r\n    }\r\n  }\r\n\r\n  createValue = (event: any) => {\r\n    const { addCategory, addSubCategory, type } = this.props;\r\n    const { categories, subcategories } = this.state;\r\n\r\n    event.preventDefault();\r\n\r\n    if (type === TYPE.CATEGORY) {\r\n      this.setState({ isLoading: true});\r\n\r\n      addCategory({ name: this.state.name, id: Number(this.state.id) })\r\n      .then((res: any) => {\r\n        const newCategory =  { _id: res.data._id, id: res.data.id, name: res.data.name };\r\n        this.setState({\r\n          categories: [ ...categories, newCategory ],\r\n          name: '',\r\n          id: ''\r\n        }); \r\n      })\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n      });\r\n    }\r\n\r\n    if (type === TYPE.SUBCATEGORY) {\r\n      this.setState({ isLoading: true });\r\n\r\n      addSubCategory({ name: this.state.name, id: Number(this.state.id) })\r\n      .then((res: any) => {\r\n        const newSubCategory = { _id: res.data._id, id: res.data.id, name: res.data.name };\r\n        this.setState({\r\n          subcategories: [...subcategories, newSubCategory ],\r\n          name: '',\r\n          id: ''\r\n        });\r\n\r\n      })\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n      });\r\n    }\r\n  }\r\n\r\n  renderValues = (typeToRender: string) => {\r\n    const { categories, subcategories } = this.state;\r\n    const objects = typeToRender === TYPE.CATEGORY ? categories : subcategories;\r\n  \r\n    return map(objects, (object: any) => {\r\n      return (\r\n        <li className=\"add-category__item\" key={`${typeToRender}_${object.id}`}>\r\n          <span className=\"add-category__id\">({object.id})</span> - {object.name}\r\n        </li>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { type } = this.props;\r\n    const { isLoading } = this.state;\r\n\r\n    if (isLoading) return <Loading size=\"md\" />\r\n\r\n    const label = type === TYPE.CATEGORY ? 'Category' : 'SubCategory';\r\n    const otherLabel = type !== TYPE.CATEGORY ? 'Category' : 'SubCategory';\r\n    const otherType = type === TYPE.CATEGORY ? TYPE.SUBCATEGORY : TYPE.CATEGORY;\r\n\r\n    return (\r\n      <div className=\"add-category\">\r\n        <form>\r\n          <div className=\"add-category__values\">\r\n            <div>\r\n              <h2>{label}</h2>\r\n              <ul className=\"add-category__list\">\r\n                {this.renderValues(type)}\r\n              </ul>\r\n            </div>\r\n            <div>\r\n              <h2>{otherLabel}</h2>\r\n              <ul className=\"add-category__list\">\r\n                {this.renderValues(otherType)}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <hr />\r\n          <div className=\"add-category__row\">\r\n            <label>Id</label>\r\n            <TextField name=\"id\" type=\"text\" onChange={(id: string) => this.setState({ id })} />\r\n          </div>\r\n          <div className=\"add-category__row\">\r\n            <label>{label}</label>\r\n            <TextField name=\"name\" type=\"text\" onChange={(name: string) => this.setState({ name })} />\r\n          </div>\r\n          <hr />\r\n          <button onClick={(event: any) => this.createValue(event)}>Send</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = {\r\n  addCategory,\r\n  addSubCategory,\r\n  fetchCategories,\r\n  fetchSubCategories,\r\n};\r\n\r\nexport default connect(null, mapDispatchProps)(AddCategory);\r\n","import React, { Component } from 'react';\r\nimport { find } from 'lodash';\r\nimport { DropDownProps, DropDownState } from './types';\r\n\r\nclass DropDown extends Component<DropDownProps, DropDownState> {\r\n  state = {\r\n    valueSelected: null,\r\n  };\r\n\r\n  updateChange = (event: any) => {\r\n    const { onChange, values } = this.props;\r\n\r\n    const id = Number(event.target.value);\r\n    const object = find(values, value=> value.id === id);\r\n\r\n    this.setState({ valueSelected: id });\r\n    onChange(object);\r\n  }\r\n\r\n  render() {\r\n    const { values } = this.props;\r\n    const { valueSelected } = this.state;\r\n\r\n    const value = values ? values[0] ? values[0].id : null: null;\r\n    const objectSelected = valueSelected ? valueSelected : value;\r\n\r\n    return (\r\n      <select onChange={this.updateChange} value={objectSelected}>\r\n        { \r\n          values && values.map((object: any, index: number) => {\r\n            return <option key={index} value={object.id}>{object.name}</option>;\r\n          })\r\n        }\r\n      </select>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DropDown;\r\n","import { makePaginatedApiActionCreator, makeStandardActionCreator } from '../action-helpers';\r\nimport { PRODUCT_ADDED, PRODUCT_FETCHED, PRODUCTS_FETCHED } from './constants';\r\nimport { addStuff, addStuffStuffier, getListStuff, getStuffList, getStuff } from '../../services/stuff';\r\nimport { mapStuff, getProductsMap } from '../../components/helpers/StuffHelper';\r\n\r\nconst productFetched = makeStandardActionCreator(PRODUCT_FETCHED);\r\nconst productsFetched = makeStandardActionCreator(PRODUCTS_FETCHED);\r\n\r\nconst productAdded = makeStandardActionCreator(PRODUCT_ADDED);\r\nexport const addProduct = (product, user) => dispatch => {\r\n  return addStuff(product)\r\n  .then(res => {\r\n    const product = res.data;\r\n    return addStuffStuffier(user.id, product.id);\r\n  })\r\n  .then(() => {\r\n    dispatch(productAdded(product, user.email));\r\n    return Promise.resolve(product);\r\n  })\r\n  .catch(error => Promise.reject(error));\r\n}\r\n\r\nexport const fetchProduct = makePaginatedApiActionCreator(getStuff, productFetched);\r\nexport const fetchProducts = (user, categories) => dispatch => {  // makePaginatedApiActionCreator(getListStuff, productsFetched);\r\n  return getStuffList(user.id)\r\n         .then(res => getListStuff(mapStuff(res)))\r\n         .then(res => Promise.resolve(res.data))\r\n         .then(objects => {\r\n           const products = getProductsMap(categories, objects);\r\n           dispatch(productsFetched(products, user.email));\r\n           return Promise.resolve(products);\r\n         });\r\n}\r\n","export const PRODUCT_FETCHED = 'MENU::PRODUCT_FETCHED';\r\nexport const PRODUCTS_FETCHED = 'MENU::PRODUCTS_FETCHED';\r\n\r\nexport const PRODUCT_ADDED = 'PRODUCTS::PRODUCT_ADDED';\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Dropdown from '../shared/DropDown';\r\nimport { AddProductProps } from '../sections/types';\r\nimport { addStuffStuffier, getStuffFromCategories } from '../../services/stuff';\r\nimport { addProduct } from '../../redux/products/actions';\r\n\r\nimport './AddProduct.scss';\r\nimport Category from '../types/Category';\r\nimport Product from '../types/Product';\r\nimport State from '../../redux/State';\r\nimport Subcategory from '../types/Subcategory';\r\nimport TextField from '../shared/TextField';\r\n\r\nclass AddProduct extends Component<AddProductProps, any> {\r\n  state = {\r\n    status: 'success',\r\n    name: null,\r\n    file_name: null,\r\n    category: this.props.categories[0],\r\n    product: { id: null, name: null },\r\n    subcategory: this.props.subcategories[0],\r\n    stuffStuffier: {},\r\n    productsByCategories: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.renderProducts(this.state.category, this.state.subcategory);\r\n  }\r\n\r\n  componentDidUpdate(prevProps: AddProductProps, prevState: any) {\r\n    const { product, stuffStuffier, name, category, subcategory } = this.state;\r\n    const anyChange = prevState.name !== name ||\r\n                      prevState.category !== category ||\r\n                      prevState.subcategory !== subcategory;\r\n    const isMessage = product && stuffStuffier;\r\n\r\n    // if (isMessage && anyChange) {\r\n    //   this.clearState();\r\n    // }\r\n  }\r\n\r\n  createProduct = (event:any) => {\r\n    const { addProduct, user } = this.props;\r\n    const { name, category, subcategory } = this.state;\r\n\r\n    if (!name || !category || !subcategory) return;\r\n\r\n    event.preventDefault();\r\n\r\n    addProduct({ name, category: category.id, subcategory: subcategory.id, fileName: 'file_name'})\r\n      .then((product:Product) => {\r\n        console.log(product);\r\n        this.setState({ product });\r\n      })\r\n      .catch((err:any) => {\r\n        this.setState({ status: 'error' });\r\n        console.log(`Error: ${err}`);\r\n      });\r\n  }\r\n\r\n  setProduct() {\r\n    const { user } = this.props;\r\n    const { product } = this.state;\r\n\r\n    addStuffStuffier(user.id, product.id).then(res => {\r\n      this.setState({ stuffStuffier: res.data });\r\n    });\r\n  }\r\n\r\n  clearState = () => {\r\n    this.setState({\r\n      status: 'success',\r\n      name: null,\r\n      file_name: null,\r\n      category: this.props.categories[0],\r\n      subcategory: this.props.subcategories[0],\r\n      product: {},\r\n      stuffStuffier: {},\r\n    });\r\n  }\r\n\r\n  renderProductAddedMessage = () => {\r\n    const { status, product } = this.state;\r\n    const message = status === 'error' ? 'was not added' : 'was added successfully!';\r\n\r\n    if (product.name) {\r\n      return (\r\n        <div className={`add-product__message-${status}`}>\r\n          Stuff {product.name} {message}\r\n        </div>\r\n      );  \r\n    }\r\n  }\r\n\r\n  renderProducts(category: Category, subcategory: Subcategory) {\r\n    getStuffFromCategories(category.id, subcategory.id).then(res => {\r\n      this.setState({ productsByCategories: res.data });\r\n    })\r\n  }\r\n\r\n  updateCategory = (category: Category) => {\r\n    this.renderProducts(category, this.state.subcategory);\r\n    this.setState({ category });\r\n  }\r\n\r\n  updateSubcategory = (subcategory: Subcategory) => {\r\n    this.renderProducts(this.state.category, subcategory);\r\n    this.setState({ subcategory });\r\n  }\r\n\r\n  render() {\r\n    const { categories, subcategories } = this.props;\r\n    const { product, stuffStuffier, productsByCategories, category, subcategory, name } = this.state;\r\n\r\n    return (\r\n      <div className=\"add-product\">\r\n        <h3>Add Stuff</h3>\r\n        { product && stuffStuffier && this.renderProductAddedMessage() }\r\n        <hr/>\r\n        <form>\r\n          <div>Select Product</div>\r\n          <div className=\"add-product__row\">\r\n            <label>Category</label>\r\n            <Dropdown onChange={(category: any) => this.updateCategory(category)} values={categories} />\r\n          </div>\r\n          <div className=\"add-product__row\">\r\n            <label>SubCategory</label>\r\n            <Dropdown onChange={(subcategory: any) => this.updateSubcategory(subcategory)} values={subcategories} />\r\n          </div>\r\n          { !productsByCategories.length && <div>There are no products</div>}\r\n          { productsByCategories.length > 0 && (\r\n            <div className=\"add-product__row\">\r\n              <label>Product</label>\r\n              <Dropdown onChange={(product: Product) => this.setState({ product })} values={productsByCategories} />\r\n            </div>\r\n          )}\r\n          <hr />\r\n          <button disabled={!(category && subcategory && name)} onClick={event => event && this.setProduct()}>Send</button>\r\n          <hr />\r\n          <div>Create New Product</div>\r\n          <div className=\"add-product__row\">\r\n            <label>Name</label>\r\n            <TextField name=\"name\" type=\"text\" onChange={(name:string) => this.setState({ name })}/>\r\n          </div>\r\n          <div className=\"add-product__row\">\r\n            <label>Category</label>\r\n            <Dropdown onChange={(category:any) => this.setState({ category })} values={categories} />\r\n          </div>\r\n          <div className=\"add-product__row\">\r\n            <label>SubCategory</label>\r\n            <Dropdown onChange={(subcategory:any) => this.setState({ subcategory })} values={subcategories} />\r\n          </div>\r\n          <hr />\r\n          <button onClick={event => this.createProduct(event)}>Send</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapDispatchProps = {\r\n  addProduct,\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user,\r\n  categories: state.categories,\r\n  subcategories: state.subcategories\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(AddProduct);\r\n","import React, { Component } from 'react';\r\nimport { ButtonProps } from './types';\r\nimport './Button.scss';\r\n\r\nclass Button extends Component<ButtonProps, any> {\r\n  render() {\r\n    const { disabled, type, text, onClick } = this.props;\r\n\r\n    if(onClick) {\r\n      return (<button className=\"button\" type={type || \"button\"} onClick={event => event && onClick()} disabled={disabled}>{text}</button>); \r\n    }\r\n\r\n    return <button className=\"button\" type={type || \"button\"} disabled={disabled}>{text}</button>\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import { makeApiActionCreator,  makeStandardActionCreator } from '../action-helpers';\r\n\r\nimport { USER_REQUESTS_FETCHED, USER_REQUEST_DELETED } from './constants';\r\nimport { getUserRequests, deleteUserRequest } from '../../services/stuffier';\r\n\r\nconst userRequestsFetched = makeStandardActionCreator(USER_REQUESTS_FETCHED);\r\nexport const fetchUserRequests = makeApiActionCreator(getUserRequests, userRequestsFetched);\r\n\r\nconst userRequestDeleted = makeStandardActionCreator(USER_REQUEST_DELETED);\r\nexport const deleteRequest = makeApiActionCreator(deleteUserRequest, userRequestDeleted);\r\n","export const USER_REQUESTS_FETCHED = 'STUFFIE:USER_REQUESTS_FETCHED';\r\nexport const USER_REQUEST_DELETED = 'STUFFIE::USER_REQUEST_DELETED';\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Button from '../shared/Button';\r\nimport User from '../types/User';\r\nimport { Link } from 'react-router-dom';\r\nimport { fetchUserRequests, deleteRequest } from '../../redux/user-requests/actions';\r\nimport './Admin.scss';\r\n\r\nclass Admin extends Component<any, any> {\r\n  state = {\r\n    userRequests: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { fetchUserRequests } = this.props;\r\n    fetchUserRequests().then((res: any) => this.setState({ userRequests: res }));\r\n  }\r\n\r\n  executeRequest = (user: User, isAccepted = false) => {\r\n    const { deleteRequest } = this.props;\r\n  \r\n    if (isAccepted) {\r\n      deleteRequest(user).then((res: User) => {\r\n        alert('Request Accepted and Deleted');\r\n        const userRequests = this.state.userRequests.filter((request: User) => {\r\n          return request._id !== res._id;\r\n        });\r\n\r\n        this.setState({ userRequests });\r\n      });\r\n    }\r\n  }\r\n\r\n  renderRequests = () => {\r\n    const { userRequests } = this.state;\r\n\r\n    return (\r\n      <div className=\"admin__requests\">\r\n        <hr />\r\n        <h3 className=\"admin__title\">\r\n          <div>Requests</div>\r\n          <div className=\"admin__warning\">{userRequests.length}</div>\r\n        </h3>\r\n        <ul>\r\n          {userRequests.map((user: User, index: number) => {\r\n            return (\r\n              <li className=\"admin__request\" key={index}>\r\n                <div className=\"admin__request-text\">\r\n                  {user.first_name} {user.last_name} ({user.email})\r\n                </div>\r\n                <div className=\"admin__request-button\">\r\n                  <Button onClick={() => this.executeRequest(user, true)} text=\"Accept\"></Button>\r\n                </div>\r\n              </li>\r\n            )}\r\n          )}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { userRequests } = this.state;\r\n\r\n    return (\r\n      <div className=\"admin\">\r\n        {userRequests.length > 0 && this.renderRequests()}\r\n        <div className=\"admin__link\"><Link to={`/category/add`}>Add Category</Link></div>\r\n        <hr />\r\n        <div className=\"admin__link\"><Link to={`/subcategory/add`}>Add SubCategory</Link></div>\r\n        <hr />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = {\r\n  fetchUserRequests,\r\n  deleteRequest\r\n};\r\n\r\nexport default connect(null, mapDispatchProps)(Admin);\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { map } from 'lodash';\r\n\r\nimport State from '../../redux/State';\r\nimport { CategoryPageProps } from './types';\r\n\r\nimport Stuff from '../types/Stuff'; \r\n\r\nclass CategoryPage extends Component<CategoryPageProps, any> {\r\n  render() {\r\n    const { location, products, match } = this.props;\r\n\r\n    const id = match.params.id;\r\n    const name = location.category || '';\r\n\r\n    return (\r\n      <div className=\"category-page\">\r\n        <h3>{ name }</h3>\r\n        <ul>\r\n          {map(products[id], (object: Stuff) => {\r\n            return (\r\n              <li key={object.id}><Link to={`/product/${object.id}`}>{object.name}</Link></li>\r\n            )\r\n          })}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  products: state.products\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(CategoryPage);\r\n","import React, { Component } from 'react';\r\nimport { Image, Video, Transformation, CloudinaryContext } from 'cloudinary-react';\r\nimport config from '../../services/config';\r\nimport './Media.scss';\r\n\r\nclass Media extends Component {\r\n\r\n  renderImage = () => {\r\n    const { fileName, format, category, width, subcategory, isProduct } = this.props;\r\n    const file = isProduct? category && subcategory ? `products/${category}/${subcategory}/${fileName}` : 'default_product' : fileName;\r\n    const f = file === 'default_product' ? 'png' : format;\r\n\r\n    return (\r\n      <div className=\"media__image\">\r\n        <Image publicId={file} format={f}>\r\n          <Transformation width={width} fetchFormat=\"auto\" crop=\"scale\" />\r\n        </Image>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderVideo = () => {\r\n    const { fileName, format } = this.props;\r\n    return (<Video publicId={fileName} format={format}></Video>);\r\n  }\r\n\r\n  render() {\r\n    const { format } = this.props;\r\n\r\n    const media = format === 'mp4' ? this.renderVideo() : this.renderImage();\r\n\r\n    return (\r\n      <CloudinaryContext cloudName={config.cloudinary.cloudName}>\r\n        {media}\r\n      </CloudinaryContext>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Media;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Category from '../types/Category';\r\nimport Media from '../shared/Media';\r\nimport Product from '../types/Product';\r\nimport { FeedRowProps } from './types';\r\nimport { fetchProduct } from '../../redux/products/actions';\r\n\r\nimport './FeedRow.scss';\r\n\r\nclass FeedRow extends Component<FeedRowProps, any> {\r\n  state = {\r\n    product: { id: null, name: null, category: null, subcategory: null }\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { fetchProduct } = this.props;\r\n    const { product } = this.state;\r\n\r\n    if (!product.id) {\r\n      fetchProduct(this.props.product).then((res: any) => {\r\n        const product: Product = res.data[0];\r\n        this.setState({ product });\r\n      });\r\n    }\r\n  }\r\n\r\n  getProductType = () => {\r\n    const { subcategories } = this.props;\r\n    const { product } = this.state;\r\n\r\n    let subcategory = subcategories.find(s => s.id === product.subcategory);\r\n    return subcategory ? subcategory.name : null;\r\n  }\r\n\r\n  getLinkTo = (category: Category) => {\r\n    return ;\r\n  }\r\n\r\n  renderMessage() {\r\n    const { user } = this.props;\r\n    const { product } = this.state;\r\n    const to = { pathname: `/category/${product.category}`, category: 'Category' }\r\n  \r\n    return (\r\n    <div className=\"feed-row__description\">\r\n      <span className=\"feed-row__name\">{user.first_name} {user.last_name} </span> added <Link to={to}>{product.name}</Link> in {this.getProductType()}\r\n    </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { product } = this.state;\r\n\r\n    return (\r\n      <div className=\"feed-row\">\r\n        {this.renderMessage()}\r\n        <div className=\"feed-row__image\">\r\n          <Media\r\n            fileName={product.id}\r\n            category={product.category || null}\r\n            subcategory={product.subcategory || null}\r\n            format=\"jpg\"\r\n            height=\"100\"\r\n            width=\"100\"\r\n            isProduct=\"true\"\r\n          />\r\n        </div>\r\n        <div className=\"feed-row__actions\">\r\n          <div className=\"feed-row__action feed-row__text\">Ask for:</div>\r\n          <div className=\"feed-row__action feed-row__link\">Loan</div>\r\n          <div className=\"feed-row__action feed-row__link\">Exchange</div>\r\n          <div className=\"feed-row__action feed-row__link\">Buy</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = {\r\n  fetchProduct,\r\n};\r\n\r\nexport default connect(null, mapDispatchProps)(FeedRow);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { filter, forEach, isEmpty, map } from 'lodash';\r\nimport { getStuffiersList } from '../../services/stuff';\r\n\r\nimport FeedRow from './FeedRow';\r\nimport FriendProducts from '../types/FriendProducts';\r\nimport Loading from '../shared/Loading';\r\nimport State from '../../redux/State';\r\nimport { ContentProps, ContentState } from './types';\r\nimport './Content.scss';\r\n\r\nclass Content extends Component<ContentProps, ContentState> {\r\n  state = {\r\n    isLoading: false,\r\n    friendsProducts: [],\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    const { friends } = this.props;\r\n\r\n    if (isEmpty(this.state.friendsProducts)) {\r\n      this.setState({ isLoading: true });\r\n\r\n      getStuffiersList(friends)\r\n      .then(res => {\r\n        const products = res.data;\r\n        const friendsProducts = this.getProductsFromUsers(products);\r\n        this.setState({ friendsProducts });\r\n      })\r\n      .finally(() => this.setState({ isLoading: false }));\r\n    }\r\n  }\r\n\r\n  getProductsFromUsers(products: any) {\r\n    let friendsProducts: FriendProducts[] = [];\r\n\r\n    forEach(this.props.friends, friend => {\r\n      const values = filter(products, p => p.id_stuffier === friend.id)\r\n        .map(row => row.id_stuff);\r\n\r\n      friendsProducts.push({ id_friend: friend, products: [...values] });\r\n    });\r\n\r\n    return friendsProducts;\r\n  }\r\n\r\n  render() {\r\n    const { friends, subcategories, user } = this.props;\r\n    const { isLoading, friendsProducts } = this.state;\r\n\r\n    if (isLoading) {\r\n      return (\r\n        <div className=\"content__loading\">\r\n          <Loading size=\"xl\" message=\"Loading Feed\" />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (!friends.length || isEmpty(friendsProducts)) {\r\n      return <div>No Friends! Add friends!</div>\r\n    }\r\n\r\n    return (\r\n      <div className=\"content\">\r\n        <div className=\"content__info\">\r\n          {map(friendsProducts, (row: FriendProducts, index) => {\r\n            return (\r\n              <div key={index} className=\"content__rows\">\r\n                {map(row.products, (p: number, index) => (<FeedRow key={index} user={user} product={p} subcategories={subcategories} />))}\r\n              </div>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user,\r\n  friends: state.friends,\r\n  subcategories: state.subcategories\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(Content);\r\n","export const barChartData = [\r\n  { name: 'Page A', uv: 4000, pv: 2400, amt: 2400 },\r\n  { name: 'Page B', uv: 3000, pv: 1398, amt: 2210 },\r\n  { name: 'Page C', uv: 2000, pv: 9800, amt: 2290 },\r\n  { name: 'Page D', uv: 2780, pv: 3908, amt: 2000 },\r\n  { name: 'Page E', uv: 1890, pv: 4800, amt: 2181 },\r\n  { name: 'Page F', uv: 2390, pv: 3800, amt: 2500 },\r\n  { name: 'Page G', uv: 3490, pv: 4300, amt: 2100 }\r\n];\r\n\r\nexport const treemapChartData = [\r\n  {\r\n    name: 'axis',\r\n    children: [\r\n      { name: 'Axes', size: 1302 },\r\n      { name: 'Axis', size: 24593 },\r\n      { name: 'AxisGridLine', size: 652 },\r\n      { name: 'AxisLabel', size: 636 },\r\n      { name: 'CartesianAxes', size: 6703 },\r\n    ],\r\n  },\r\n  {\r\n    name: 'controls',\r\n    children: [\r\n      { name: 'AnchorControl', size: 2138 },\r\n      { name: 'ClickControl', size: 3824 },\r\n      { name: 'Control', size: 1353 },\r\n      { name: 'ControlList', size: 4665 },\r\n      { name: 'DragControl', size: 2649 },\r\n      { name: 'ExpandControl', size: 2832 },\r\n      { name: 'HoverControl', size: 4896 },\r\n      { name: 'IControl', size: 763 },\r\n      { name: 'PanZoomControl', size: 5222 },\r\n      { name: 'SelectionControl', size: 7862 },\r\n      { name: 'TooltipControl', size: 8435 },\r\n    ],\r\n  },\r\n  {\r\n    name: 'data',\r\n    children: [\r\n      { name: 'Data', size: 20544 },\r\n      { name: 'DataList', size: 19788 },\r\n      { name: 'DataSprite', size: 10349 },\r\n      { name: 'EdgeSprite', size: 3301 },\r\n      { name: 'NodeSprite', size: 19382 },\r\n      {\r\n        name: 'render',\r\n        children: [\r\n          { name: 'ArrowType', size: 698 },\r\n          { name: 'EdgeRenderer', size: 5569 },\r\n          { name: 'IRenderer', size: 353 },\r\n          { name: 'ShapeRenderer', size: 2247 },\r\n        ],\r\n      },\r\n      { name: 'ScaleBinding', size: 11275 },\r\n      { name: 'Tree', size: 7147 },\r\n      { name: 'TreeBuilder', size: 9930 },\r\n    ],\r\n  },\r\n  {\r\n    name: 'events',\r\n    children: [\r\n      { name: 'DataEvent', size: 7313 },\r\n      { name: 'SelectionEvent', size: 6880 },\r\n      { name: 'TooltipEvent', size: 3701 },\r\n      { name: 'VisualizationEvent', size: 2117 },\r\n    ],\r\n  },\r\n  {\r\n    name: 'legend',\r\n    children: [\r\n      { name: 'Legend', size: 20859 },\r\n      { name: 'LegendItem', size: 4614 },\r\n      { name: 'LegendRange', size: 10530 },\r\n    ],\r\n  },\r\n  {\r\n    name: 'operator',\r\n    children: [\r\n      {\r\n        name: 'distortion',\r\n        children: [\r\n          { name: 'BifocalDistortion', size: 4461 },\r\n          { name: 'Distortion', size: 6314 },\r\n          { name: 'FisheyeDistortion', size: 3444 },\r\n        ],\r\n      },\r\n      {\r\n        name: 'encoder',\r\n        children: [\r\n          { name: 'ColorEncoder', size: 3179 },\r\n          { name: 'Encoder', size: 4060 },\r\n          { name: 'PropertyEncoder', size: 4138 },\r\n          { name: 'ShapeEncoder', size: 1690 },\r\n          { name: 'SizeEncoder', size: 1830 },\r\n        ],\r\n      },\r\n      {\r\n        name: 'filter',\r\n        children: [\r\n          { name: 'FisheyeTreeFilter', size: 5219 },\r\n          { name: 'GraphDistanceFilter', size: 3165 },\r\n          { name: 'VisibilityFilter', size: 3509 },\r\n        ],\r\n      },\r\n      { name: 'IOperator', size: 1286 },\r\n      {\r\n        name: 'label',\r\n        children: [\r\n          { name: 'Labeler', size: 9956 },\r\n          { name: 'RadialLabeler', size: 3899 },\r\n          { name: 'StackedAreaLabeler', size: 3202 },\r\n        ],\r\n      },\r\n      {\r\n        name: 'layout',\r\n        children: [\r\n          { name: 'AxisLayout', size: 6725 },\r\n          { name: 'BundledEdgeRouter', size: 3727 },\r\n          { name: 'CircleLayout', size: 9317 },\r\n          { name: 'CirclePackingLayout', size: 12003 },\r\n          { name: 'DendrogramLayout', size: 4853 },\r\n          { name: 'ForceDirectedLayout', size: 8411 },\r\n          { name: 'IcicleTreeLayout', size: 4864 },\r\n          { name: 'IndentedTreeLayout', size: 3174 },\r\n          { name: 'Layout', size: 7881 },\r\n          { name: 'NodeLinkTreeLayout', size: 12870 },\r\n          { name: 'PieLayout', size: 2728 },\r\n          { name: 'RadialTreeLayout', size: 12348 },\r\n          { name: 'RandomLayout', size: 870 },\r\n          { name: 'StackedAreaLayout', size: 9121 },\r\n          { name: 'TreeMapLayout', size: 9191 },\r\n        ],\r\n      },\r\n      { name: 'Operator', size: 2490 },\r\n      { name: 'OperatorList', size: 5248 },\r\n      { name: 'OperatorSequence', size: 4190 },\r\n      { name: 'OperatorSwitch', size: 2581 },\r\n      { name: 'SortOperator', size: 2023 },\r\n    ],\r\n  }\r\n];\r\n\r\nexport const pieChartData01 = [\r\n  { name: 'Group A', value: 400 },\r\n  { name: 'Group B', value: 300 },\r\n  { name: 'Group C', value: 300 },\r\n  { name: 'Group D', value: 200 }\r\n];\r\n\r\nexport const pieChartData02 = [\r\n  { name: 'A1', value: 100 },\r\n  { name: 'A2', value: 300 },\r\n  { name: 'B1', value: 100 },\r\n  { name: 'B2', value: 80 },\r\n  { name: 'B3', value: 40 },\r\n  { name: 'B4', value: 30 },\r\n  { name: 'B5', value: 50 },\r\n  { name: 'C1', value: 100 },\r\n  { name: 'C2', value: 200 },\r\n  { name: 'D1', value: 150 },\r\n  { name: 'D2', value: 50 }\r\n];\r\n\r\nexport const radialChartData = [\r\n  { name: '18-24', uv: 31.47, pv: 2400, fill: '#8884d8' },\r\n  { name: '25-29', uv: 26.69, pv: 4567, fill: '#83a6ed' },\r\n  { name: '30-34', uv: 15.69, pv: 1398, fill: '#8dd1e1' },\r\n  { name: '35-39', uv: 8.22, pv: 9800, fill: '#82ca9d' },\r\n  { name: '40-49', uv: 8.63, pv: 3908, fill: '#a4de6c' },\r\n  { name: '50+', uv: 2.63, pv: 4800, fill: '#d0ed57' },\r\n  { name: 'unknow', uv: 6.67, pv: 4800, fill: '#ffc658' }\r\n];\r\n","import React, { Component } from 'react';\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, LineChart, Line } from 'recharts';\r\nimport { AreaChart, Area } from 'recharts';\r\nimport { Treemap } from 'recharts';\r\nimport { PieChart, Pie } from 'recharts';\r\nimport { ScatterChart, Scatter } from 'recharts';\r\nimport { RadialBarChart, RadialBar } from 'recharts';\r\nimport { barChartData, treemapChartData, pieChartData01, pieChartData02, radialChartData } from '../../services/charts';\r\n\r\nclass Charts extends Component {\r\n  state = {\r\n    barChartData: [],\r\n    treemapChartData: [],\r\n    pieChartData01: [],\r\n    pieChartData02: [],\r\n    radialChartData: [],  \r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <BarChart width={600} height={300} data={barChartData}\r\n          margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\r\n          <XAxis dataKey=\"name\" />\r\n          <YAxis />\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <Tooltip />\r\n          <Legend />\r\n          <Bar dataKey=\"pv\" fill=\"#8884d8\" />\r\n          <Bar dataKey=\"uv\" fill=\"#82ca9d\" />\r\n        </BarChart>\r\n\r\n        <LineChart width={600} height={300} data={barChartData}>\r\n          <XAxis dataKey=\"name\" padding={{ left: 30, right: 30 }} />\r\n          <YAxis />\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <Tooltip />\r\n          <Legend />\r\n          <Line type=\"monotone\" dataKey=\"pv\" stroke=\"#8884d8\" activeDot={{ r: 8 }} />\r\n          <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#82ca9d\" />\r\n        </LineChart>\r\n\r\n        <AreaChart width={730} height={250} data={barChartData}\r\n          margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>\r\n          <defs>\r\n            <linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n              <stop offset=\"5%\" stopColor=\"#8884d8\" stopOpacity={0.8} />\r\n              <stop offset=\"95%\" stopColor=\"#8884d8\" stopOpacity={0} />\r\n            </linearGradient>\r\n            <linearGradient id=\"colorPv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n              <stop offset=\"5%\" stopColor=\"#82ca9d\" stopOpacity={0.8} />\r\n              <stop offset=\"95%\" stopColor=\"#82ca9d\" stopOpacity={0} />\r\n            </linearGradient>\r\n          </defs>\r\n          <XAxis dataKey=\"name\" />\r\n          <YAxis />\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <Tooltip />\r\n          <Area type=\"monotone\" dataKey=\"uv\" stroke=\"#8884d8\" fillOpacity={1} fill=\"url(#colorUv)\" />\r\n          <Area type=\"monotone\" dataKey=\"pv\" stroke=\"#82ca9d\" fillOpacity={1} fill=\"url(#colorPv)\" />\r\n        </AreaChart>\r\n\r\n        <Treemap\r\n          width={730}\r\n          height={250}\r\n          data={treemapChartData}\r\n          dataKey=\"size\"\r\n          aspectRatio={4 / 3}\r\n          stroke=\"#fff\"\r\n          fill=\"#8884d8\"\r\n        />\r\n\r\n        <PieChart width={800} height={400}>\r\n          <Pie dataKey=\"value\" data={pieChartData01} cx={200} cy={200} outerRadius={60} fill=\"#8884d8\" />\r\n          <Pie dataKey=\"value\" data={pieChartData02} cx={200} cy={200} innerRadius={70} outerRadius={90} fill=\"#82ca9d\" label />\r\n        </PieChart>\r\n\r\n        <ScatterChart width={730} height={250}\r\n          margin={{ top: 20, right: 20, bottom: 10, left: 10 }}>\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis dataKey=\"value\" name=\"stature\" unit=\"cm\" />\r\n          <YAxis dataKey=\"value\" name=\"weight\" unit=\"cm\" />\r\n          <Tooltip cursor={{ strokeDasharray: '3 3' }} />\r\n          <Legend />\r\n          <Scatter name=\"Data01\" data={pieChartData01} fill=\"#8884d8\" />\r\n          <Scatter name=\"Data02\" data={pieChartData02} fill=\"#82ca9d\" />\r\n        </ScatterChart>\r\n\r\n        <RadialBarChart width={730} height={250} innerRadius=\"10%\" outerRadius=\"80%\" data={radialChartData} startAngle={180} endAngle={0}>\r\n          <RadialBar angleAxisId={15} label={{ fill: '#666', position: 'insideStart' }} background dataKey='uv' />\r\n          <Legend iconSize={10} width={120} height={140} layout='vertical' verticalAlign='middle' align=\"right\" />\r\n          <Tooltip />\r\n        </RadialBarChart>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Charts;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nimport Button from '../shared/Button';\r\nimport State from '../../redux/State';\r\nimport TextField from '../shared/TextField';\r\nimport User from '../types/User';\r\nimport { addFriend, deleteRequest, getStuffiers, requestToBeFriend } from '../../services/stuffier';\r\nimport { mapFriends, mapIds } from '../helpers/UserHelper';\r\nimport { FriendsProps } from './types';\r\nimport './Friends.scss';\r\n\r\nclass Friends extends Component<FriendsProps, any> {\r\n  textField = React.createRef<TextField>();\r\n\r\n  state = {\r\n    requests: [],\r\n    emailToRequest: '',\r\n    message: null,\r\n    textfield: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { friendsRequests } = this.props;\r\n\r\n    if (friendsRequests.length > 0) {\r\n      getStuffiers(mapIds(friendsRequests))\r\n      .then(res => this.setState({ requests: res.data }));\r\n    }\r\n  }\r\n\r\n  executeRequest = (friend: User, isAccepted = false) => {\r\n    const { user } = this.props;\r\n    let promises = [deleteRequest(user.email, friend.id)];\r\n    isAccepted && promises.push(addFriend(user.email, friend.id));\r\n\r\n    Promise.all(promises)\r\n    .then((values: any) => {\r\n      console.log(values[0].data);\r\n      console.log('Request deleted');\r\n      if (isAccepted) {\r\n        console.log(values[1].data);\r\n        console.log('Friend added');\r\n      }\r\n    })\r\n    .catch(err => console.log(err));\r\n  }\r\n\r\n  renderRequests = () => {\r\n    const { requests } = this.state;\r\n\r\n    return (\r\n      <div className=\"friends__requests\">\r\n        <hr />\r\n        <h3 className=\"friends__title\">\r\n          <div>Requests</div>\r\n          <div className=\"friends__warning\">{requests.length}</div>\r\n        </h3>\r\n        <ul>\r\n          {requests.map((friend: User, index: number) => {\r\n            return (\r\n              <li className=\"friends__request\" key={index}>\r\n                <div className=\"friends__request-text\">\r\n                  {friend.first_name} {friend.last_name} ({friend.email})\r\n                </div>\r\n                <div className=\"friends__request-button\">\r\n                  <Button onClick={() => this.executeRequest(friend, true)} text=\"Accept\"></Button>\r\n                </div>\r\n                <div className=\"friends__request-button\">\r\n                  <Button onClick={() => this.executeRequest(friend)} text=\"Reject\"></Button>\r\n                </div>\r\n              </li>\r\n            )}\r\n          )}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleRequest = () => {\r\n    const { user } = this.props;\r\n    const { emailToRequest } = this.state;\r\n\r\n    requestToBeFriend(emailToRequest, user.id)\r\n    .then(() => this.setState({ message: 'Request sent succesfully', emailToRequest: '' }))\r\n    .catch(() => this.setState({ message: 'Request couldnt be sent', emailToRequest: '' }))\r\n  }\r\n\r\n  render() {\r\n    const { friends, t, user } = this.props;\r\n    const { requests, message, emailToRequest } = this.state;\r\n\r\n    console.log(requests);\r\n\r\n    return (\r\n      <div className=\"friends\">\r\n        <h2 className=\"friends__title\">{t('Friends-Title', { first_name: user.first_name })}</h2>\r\n        <ul>\r\n          {friends.map((friend: any) => (<li key={friend.id}>{friend.first_name} {friend.last_name} - {friend.email}</li>))}\r\n        </ul>\r\n        {requests.length > 0 && this.renderRequests()}\r\n        <hr />\r\n        <div>\r\n          <h3 className=\"friends__title\">{t('Add-Friend')}</h3>\r\n          <div className=\"friends__form\">\r\n            <TextField\r\n              placeholder=\"Friend Email\"\r\n              type=\"text\"\r\n              name=\"friend_email\"\r\n              value={emailToRequest}\r\n              onChange={(emailToRequest: string) => this.setState({ emailToRequest })}\r\n            >\r\n            </TextField>\r\n            <div className=\"friends__button\">\r\n              <Button text=\"Request\" onClick={() => this.handleRequest()}></Button>\r\n            </div>\r\n          </div>\r\n          {message && (<div className=\"friends__message\">{message}</div>)}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user,\r\n  friends: state.friends,\r\n  friendsRequests: state.friendsRequests\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(withTranslation()<any>(Friends));\r\n","import { map } from 'lodash';\r\n\r\nexport function mapFriends(friends: any) {\r\n  return map(friends, friend => {\r\n    return { id: friend.id_friend };\r\n  });\r\n}\r\n\r\nexport function mapIds(collection: any) {\r\n  return map(collection, collection => {\r\n    return { id: collection.id_friend };\r\n  });\r\n}\r\n","import XLSX from 'xlsx';\r\nimport Product from '../types/Product';\r\n\r\n// const excelType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\r\nconst excelfileExtension = '.xlsx';\r\n\r\nfunction capitalize(word: string) {\r\n  return word.charAt(0).toUpperCase() + word.slice(1);\r\n}\r\n\r\nfunction getArrayofArrays(productsArray: Array<Product>) {\r\n  return productsArray.map((product: Product) => {\r\n    return [product.id, product.name, product.category, product.subcategory];\r\n  });\r\n}\r\n\r\nfunction getColsName(product: any) {\r\n  return Object.keys(product).map((key: string) => capitalize(key))\r\n}\r\n\r\n/*\r\n*  This is to convert \r\n*  Products = { [category.id]: [ {id: 1, name: 'Product' ...} ] to\r\n*  Res = [ ['Id', 'Name', ...], [1, 'Product', ...] ]\r\n*  needed for XLSX.\r\n*/\r\nexport function getDataToExport(products: any) {\r\n  let data: Array<any> = [];\r\n\r\n  Object.keys(products).forEach(key => {\r\n    if (products[key].length > 0) {\r\n\r\n      // Setting cols names first\r\n      // [ ['id', 'name', ...]]\r\n      if (!data.length) {\r\n        data = [getColsName({\r\n          id: products[key][0].id,\r\n          name: products[key][0].name,\r\n          category: products[key][0].category,\r\n          subcategory: products[key][0].subcategory\r\n        })];\r\n      }\r\n\r\n      let arrayOfCategory = getArrayofArrays(products[key]);\r\n      data = [...data, ...arrayOfCategory];\r\n    }\r\n  });\r\n\r\n  return data;\r\n}\r\n\r\n/*\r\n*  XLSX GitHub project\r\n*  https://github.com/SheetJS/sheetjs\r\n*  Example: https://sheetjs.com/demos/writexlsx.html \r\n*/\r\nexport function downloadExcel(products: any, fileName: string) {\r\n  const data = getDataToExport(products);\r\n\r\n  let worsheet_name = \"Products_Sheet\";\r\n  let worksheet_book = XLSX.utils.book_new();\r\n\r\n  /* convert from array of arrays to workbook */\r\n  let worksheet = XLSX.utils.aoa_to_sheet(data);\r\n\r\n  /* add worksheet to workbook */\r\n  XLSX.utils.book_append_sheet(worksheet_book, worksheet, worsheet_name);\r\n  XLSX.writeFile(worksheet_book, `${fileName}${excelfileExtension}`);\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { map } from 'lodash';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Category from '../types/Category';\r\nimport State from '../../redux/State';\r\nimport Stuff from '../types/Stuff';\r\nimport { ProductsProps } from '../sections/types';\r\nimport { downloadExcel } from '../helpers/DownloadHelper';\r\nimport './Products.scss';\r\n\r\nclass Products extends Component<ProductsProps, any> {\r\n  generateReport = (event: any) => {\r\n    const { products, user } = this.props;\r\n\r\n    downloadExcel(products, `${user.first_name}_products`);\r\n  }\r\n\r\n  render() {\r\n    const { categories, products, user } = this.props;\r\n\r\n    return (\r\n      <div className=\"products\">\r\n        <div className=\"products__title\">\r\n          <h3>{user.first_name} Stuff</h3>\r\n          <div className=\"products__add-product\">\r\n            <Link to={`/product/add`}>Add Product</Link>\r\n          </div>\r\n        </div>\r\n        <hr />\r\n        {!products && (<div>No Stuff! Add Products!</div>)}\r\n        {products &&\r\n          (<div>\r\n            {categories.map((category: Category) => {\r\n              if (!products[category.id as number] || !products[category.id as number].length) return (<div key={category.id}></div>);\r\n\r\n              return (\r\n                <div key={category.id}>\r\n                  <h4>{category.name}</h4>\r\n                  <ul>\r\n                    {map(products[category.id as number], (object: Stuff) => {\r\n                      return (\r\n                        <li key={object.id}><Link to={`/product/${object.id}`}>{object.name}</Link></li>\r\n                      )\r\n                    })}\r\n                  </ul>\r\n                </div>\r\n              )\r\n            })}\r\n            <hr />\r\n            <button onClick={event => this.generateReport(event)}>Generate Report</button>\r\n          </div>)\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user,\r\n  categories: state.categories,\r\n  products: state.products\r\n});\r\n\r\nexport { Products as ProductsComponent };\r\nexport default connect(mapStateToProps, {})(Products);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Loading from '../shared/Loading';\r\nimport Media from '../shared/Media';\r\nimport Stuff  from '../types/Stuff';\r\nimport { ProductProps, ProductState } from '../sections/types';\r\nimport { fetchProduct } from '../../redux/products/actions';\r\nimport { fetchCategory } from '../../redux/categories/actions';\r\nimport { fetchSubCategory } from '../../redux/subcategories/actions';\r\n\r\nclass Product extends Component<ProductProps, ProductState> {\r\n  state: Readonly<ProductState> = {\r\n    product: null,\r\n    categoryName: null,\r\n    subcategoryName: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { fetchCategory, fetchSubCategory, fetchProduct } = this.props;\r\n    const { product } = this.state;\r\n\r\n    if (!product) {\r\n      const id = this.props.match.params.id;\r\n\r\n      fetchProduct(id)\r\n        .then((res: any) => res.data[0])\r\n        .then((product: Stuff) => {\r\n          this.setState({ product });\r\n          return Promise.all([fetchCategory(product.category), fetchSubCategory(product.subcategory)])\r\n        })\r\n        .then((values: any) => {\r\n          console.log(values);\r\n          this.setState({ categoryName: values[0].data[0].name, subcategoryName: values[1].data[0].name });\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { categoryName, subcategoryName, product } = this.state;\r\n\r\n    if (!product) return <Loading size=\"lg\" message=\"Loading product...\" />;\r\n\r\n    return (\r\n      <div className=\"product\">\r\n        <h3>{ product.name }</h3>\r\n        <hr />\r\n          <Media\r\n            fileName={product.id}\r\n            category={product.category}\r\n            subcategory={product.subcategory}\r\n            isProduct=\"true\"\r\n            height=\"200\"\r\n            width=\"100\" />\r\n        <hr />\r\n        {categoryName && (<div>Category: { categoryName } </div>)}\r\n        {subcategoryName && (<div>Subcategory: { subcategoryName } </div>)}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapDispatchProps = {\r\n  fetchCategory,\r\n  fetchSubCategory,\r\n  fetchProduct,\r\n};\r\n\r\nexport default connect(null, mapDispatchProps)(Product);\r\n","import React, { Component } from 'react';\r\n\r\nclass Support extends Component {\r\n  render() {\r\n    return (\r\n      <iframe \r\n      src='https://webchat.botframework.com/embed/StuffieBot?s=fkpQavtTB78.cwA.pjM.9djZJuhRob4Mt-Lb5-1Wk7yrsHtLAxOKIL6w3gE4910'\r\n      title='WebChat' />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Support;\r\n","import React, { Component } from 'react';\r\nimport Tesseract from 'tesseract.js';\r\nimport TicketsState from './types';\r\n\r\nclass Tickets extends Component<any, TicketsState> {\r\n  state = {\r\n    file: '',\r\n    progressValue: 0\r\n  }\r\n\r\n  handleChange(event: any) {\r\n    if (event && event.target && event.target.files) {\r\n      const file = event.target.files[0] as File;\r\n      this.setState({ file });\r\n    }\r\n  }\r\n\r\n  handleSubmit(event: any) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    Tesseract.recognize(this.state.file, 'eng')\r\n      .progress(this.progressUpdate)\r\n      .then(this.result)\r\n  }\r\n\r\n  result(res: any) {\r\n    var log = document.getElementById('info') as HTMLElement;\r\n    var result = document.getElementById('result') as HTMLElement;\r\n\r\n    log.innerHTML = 'Finished!';\r\n    result.innerHTML = res ? res.text : '';\r\n  }\r\n\r\n  progressUpdate(packet: any) {\r\n    if ('progress' in packet) {\r\n      var progress = document.querySelector('progress') as any;\r\n      progress.value = packet.progress;\r\n      progress.max = 1;\r\n      (document.getElementById(\"info\") as HTMLElement).innerHTML = `Analyzing file...`;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"tickets\">\r\n        <h3>Tickets</h3>\r\n        <div className=\"ticketsForm\">\r\n          <form onSubmit={event => this.handleSubmit(event)}>\r\n            <input type='file' id='fileId' name='fileName'\r\n              onChange={event => this.handleChange(event)} />\r\n            <hr />\r\n            <input type=\"submit\" value=\"Analyze\" disabled={!this.state.file} />\r\n          </form>\r\n        </div>\r\n        <hr />\r\n        <div id=\"status\" className=\"ticketsStatus\">\r\n          <progress value={this.state.progressValue} max=\"100\"></progress>\r\n          <span id=\"statusInfo\" className=\"statusInfo\">\r\n            Status: <span id=\"info\" />\r\n          </span>\r\n        </div>\r\n        <hr />\r\n        <div id=\"result\"></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tickets;\r\n","import React, { Component } from 'react';\r\nimport crypto from '../../config/crypto';\r\n\r\nclass Test extends Component<any, any> {\r\n\r\n  authenticate = () => {\r\n    // TEST - ENCRYPT\r\n    console.log(`secreto: ${crypto.encrypt(\"secreto\")}`);\r\n    console.log(`mario: ${crypto.encrypt(\"mario\")}`);\r\n    console.log(`doc: ${crypto.encrypt(\"secrdoceto\")}`);\r\n    console.log(`merol: ${crypto.encrypt(\"merol\")}`);\r\n  }\r\n\r\n  getStuff = () => {\r\n    let stuff = [\r\n      { id: 1, name: 'Carlos Reyes 1' },\r\n      { id: 2, name: 'Carlos Reyes 2' },\r\n      { id: 1, name: 'Carlos Reyes 1' },\r\n      { id: 3, name: 'Carlos Reyes 3' },\r\n    ];\r\n\r\n    let r = [1, 1, 2, 3, 4, 5];\r\n\r\n    return r.filter((item, index) => {\r\n      return r.indexOf(item) === index;\r\n    });\r\n  }\r\n\r\n  reverseStuff(name: string) {\r\n    return name.split('').reverse().join('');\r\n  }\r\n\r\n  render() {\r\n    this.authenticate();\r\n    const x = this.getStuff();\r\n    const a = this.reverseStuff('unodostres');\r\n    return (\r\n      <div>\r\n        <span>This is my test = {a}</span>\r\n        <span>This is my other test = {x}</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Test;\r\n","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport AddCategory from '../content/AddCategory';\r\nimport AddProduct from '../content/AddProduct';\r\nimport Admin from '../admin/Admin';\r\nimport CategoryPage from '../content/CategoryPage';\r\nimport Content from '../content/Content';\r\nimport Charts from '../apps/Charts';\r\nimport Friends from '../content/Friends';\r\nimport Products from '../content/Products';\r\nimport Product from '../content/Product';\r\nimport Support from '../apps/Support';\r\nimport Tickets from '../apps/Tickets';\r\nimport Test from '../apps/Test';\r\nimport { MainRoutesProps } from './types';\r\n\r\nclass MainRoutes extends Component<MainRoutesProps, any> {\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Content} />\r\n        <Route path=\"/admin\" component={Admin} />\r\n        <Route path=\"/friends\" component={Friends} />\r\n        <Route path=\"/products\" component={Products} />\r\n        <Route path=\"/product/add\" component={AddProduct} />\r\n        <Route path=\"/product/:id\" render={props => <Product { ...props } />} />\r\n        <Route path=\"/category/add\" render={()=> <AddCategory type='category' />} />\r\n        <Route path=\"/category/:id\" render={props => <CategoryPage { ...props } { ...this.props } />} />\r\n        <Route path=\"/subcategory/add\" render={()=> <AddCategory type='subcategory' />} />\r\n        <Route path=\"/charts\" component={Charts} />\r\n        <Route path=\"/support\" component={Support} />\r\n        <Route path=\"/tickets\" component={Tickets} />\r\n        <Route path=\"/test\" component={Test} />        \r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MainRoutes;\r\n","import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"footer\">\r\n        <hr />\r\n        Stuffie&trade; is a platform coded and registered by &nbsp;\r\n        <a href=\"http://stuffie.azurewebsites.net/PM_Carlos-Reyes2.html\" target=\"_blank\">Carlos Reyes-Rico</a>.\r\n  </div>\r\n\r\n    );\r\n  }\r\n};\r\n\r\nexport default Footer;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Loading from '../shared/Loading';\r\nimport TextField from '../shared/TextField';\r\nimport { getSearchResults } from '../../services/stuff';\r\nimport './SearchBar.scss';\r\n\r\nclass SearchBar extends Component<any, any> {\r\n  source: any = null;\r\n\r\n  state = {\r\n    isLoading: false,\r\n    isOpen: false,\r\n    results: []\r\n  };\r\n\r\n  handleClickOutside() {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  open = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  toggle = () => {\r\n    this.setState({ isOpen: !this.state.isOpen });\r\n  }\r\n\r\n  fetchResults = (searchText: string) => {\r\n    const { products } = this.props;\r\n\r\n    this.source && this.source.cancel('Cancel pending requests.');\r\n    this.source = axios.CancelToken.source();\r\n    this.setState({ isOpen: true, isLoading: true });\r\n\r\n    if (searchText) {\r\n      getSearchResults(searchText, products, this.source.token).then((results: any) => {\r\n        if (results.length) {\r\n          this.setState({ results, isOpen: true, isLoading: false });\r\n        } else {\r\n          this.setState({ isOpen: false, isLoading: false });\r\n        }\r\n      });\r\n    } else {\r\n      this.setState({ isOpen: false, isLoading: false });\r\n    }\r\n  }\r\n\r\n  renderResults() {\r\n    const { results } = this.state;\r\n\r\n    if (results.length) {\r\n      return (\r\n        <div className=\"search__results\">\r\n          {results.map((result: any, index: number) => {\r\n            return (\r\n              <div className=\"search__result\">\r\n              <Link key={index} className=\"search__result-link\" to={this.getLinkTo(result)}>\r\n                <div className=\"search__result-info\">\r\n                  <div className=\"search__result-name\">{result.name}</div>\r\n                  <div className={`search__result-type search__result-${result.type[0]}`}>| {result.type[0]}</div>\r\n                </div>                 \r\n              </Link>\r\n              </div>);\r\n          })}\r\n        </div>\r\n      );  \r\n    }\r\n  }\r\n\r\n  getLinkTo = (result: any) => {\r\n    return { pathname: `/${result.type.toLowerCase()}/${result.id}`, [result.type.toLowerCase()]: result.name };\r\n  }\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n    const isOpen = this.state.isOpen ? 'dropdown--is-open' : '';\r\n\r\n    return (\r\n      <div className=\"search-bar\">\r\n        <div className=\"search-bar__form\">\r\n          <TextField \r\n            name=\"search\"\r\n            type=\"input\"\r\n            placeholder=\"Find stuff...\"\r\n            onChange={(value: string) => this.fetchResults(value)}\r\n          >\r\n          </TextField>\r\n          <div className=\"search-bar__button\">\r\n            <i className=\"fas fa-search\"></i>\r\n          </div>\r\n        </div>\r\n        <div className=\"search-bar__content-container\">\r\n          <div className={`search-bar__content ${isOpen}`}>\r\n            {isLoading && <Loading size=\"md\"></Loading>}\r\n            {!isLoading && this.renderResults()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nimport Media from '../shared/Media';\r\nimport SearchBar from '../shared/SearchBar';\r\nimport State from '../../redux/State';\r\nimport { HeaderProps, HeaderState } from './types';\r\nimport { logout } from '../../redux/user/actions';\r\nimport { fetchUserRequests } from '../../redux/user-requests/actions';\r\nimport './Header.scss';\r\n\r\nclass Header extends Component<HeaderProps, any> {\r\n  componentDidMount() {\r\n    const { fetchUserRequests, user, userRequests } = this.props;\r\n    \r\n    if (userRequests && userRequests.length === 0) {\r\n      user.admin && fetchUserRequests().then((res: any) => this.setState({ userRequests: res }));\r\n    } else {\r\n      this.setState({ userRequests });\r\n    }\r\n  }\r\n\r\n  handleLogout = (event: any) => {\r\n    const { logout, history } = this.props;\r\n\r\n    event.preventDefault();\r\n\r\n    logout();\r\n    history.push('/');\r\n  }\r\n\r\n  render() {\r\n    const { friendsRequests, products, t, user, userRequests } = this.props;\r\n\r\n    if (!t) return;\r\n\r\n    return (\r\n      <div className=\"stuffie-header\">\r\n        <div className=\"stuffie-header__left\">\r\n          <div className=\"stuffie-header__info\">\r\n            <div className=\"stuffie-header__logo\">\r\n              <Media fileName=\"logo_2020\" format=\"jpg\" height=\"50\" width=\"50\" />\r\n            </div>\r\n            <div className='stuffie-header__user'>Stuffie</div>\r\n          </div>\r\n          <div className='stuffie-header__sections'>\r\n            <div className='stuffie-header__section-item'><Link to='/'>{t('Feed')}</Link></div>\r\n            <div className='stuffie-header__section-item'>\r\n              <Link to='/friends'>{t('Friends')}</Link>\r\n              {friendsRequests.length > 0 && (<div className=\"stuffie-header__warning\">{friendsRequests.length}</div>)}\r\n            </div>\r\n            <div className='stuffie-header__section-item'><Link to='/products'>{t('Products')}</Link></div>\r\n            {user.admin && (\r\n              <div className='stuffie-header__section-item'>\r\n                <Link to='/admin'>{t('Admin')}</Link>\r\n                {userRequests.length > 0 && (<div className=\"stuffie-header__warning\">{userRequests.length}</div>)}\r\n              </div>\r\n            )}\r\n            <div className=\"stuffie-header__logout\"><a onClick={this.handleLogout}>{t('Logout')}</a></div>\r\n          </div>\r\n        </div>\r\n        <div className=\"stuffie-header__search\">\r\n          <SearchBar products={products}></SearchBar>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user,\r\n  userRequests: state.userRequests,\r\n  friendsRequests: state.friendsRequests,\r\n  products: state.products\r\n});\r\n\r\nconst mapDispatchProps = {\r\n  fetchUserRequests,\r\n  logout\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(withTranslation()<any>(withRouter<any, React.ComponentClass<any>>(Header)));\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nimport Category from '../types/Category';\r\nimport State from '../../redux/State';\r\nimport { MenuProps, MenuState } from './types';\r\nimport './Menu.scss';\r\n\r\nclass Menu extends Component<MenuProps, MenuState> {\r\n  renderCategories = () => {\r\n    const { categories, products } = this.props;\r\n\r\n    if (!categories) return;\r\n\r\n    if (!products) return;\r\n\r\n    return categories\r\n            .filter((category: Category) => products[category.id] && products[category.id].length)\r\n            .map(category => {\r\n              const newTo = { pathname: `/category/${category.id}`, category: category.name };\r\n              return (\r\n              <div key={category.id} className=\"menu__category\">\r\n                <Link className=\"\" key={category.id} to={newTo}>{category.name}</Link>\r\n              </div>);\r\n            });\r\n  }\r\n\r\n  render() {\r\n    const { products, t } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <div className='menu__title'>{t('Summary')}</div>\r\n        {!products && <div>No products</div>}\r\n        <div className=\"menu__list\">\r\n          { this.renderCategories() }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user,\r\n  categories: state.categories,\r\n  products: state.products\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(withTranslation()<any>(Menu));\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nimport Apps from '../sections/Apps';\r\nimport Chat from '../sections/Chat';\r\nimport MainRoutes from './MainRoutes';\r\nimport Footer from '../sections/Footer';\r\nimport Header from '../sections/Header';\r\nimport Menu from '../sections/Menu';\r\nimport State from '../../redux/State';\r\n\r\nimport { MainProps } from './types'; \r\nimport './Main.scss';\r\n\r\nclass Main extends Component<MainProps, any> {\r\n  render() {\r\n    const { user, t } = this.props;\r\n\r\n    return (\r\n      <div className=\"stuffie\">\r\n        <div className=\"stuffie__header\">\r\n          <Header />\r\n        </div>\r\n        <div className=\"stuffie__main\">\r\n          <div className=\"stuffie__menu\">\r\n            <Menu />\r\n          </div>\r\n          <div className=\"stuffie__content\">\r\n            <MainRoutes />\r\n          </div>\r\n          <div className=\"stuffie__right\">\r\n            <div className=\"stuffie__user\">\r\n              {user.picture && (<img src={user.picture}></img>)}\r\n              <div className=\"stuffie__welcome\">{t('Welcome')} {user.first_name}</div>\r\n            </div>\r\n            <div className=\"stuffie__apps\">\r\n              <Apps />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"stuffie_footer\">\r\n          <Footer />\r\n        </div>\r\n        <Chat />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(withTranslation()<any>(Main));\r\n","import {  makeStandardActionCreator } from '../action-helpers';\r\nimport { FRIENDS_FETCHED } from './constants';\r\nimport { getFriends, getStuffiers } from '../../services/stuffier';\r\nimport { mapFriends } from '../../components/helpers/UserHelper';\r\n\r\nconst friendsFetched = makeStandardActionCreator(FRIENDS_FETCHED);\r\nexport const fetchFriends = (email) => dispatch => {    // makePaginatedApiActionCreator(getFriends, friendsFetched);\r\n  return getFriends(email)\r\n  .then(res => getStuffiers(mapFriends(res.data)))\r\n  .then(res => {\r\n    const friends = res.data;\r\n    dispatch(friendsFetched(friends, email));\r\n    return Promise.resolve(friends);\r\n  });\r\n}\r\n","export const FRIENDS_FETCHED = 'MENU::FRIENDS_FETCHED';\r\n","import { makePaginatedApiActionCreator, makeStandardActionCreator } from '../action-helpers';\r\nimport { FRIENDS_REQUESTS_FETCHED } from './constants';\r\nimport { getFriendsRequests } from '../../services/stuffier';\r\n\r\nconst friendsRequestsFetched = makeStandardActionCreator(FRIENDS_REQUESTS_FETCHED);\r\nexport const fetchFriendsRequests = makePaginatedApiActionCreator(getFriendsRequests, friendsRequestsFetched);\r\n","export const FRIENDS_REQUESTS_FETCHED = 'MENU::FRIENDS_REQUESTS_FETCHED';\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Loading from '../shared/Loading';\r\nimport Main from './Main';\r\nimport State from '../../redux/State';\r\nimport { FetchDataProps } from './types';\r\n\r\nimport { fetchCategories } from '../../redux/categories/actions';\r\nimport { fetchFriends } from '../../redux/friends/actions';\r\nimport { fetchFriendsRequests } from '../../redux/friends-requests/actions';\r\nimport { fetchProducts } from '../../redux/products/actions';\r\nimport { fetchSubCategories } from '../../redux/subcategories/actions';\r\nimport './FetchData.scss';\r\n\r\nclass FetchData extends Component<FetchDataProps, any> {\r\n  state = {\r\n    isLoading: true\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  fetchData = () => {\r\n    const { user, categories, fetchCategories, fetchFriends,\r\n      fetchSubCategories, fetchProducts, fetchFriendsRequests } = this.props;\r\n\r\n    let promises = [\r\n      fetchCategories(),                  // values[0]\r\n      fetchSubCategories(),               // values[1]\r\n      fetchFriends(user.email),           // values[2]\r\n      fetchFriendsRequests(user.email),   // values[3]\r\n    ];\r\n\r\n    Promise.all(promises)\r\n    .then((values: any) => fetchProducts(user, values[0].data))\r\n    .catch((error: any) => console.log(error))\r\n    .finally(() => this.setState({ isLoading: false }));\r\n  }\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n\r\n    if (isLoading) {\r\n      return (\r\n        <div className=\"fetch-data__loading\">\r\n          <Loading size=\"xl\" message=\"Loading data and products...\" />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Main />);\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user,\r\n  userRequests: state.userRequests,\r\n  categories: state.categories,\r\n  subcategories: state.subcategories,\r\n  friends: state.friends,\r\n  products: state.products\r\n});\r\n\r\nconst mapDispatchProps = {\r\n  fetchCategories,\r\n  fetchFriends,\r\n  fetchFriendsRequests,\r\n  fetchProducts,\r\n  fetchSubCategories,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(FetchData);\r\n","import { forEach, isEmpty, map } from 'lodash';\r\n\r\nimport Category from '../types/Category';\r\nimport ProductsMap from '../types/ProductsMap';\r\n\r\nexport function mapStuff(stuff: any) {\r\n  return map(stuff, (object: any) => {\r\n    return { id: object.id_stuff };\r\n  });\r\n}\r\n\r\nexport function getProductsMap(categories: Category[], objects: any): ProductsMap {\r\n  let productsMap: ProductsMap = {};\r\n\r\n  forEach(categories, (category: Category) => {\r\n    productsMap = {\r\n      ...productsMap,\r\n      [category.id as number]: [],\r\n    };\r\n  });\r\n\r\n  if (!isEmpty(productsMap)) {\r\n    // Filling products per category\r\n    forEach(objects, (object: any) => {\r\n      productsMap[object.category].push(object);\r\n    });\r\n  }\r\n\r\n  return productsMap;\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Button from '../shared/Button';\r\nimport Loading from '../shared/Loading';\r\nimport State from '../../redux/State';\r\nimport TextField from '../shared/TextField';\r\nimport User from '../types/User';\r\nimport { RegisterProps } from './types';\r\nimport { registerUser } from '../../redux/user/actions';\r\n\r\nimport './Register.scss';\r\n\r\nclass Register extends Component<RegisterProps, any> {\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    isLoading: false\r\n  }\r\n\r\n  enableButton() {\r\n    const { email, password, firstName, lastName } = this.state;\r\n\r\n    return email.length > 0 &&\r\n      password.length > 0 &&\r\n      firstName.length > 0 &&\r\n      lastName.length > 0;\r\n  }\r\n\r\n  handleSubmit = (event: React.FormEvent<EventTarget>) => {\r\n    const { registerUser } = this.props;\r\n    const { email, password, firstName, lastName } = this.state;\r\n    const user: User = { email, password, first_name: firstName, last_name: lastName, admin: false };\r\n\r\n    event.preventDefault();\r\n    this.setState({ isLoading: true });\r\n\r\n    registerUser(user)\r\n    .then((res: any) => {\r\n      localStorage.setItem('username', res.email);\r\n      alert(\"Register Successful\");\r\n    })\r\n    .catch((error: any) => alert(error))\r\n    .finally(() => this.setState({ isLoading: false }));\r\n  }\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n\r\n    return (\r\n      <div className=\"register\">\r\n        <h1>Register</h1>\r\n        <form className=\"register__form\" onSubmit={event => this.handleSubmit(event)} >\r\n          <div className=\"register__content\">\r\n            <div className=\"register__row\">\r\n              <div className=\"register__text\">Email</div>\r\n              <TextField\r\n                type=\"text\"\r\n                name=\"email\"\r\n                placeholder=\"Email\"\r\n                disabled={isLoading}\r\n                onChange={(email: string) => this.setState({ email })} />\r\n            </div>\r\n            <div className=\"register__row\">\r\n              <div className=\"register__text\">Password</div>\r\n              <TextField\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Password\"\r\n                disabled={isLoading}\r\n                onChange={(password: string) => this.setState({ password })} />\r\n            </div>\r\n            <div className=\"register__row\">\r\n              <div className=\"register__text\">First Name</div>\r\n              <TextField\r\n                type=\"text\"\r\n                name=\"firstName\"\r\n                placeholder=\"First Name\"\r\n                disabled={isLoading}\r\n                onChange={(firstName: string) => this.setState({ firstName })} />\r\n            </div>\r\n            <div className=\"register__row\">\r\n              <div className=\"register__text\">Last Name</div>\r\n              <TextField\r\n                type=\"text\"\r\n                name=\"lastName\"\r\n                placeholder=\"Last Name\"\r\n                disabled={isLoading}\r\n                onChange={(lastName: string) => this.setState({ lastName })} />\r\n            </div>\r\n          </div>\r\n          <div className=\"register__button\">\r\n            <Button type=\"submit\" text=\"Register\" disabled={!this.enableButton() || isLoading}></Button>\r\n            {isLoading && (<div className=\"register__loading\"><Loading size=\"md\" /></div>)}\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user\r\n});\r\n\r\nconst mapDispatchProps = {\r\n  registerUser\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(withRouter<any, React.ComponentClass<any>>(Register));\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { get, isEmpty } from 'lodash';\r\n\r\nimport Loading from '../shared/Loading';\r\nimport Login from './Login';\r\nimport FetchData from './FetchData';\r\nimport Register from './Register';\r\nimport State from '../../redux/State';\r\nimport { fetchUser, logout } from '../../redux/user/actions';\r\nimport './Auth.scss';\r\n\r\nclass Auth extends Component<any, any> {\r\n  state = {\r\n    error: null,\r\n    isLoading: true\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { fetchUser } = this.props;\r\n\r\n    if(localStorage.getItem('username')) {\r\n      fetchUser(localStorage.getItem('username'))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n    } else {\r\n      this.setState({ isLoading: false });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.props;\r\n    const { isLoading } = this.state;\r\n    const request = get(user, 'request');\r\n\r\n    if (isLoading) {\r\n      return (\r\n        <div className=\"auth__loading\">\r\n          <Loading size=\"xl\" message=\"Loading\" />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (isEmpty(user) || request) {\r\n      if (request) {\r\n        alert(\"User registered, wait for authorization. Don't register again\");\r\n        logout();\r\n      }\r\n  \r\n      return (\r\n        <div className=\"auth\">\r\n          <Register />\r\n          <div className=\"auth__line\"></div>\r\n          <Login />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (!isEmpty(user)) {\r\n      return <FetchData />\r\n    }\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user\r\n});\r\n\r\nconst mapDispatchProps = {\r\n  fetchUser\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(Auth);\r\n","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nimport Auth from './Auth';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\n\r\nclass Routes extends Component<any, any> {  \r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/\" component={Auth} />\r\n        <Route path=\"/login\" component={Login} />\r\n        <Route path=\"/register\" component={Register} />\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTranslation()<any>(Routes);\r\n","import React, { Component } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { I18nextProvider, withTranslation } from 'react-i18next';\nimport { Provider } from 'react-redux';\n\nimport i18n from './config/i18n';\nimport Routes from './components/main/Routes';\nimport './App.scss';\nimport '../node_modules/@fortawesome/fontawesome-free/css/all.css';\n\nclass App extends Component<any, any>{\n\trender() {\n\t\tconst { store } = this.props;\n\n\t\treturn (\n\t\t\t<div className=\"stuffie__app\">\n\t\t\t\t<Provider store={store}>\n\t\t\t\t\t<I18nextProvider i18n={ i18n }>\n\t\t\t\t\t\t<BrowserRouter>\n\t\t\t\t\t\t\t<Routes />\n\t\t\t\t\t\t</BrowserRouter>\n\t\t\t\t\t</I18nextProvider>\n\t\t\t\t</Provider>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default withTranslation()<any>(App);\n","import { combineReducers } from 'redux';\r\nimport { REVOKE_USER } from './constants';\r\n\r\n// For reducers\r\nimport categories from './categories/reducer';\r\nimport friends from './friends/reducer';\r\nimport products from './products/reducer';\r\nimport subcategories from './subcategories/reducer';\r\nimport user from './user/reducer';\r\nimport userRequests from './user-requests/reducer';\r\nimport friendsRequests from './friends-requests/reducer';\r\n\r\n// To add object in state:\r\n// 1. Add reducer here\r\n// 2. Add type in State.ts\r\nconst appReducer = combineReducers({\r\n  user,\r\n  userRequests,\r\n  categories,\r\n  friends,\r\n  friendsRequests,\r\n  products,\r\n  subcategories,\r\n});\r\n\r\nconst rootReducer = (state, action) => {\r\n  if (action.type === REVOKE_USER) {\r\n    // Reducers are supposed to return the initial state when\r\n    // they are called with undefined as the first argument.\r\n    state = undefined;\r\n  }\r\n\r\n  return appReducer(state, action);\r\n};\r\n\r\nexport default rootReducer;\r\n","import { LOGIN_USER_FETCHED, USER_FETCHED, USER_PICTURE_ADDED } from './constants';\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case LOGIN_USER_FETCHED:\r\n      return action.payload;\r\n    case USER_FETCHED:\r\n      return action.payload;\r\n    case USER_PICTURE_ADDED:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { USER_REQUESTS_FETCHED, USER_REQUEST_DELETED } from './constants';\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case USER_REQUESTS_FETCHED:\r\n      return action.payload;\r\n    case USER_REQUEST_DELETED:\r\n      const userRequests = state.filter(item => item._id !== action.payload._id);\r\n      return userRequests;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { CATEGORY_ADDED, CATEGORIES_FETCHED, CATEGORY_FETCHED } from './constants';\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case CATEGORY_ADDED:\r\n      const category = action.payload;\r\n      return [...state, { _id: category._id, id: category.id, name: category.name }];\r\n    case CATEGORIES_FETCHED:\r\n      return action.payload;\r\n    case CATEGORY_FETCHED:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FRIENDS_FETCHED } from './constants';\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case FRIENDS_FETCHED:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FRIENDS_REQUESTS_FETCHED } from './constants';\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case FRIENDS_REQUESTS_FETCHED:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { PRODUCT_ADDED, PRODUCTS_FETCHED } from './constants';\r\n\r\n//PRODUCT_FETCHED,\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case PRODUCT_ADDED:\r\n      return [\r\n        ...state.products,\r\n        action.payload,\r\n      ];\r\n    // case PRODUCT_FETCHED:\r\n    //   return action.payload || null;\r\n    case PRODUCTS_FETCHED:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { SUBCATEGORY_ADDED, SUBCATEGORIES_FETCHED, SUBCATEGORY_FETCHED } from './constants';\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case SUBCATEGORY_ADDED:\r\n      const subcategory = action.payload;\r\n      return [...state, { _id: subcategory._id, id: subcategory.id, name: subcategory.name }];\r\n    case SUBCATEGORIES_FETCHED:\r\n      return action.payload;\r\n    case SUBCATEGORY_FETCHED:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { applyMiddleware, createStore, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport App from './App';\nimport reducersApp from './redux/reducers';\nimport { unregister } from './serviceWorker';\n\nimport './sass/main.scss';\nimport './index.css';\n\nlet middleware = [thunk];\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\nmiddleware.push(require('redux-freeze'));\nconst store = createStore(reducersApp, composeEnhancers(applyMiddleware(...middleware)));\n\nReactDOM.render(\n  <App store={ store }/>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nunregister();\n"],"sourceRoot":""}