{"version":3,"sources":["config/i18n.js","components/shared/types.ts","components/shared/Loading.tsx","components/shared/Button.tsx","components/shared/TextField.tsx","services/config.js","redux/action-helpers.js","services/routes.js","config/crypto.js","services/stuffier.js","redux/user/actions.js","redux/user/constants.js","components/main/Login.tsx","config/options.js","components/shared/Menu.tsx","components/sections/Apps.tsx","components/sections/Chat.js","services/stuff.js","redux/categories/actions.js","redux/categories/constants.js","redux/subcategories/actions.js","redux/subcategories/constants.js","components/content/AddCategory.tsx","components/shared/DropDown.tsx","components/shared/WarningMessage.tsx","components/helpers/StuffHelper.ts","redux/products/constants.js","redux/products/actions.js","components/content/AddProduct.tsx","redux/user-requests/actions.js","redux/user-requests/constants.js","components/admin/Admin.tsx","components/content/CategoryPage.tsx","services/cloudinary-helper.js","components/shared/Media.jsx","components/content/FeedRow.tsx","redux/friends/actions.js","redux/friends/constants.js","components/content/Content.tsx","services/charts.js","components/apps/Charts.tsx","components/shared/SearchBar.tsx","redux/exchange-requests/actions.js","redux/exchange-requests/constants.js","components/apps/Exchange.tsx","services/exchange.js","components/content/Friends.tsx","components/helpers/UserHelper.ts","components/helpers/DownloadHelper.ts","components/content/Products.tsx","components/content/Product.tsx","components/apps/Support.tsx","components/apps/Tickets.tsx","components/apps/Test.tsx","components/main/MainRoutes.tsx","components/sections/Footer.tsx","components/sections/Header.tsx","redux/constants.js","components/sections/Menu.tsx","components/main/Main.tsx","redux/friends-requests/actions.js","redux/friends-requests/constants.js","redux/pending-products/actions.js","redux/pending-products/constants.js","components/main/FetchData.tsx","components/main/Register.tsx","components/main/Auth.tsx","components/main/Routes.tsx","App.tsx","redux/reducers.js","redux/user/reducer.js","redux/user-requests/reducer.js","redux/categories/reducer.js","redux/friends/reducer.js","redux/friends-requests/reducer.js","redux/products/reducer.js","redux/subcategories/reducer.js","redux/exchange-requests/reducer.js","redux/pending-products/reducer.js","serviceWorker.js","index.js"],"names":["i18n","use","initReactI18next","init","lng","resources","en","es","fallbackLng","debug","process","ns","defaultNS","keySeparator","interpolation","escapeValue","formatSeparator","react","wait","err","t","console","info","language","WarningMessageType","Loading","this","props","size","message","getSize","react_default","a","createElement","className","react_loading_default","type","color","height","width","Component","Button","_this$props","disabled","text","onClick","event","TextField","name","placeholder","value","onChange","ref","target","config","cloudinary","url","cloudName","apiKey","apiSecret","cloudinary_headers","cache-control","x-apikey","fb","appId","headers","server","makeStandardActionCreator","ACTION_TYPE","payload","meta","makeApiActionCreator","apiCall","successActionCreator","_len","arguments","length","args","Array","_key","dispatch","apply","then","_ref","data","Object","objectSpread","Promise","resolve","makePaginatedApiActionCreator","requestActionCreator","undefined","dispatchResultsAndFetchNextIfPresent","_ref2","next","axios","get","routes","category","add","concat","list","detail","id","JSON","stringify","parseInt","exist","subcategory","stuff","addStuffiersStuff","addStuff","listDetail","ids","listForStuffier","id_stuffier","listStuffiers","ids_stuffier","detailFromCategories","listPendingPics","user","email","friends","email_stuffier","loginUser","password","registerUser","lastId","requestToBeFriend","friendsRequest","friendRequestDetail","id_friend","deleteFriendRequest","friend","userRequests","deleteUserRequest","exchange","request","deleteRequest","_id","crypto","encrypt","clear","CryptoJS","SHA256","toString","enc","Hex","getStuffiers","registerStuffier","res","values","post","email_friend","id_user","delete","addFriend","userFetched","fetchUser","getStuffier","userRegistered","userPictureAdded","Login","state","loginFB","_this","setMessage","_this$state","response","localStorage","setItem","catch","responseFacebook","_this$props2","addUserPicture","picture","_this2","components_shared_TextField","setState","components_shared_Button","facebook_login_with_button_default","autoLoad","fields","scope","callback","mapDispatchProps","facebookUser","loginStuffier","connect","withRouter","options","label","Menu","isOpen","open","toggle","children","Apps","lang","changeLang","changeLanguage","renderCurrentLanguage","react_router_dom","to","components_shared_Menu","map","option","key","withTranslation","Chat","messageList","toConsumableArray","author","getListStuff","getCategories","token","cancelToken","getSubCategories","addStuffStuffier","id_stuff","getSearchResults","searchText","products","results","all","forEach","c","toLowerCase","includes","push","s","keys","p","getProductResults","filter","product","categoriesFetched","fetchCategories","addCategory","_ref3","subCategoriesFetched","fetchSubCategories","addSubCategory","TYPE","CATEGORY","SUBCATEGORY","AddCategory","isLoading","categories","subcategories","tempObjects","createValue","Number","newCategory","finally","newSubCategory","renderValues","typeToRender","objects","object","prevProps","components_shared_Loading","otherLabel","otherType","DropDown","valueSelected","updateChange","find","objectSelected","index","WarningMessage","mapStuff","getProductFromProducts","productId","i","isProductsEmpty","productsMap","row","productFetched","productsFetched","productAdded","fetchProduct","AddProduct","status","EMPTY","file_name","stuffStuffier","productsByCategories","createProduct","addProduct","SUCCESSFUL","ERROR","clearState","getMessage","_this$state2","isEmpty","updateCategory","renderProducts","updateSubcategory","addRegisteredProduct","history","_this3","getStuffFromCategories","_this4","_this$props3","_this$state3","components_shared_WarningMessage","shared_DropDown","setProduct","fileName","error","reject","fetchUserRequests","put","Admin","executeRequest","isAccepted","alert","renderRequests","first_name","last_name","renderPendingProducts","pendingProducts","log","CategoryPage","location","match","params","existImage","publicId","Media","imageUrl","setUrl","isProduct","renderImage","format","f","lib","fetchFormat","crop","renderVideo","isVideo","FeedRow","getProductType","feedPost","friend_firstName","friend_lastName","exchangeTo","pathname","friend_id","renderMessage","components_shared_Media","friendsFetched","friendProductsFetched","Content","feed","componentDidMount","fetchFriendsProducts","friendsFilled","generateFeed","date","Date","sortBy","components_content_FeedRow","stuffiers_stuff","getStuffiersList","friendsProducts","getFriendProducts","barChartData","uv","pv","amt","treemapChartData","pieChartData01","pieChartData02","radialChartData","fill","Charts","es6","margin","top","right","left","bottom","dataKey","strokeDasharray","padding","stroke","activeDot","r","x1","y1","x2","y2","offset","stopColor","stopOpacity","fillOpacity","aspectRatio","cx","cy","outerRadius","innerRadius","unit","cursor","startAngle","endAngle","angleAxisId","position","background","iconSize","layout","verticalAlign","align","SearchBar","source","fetchResults","selectProduct","cancel","CancelToken","getLinkTo","result","defineProperty","renderResultName","renderResults","requestExchange","requestExchanges","requestDelete","Exchange","userProducts","selectedProduct","exchangeRequest","idOwner","renderProduct","flat","components_shared_SearchBar","react_router","idStuff","idRequestor","idRequestorStuff","id_friend_stuff","Friends","textField","React","createRef","requests","emailToRequest","textfield","executeStatus","promises","WARNING","handleRequest","collection","friendsRequests","excelfileExtension","downloadExcel","word","charAt","toUpperCase","slice","arrayOfCategory","getDataToExport","worksheet_book","XLSX","utils","book_new","worksheet","aoa_to_sheet","book_append_sheet","writeFile","Products","generateReport","executeDeleteExchange","exchangeRequests","owner","requestor","isUserRequestor","isUserOwner","rejectText","deleteExchangeRequest","Product","prevState","Support","src","title","Tickets","file","progressValue","files","stopPropagation","preventDefault","Tesseract","recognize","progress","progressUpdate","document","getElementById","innerHTML","packet","querySelector","max","onSubmit","handleSubmit","handleChange","Test","authenticate","getStuff","item","indexOf","split","reverse","join","x","reverseStuff","MainRoutes","exact","path","component","render","content_Product","components_content_AddCategory","content_CategoryPage","assign","components_apps_Exchange","Footer","href","Header","handleLogout","logout","toggleMenu","style","display","cssText","exchangeClass","window","innerWidth","admin","components_sections_Apps","removeItem","renderCategories","newTo","Main","components_sections_Header","components_sections_Menu","main_MainRoutes","components_sections_Footer","sections_Chat","friendsRequestsFetched","pendingProductsFetched","FetchData","fetchData","fetchFriends","fetchProducts","fetchFriendsRequests","fetchExchangeRequests","fetchPendingProducts","adminPromises","components_main_Main","getFriends","getProductsMap","userId","Register","firstName","lastName","enableButton","Auth","getMessageType","getItem","msg","components_main_Register","components_main_Login","components_main_FetchData","Routes","App","store","react_redux_es","dist_es","main_Routes","appReducer","combineReducers","action","rootReducer","Boolean","hostname","middleware","thunk","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","require","createStore","reducersApp","applyMiddleware","ReactDOM","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.bbb351ba.chunk.js","sourcesContent":["import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nimport en from '../locale/en';\r\nimport es from '../locale/es';\r\n\r\ni18n\r\n  .use(initReactI18next)\r\n  .init({\r\n    lng: 'en',\r\n    resources: {\r\n      en,\r\n      es,\r\n    },\r\n    fallbackLng: 'en',\r\n    debug: process.env.NODE_ENV !== 'production',\r\n    ns: ['translations'],\r\n    defaultNS: 'translations',\r\n    keySeparator: false,\r\n    interpolation: {\r\n      escapeValue: false,\r\n      formatSeparator: ',',\r\n    },\r\n    react: {\r\n      wait: true,\r\n    },\r\n  }, (err, t) => {\r\n    if (err) {\r\n      console.info('i18n.language', i18n.language);\r\n    }\r\n  });\r\n\r\nexport default i18n;\r\n","import { ReactNode } from 'react';\r\n\r\nexport interface TextFieldProps {\r\n  name: string,\r\n  type: string,\r\n  placeholder?: string,\r\n  value?: string,\r\n  onChange?: Function,\r\n  disabled?: boolean,\r\n  ref?: any\r\n}\r\n\r\nexport interface MenuProps {\r\n  label: Function,\r\n  children: ReactNode\r\n}\r\n\r\nexport interface MenuState {\r\n  isOpen: boolean\r\n}\r\n\r\nexport interface DropDownProps {\r\n  onChange: Function,\r\n  values: any\r\n}\r\n\r\nexport interface DropDownState {\r\n  valueSelected: any\r\n}\r\n\r\nexport type LoadingSize = 'sm' | 'md' | 'lg' | 'xl';\r\n\r\nexport interface LoadingProps {\r\n  size: LoadingSize,\r\n  message?: string\r\n}\r\n\r\nexport interface ButtonProps {\r\n  type?: 'submit' | 'reset' | 'submit',\r\n  onClick?: Function,\r\n  text: string,\r\n  disabled?: boolean\r\n}\r\n\r\nexport enum WarningMessageType {\r\n  ERROR = 'error',\r\n  SUCCESSFUL = 'successful',\r\n  WARNING ='warning',\r\n  EMPTY = ''\r\n}\r\n\r\nexport interface WarningMessageProps {\r\n  message: string,\r\n  type: WarningMessageType,\r\n  show?: boolean\r\n}\r\n","import React, { Component } from 'react';\r\nimport ReactLoading from 'react-loading';\r\nimport { LoadingProps } from './types';\r\n\r\nimport './Loading.scss';\r\n\r\nclass Loading extends Component<LoadingProps, any> {\r\n  getSize(): number {\r\n    switch(this.props.size) {\r\n      case 'sm':\r\n        return 8;\r\n      case 'md':\r\n        return 16;\r\n      case 'lg':\r\n        return 32;\r\n      case 'xl':\r\n        return 64;\r\n      default:\r\n        return 8;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { message } = this.props;\r\n    const size = this.getSize();\r\n\r\n    return (\r\n      <div className=\"stuffie-loading\">\r\n        <ReactLoading type=\"spin\" color=\"#00f\" height={size} width={size} />\r\n        {message && (<div className=\"stuffie-loading__message\">{message}</div>)} \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loading;\r\n ","import React, { Component } from 'react';\r\nimport { ButtonProps } from './types';\r\nimport './Button.scss';\r\n\r\nclass Button extends Component<ButtonProps, any> {\r\n  render() {\r\n    const { disabled, type, text, onClick } = this.props;\r\n\r\n    if(onClick) {\r\n      return (<button className=\"button\" type={type || \"button\"} onClick={event => event && onClick()} disabled={disabled}>{text}</button>); \r\n    }\r\n\r\n    return <button className=\"button\" type={type || \"button\"} disabled={disabled}>{text}</button>\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport { TextFieldProps } from './types';\r\nimport './TextField.scss';\r\n\r\nclass TextField extends Component<TextFieldProps> {\r\n  render() {\r\n    const { name, placeholder, type, value, onChange, disabled, ref } = this.props;\r\n\r\n    return (\r\n      <div className=\"textfield\">\r\n        { value !== null && !onChange &&\r\n          <input\r\n            type={type}\r\n            name={name}\r\n            placeholder={placeholder || ''}\r\n            value={value}\r\n            disabled={disabled}\r\n            ref={ref ? ref : null}\r\n          />\r\n        }\r\n        { onChange &&\r\n          <input\r\n            type={type}\r\n            name={name}\r\n            placeholder={placeholder || ''}\r\n            disabled={disabled}\r\n            onChange={event => onChange(event.target.value)}\r\n            ref={ref ? ref : null}\r\n          />\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TextField;\r\n","const config = {\r\n  cloudinary: {\r\n    url: 'https://res.cloudinary.com/reyesrico/image/upload/c_scale,f_auto,w_100/v1',\r\n    cloudName: 'reyesrico',\r\n    apiKey: '981789986692969',\r\n    apiSecret: 'xxQPfLvWpN_iIlt1RfMZnB3jRw0'\r\n  },\r\n  cloudinary_headers: {\r\n    'cache-control': 'no-cache',\r\n    'x-apikey': '981789986692969'\r\n  },\r\n  fb: {\r\n    appId: \"1458399831108421\"\r\n  },\r\n  headers: {\r\n    'cache-control': 'no-cache',\r\n    'x-apikey': '5c932ad1cac6621685acc11e' //'20596935c72a29593312b65ac2075c86eb1ac',\r\n  },\r\n  server: 'https://stuffie-98b2.restdb.io/rest/'\r\n};\r\n\r\nexport default config;\r\n","import axios from 'axios';\n\n// Inspired by https://github.com/acdlite/flux-standard-action and\n// https://redux-actions.js.org/docs/api/createAction.html\n\n// Returns an action creator that stores the first argument (probably an object, so you can store multiple key-values\n// and destructure) as the action.payload. And the second argument as action.meta; meta can be useful to provide the\n// reducer with request parameters that aren't included in a payload returned by the server, for example.\nexport const makeStandardActionCreator = (ACTION_TYPE) => {\n  return (payload, meta) => ({\n    meta,\n    payload,\n    type: ACTION_TYPE,\n  });\n};\n\n// TODO: Make all to use this for args!!\n// CREATE FUNCTION TO RECEIVE ARRAY OF ARGS AND NOT ONLY ONE\n// To make action creators that make an API call and dispatch an action creator on success with the response.\n// Doesn't handle dispatching for errors.\nexport const makeApiActionCreator = (apiCall, successActionCreator) => {\n  return (...args) => dispatch => {\n    return apiCall(...args).then(({ data }) => {\n      dispatch(successActionCreator(data, {...args}));\n      return Promise.resolve(data);\n    });\n  };\n};\n\nexport const makePaginatedApiActionCreator = (apiCall, successActionCreator, requestActionCreator) => {\n  return args => (dispatch) => {\n    const dispatchResultsAndFetchNextIfPresent = ({ data }) => {\n      dispatch(successActionCreator(data, args));\n      if (data.next) {\n        return axios.get(data.next).then(dispatchResultsAndFetchNextIfPresent);\n      } else {\n        return Promise.resolve({ data });\n      }\n    };\n\n    if (requestActionCreator) {\n      dispatch(requestActionCreator(undefined, args));\n    }\n    return apiCall(args).then(dispatchResultsAndFetchNextIfPresent);\n  };\n};\n","import config from './config';\r\n\r\nconst routes = {\r\n  category: {\r\n    add: () => `${config.server}categories`,\r\n    list: () => `${config.server}categories`,\r\n    detail: id => `${config.server}categories?q=${JSON.stringify({ id: parseInt(id) })}`\r\n  },\r\n  cloudinary: {\r\n    exist: () => `https://${config.cloudinary.apiKey}:${config.cloudinary.apiSecret}@api.cloudinary.com/v1_1/${config.cloudinary.cloudName}/resources/image`\r\n  },\r\n  subcategory: {\r\n    add: () => `${config.server}subcategories`,\r\n    list: () => `${config.server}subcategories`,\r\n    detail: id => `${config.server}subcategories?q=${JSON.stringify({ id: parseInt(id) })}`\r\n  },\r\n  stuff: {\r\n    addStuffiersStuff: () => `${config.server}stuffiers-stuff`,\r\n    addStuff: () => `${config.server}stuff`,\r\n    detail: id => `${config.server}stuff?q=${JSON.stringify({ id: parseInt(id) })}`,\r\n    listDetail: ids => `${config.server}stuff?q={\"$or\":${JSON.stringify(ids)}}`,\r\n    listForStuffier: id_stuffier => `${config.server}stuffiers-stuff?q=${JSON.stringify({ id_stuffier })}`,\r\n    listStuffiers: ids_stuffier => `${config.server}stuffiers-stuff?q={\"$or\":${JSON.stringify(ids_stuffier)}}`,\r\n    detailFromCategories: (category, subcategory) => `${config.server}stuff?q={\"$and\":[{\"category\": ${category}}, {\"subcategory\": ${subcategory}}]}`,\r\n    listPendingPics: () =>  `${config.server}stuff?q={\"$or\": [ {\"file_name\": {\"$exists\": false}}, {\"file_name\": \"\"} ]}`\r\n  },\r\n  user: {\r\n    detail: email => `${config.server}stuffiers?q=${JSON.stringify({ email })}`,\r\n    listDetail: ids => `${config.server}stuffiers?q={\"$or\":${JSON.stringify(ids)}}`,\r\n    friends: email => `${config.server}friends?q=${JSON.stringify({ email_stuffier: email })}`,\r\n    list: () => `${config.server}stuffiers`,\r\n    loginUser: (email, password) => `${config.server}stuffiers?q=${JSON.stringify({ email, password })}`,\r\n    registerUser: () => `${config.server}stuffiers`,\r\n    lastId: () => `${config.server}stuffiers?q={}&h={\"$fields\": {\"id\":1}, \"$aggregate\":[\"COUNT:\"] }`,\r\n    requestToBeFriend: () => `${config.server}friend-requests`,\r\n    friendsRequest: email_stuffier => `${config.server}friend-requests?q=${JSON.stringify({ email_stuffier })}`,\r\n    friendRequestDetail: (email_stuffier, id_friend) => `${config.server}friend-requests?q=${JSON.stringify({ email_stuffier, id_friend })}`,\r\n    deleteFriendRequest: id => `${config.server}friend-requests/${id}`,\r\n    friend: () => `${config.server}friends`,\r\n    userRequests: () => `${config.server}stuffiers?q={\"request\": true}`,\r\n    deleteUserRequest: id => `${config.server}stuffiers/${id}`\r\n  },\r\n  exchange: {\r\n    request: () => `${config.server}exchange-requests`,\r\n    list: id => `${config.server}exchange-requests?q={ \"$or\": [{ \"id_stuffier\": ${id} } ,{ \"id_friend\": ${id} }] }`,\r\n    deleteRequest: _id => `${config.server}exchange-requests/${_id}`\r\n  }\r\n};\r\n\r\nexport default routes;\r\n","import CryptoJS from 'crypto-js';\r\n\r\nconst crypto = {\r\n  encrypt: clear => CryptoJS.SHA256(clear).toString(CryptoJS.enc.Hex)\r\n};\r\n\r\nexport default crypto;\r\n","import axios from 'axios';\r\nimport routes from './routes';\r\nimport config from './config';\r\nimport crypto from '../config/crypto';\r\n\r\nexport const getStuffier = email => (\r\n  axios.get(routes.user.detail(email), { headers: config.headers })\r\n);\r\n\r\nexport const getStuffiers = ids => {\r\n  if (ids.length > 0) {\r\n    return axios.get(routes.user.listDetail(ids), { headers: config.headers })\r\n  }\r\n\r\n  return Promise.resolve({});\r\n}\r\n\r\nexport const getFriends = email => (\r\n  axios.get(routes.user.friends(email), { headers: config.headers })\r\n);\r\n\r\nexport const loginStuffier = (email, password) => (\r\n  axios.get(routes.user.loginUser(email, crypto.encrypt(password)), { headers: config.headers })\r\n);\r\n\r\nexport const getLastStuffierId = () => (\r\n  axios.get(routes.user.lastId(), { headers: config.headers })\r\n);\r\n\r\nexport const registerStuffier = (user) => {\r\n  const password = crypto.encrypt(user.password);\r\n  return getLastStuffierId().then(res => {\r\n    const id = Object.values(res.data)[0] + 1;\r\n    return axios.post(routes.user.registerUser(), { ...user, password, id, request: true }, { headers: config.headers });\r\n  });\r\n};\r\n\r\nexport const getFriendsRequests = (email) => (\r\n  axios.get(routes.user.friendsRequest(email), { headers: config.headers })\r\n);\r\n\r\nexport const requestToBeFriend = (email_friend, id_user) => (\r\n  axios.post(routes.user.requestToBeFriend(), { email_stuffier: email_friend, id_friend: id_user }, { headers: config.headers })\r\n);\r\n\r\nexport const deleteRequest = (email_stuffier, id_friend) => {\r\n  return axios.get(routes.user.friendRequestDetail(email_stuffier, id_friend), { headers: config.headers })\r\n    .then(res => axios.delete(routes.user.deleteFriendRequest(res.data[0]._id), { headers: config.headers }));\r\n}\r\n\r\nexport const addFriend = (email_stuffier, id_friend) => (\r\n  axios.post(routes.user.friend(), { email_stuffier, id_friend }, { headers: config.headers })\r\n);\r\n\r\nexport const getUserRequests = () => (\r\n  axios.get(routes.user.userRequests(), { headers: config.headers })\r\n);\r\n\r\nexport const deleteUserRequest = user => (\r\n  axios.put(routes.user.deleteUserRequest(user._id), { ...user, request: false }, { headers: config.headers })\r\n);\r\n","import { makeStandardActionCreator } from '../action-helpers';\r\n\r\nimport { REVOKE_USER } from '../constants';\r\nimport { LOGIN_USER_FETCHED, USER_FETCHED, USER_REGISTERED, USER_PICTURE_ADDED } from './constants';\r\nimport { loginStuffier, getStuffier, registerStuffier } from '../../services/stuffier';\r\n\r\nexport const loginUserFetched = makeStandardActionCreator(LOGIN_USER_FETCHED);\r\nexport const loginUser = (email, password) => dispatch => {\r\n  return loginStuffier(email, password).then(data  => {\r\n    // dispatch(loginUserFetched(data, { email, password }));   // NOT NEEDED\r\n    return Promise.resolve(data);\r\n  });\r\n};\r\n\r\nconst userFetched = makeStandardActionCreator(USER_FETCHED);\r\nexport const fetchUser = (email) => dispatch => {   //makePaginatedApiActionCreator(getStuffier, userFetched);\r\n  return getStuffier(email).then(res => {\r\n    // TODO: Promise resolve only data about User!!!\r\n    dispatch(userFetched(res.data[0], email));\r\n    return Promise.resolve(res);\r\n  });\r\n}\r\n\r\nconst userRegistered = makeStandardActionCreator(USER_REGISTERED);\r\nexport const registerUser = (user) => dispatch => {\r\n  return registerStuffier(user).then(() => {\r\n    dispatch(userRegistered(user, user.email));\r\n    return Promise.resolve(user);\r\n  });\r\n}\r\n\r\nconst userPictureAdded = makeStandardActionCreator(USER_PICTURE_ADDED);\r\nexport const addUserPicture = (user, picture) => dispatch => {\r\n  const facebookUser = { ...user, picture };\r\n  dispatch(userPictureAdded(facebookUser, facebookUser.email));\r\n}\r\n\r\nexport const logout = () => {\r\n  localStorage.removeItem('picture');\r\n  localStorage.removeItem('username');\r\n\r\n  return {\r\n    type: REVOKE_USER,\r\n  };  \r\n}\r\n","export const LOGIN_USER_FETCHED = 'STUFFIE:LOGIN_USER_FETCHED';\r\nexport const USER_FETCHED = 'STUFFIE:USER_FETCHED';\r\nexport const USER_REGISTERED = 'STUFFIE:USER_REGISTERED';\r\nexport const USER_PICTURE_ADDED = 'STUFFIE:USER_PICTURE_ADDED';\r\n","import React, { Component } from 'react';\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Button from '../shared/Button';\r\nimport FacebookUser from '../types/FacebookUser';\r\nimport TextField from '../shared/TextField';\r\nimport config from '../../services/config';\r\nimport { LoginProps } from './types';\r\nimport { addUserPicture, loginUser, fetchUser } from '../../redux/user/actions';\r\n\r\nimport './Login.scss';\r\n\r\nclass Login extends Component<LoginProps, any> {\r\n  state = {\r\n    email: null,\r\n    password: null,\r\n    loginFB: false\r\n  }\r\n\r\n  onClick = () => {\r\n    const { fetchUser, loginUser, setMessage } = this.props;\r\n    const { email, password } = this.state;\r\n\r\n    if (email && password) {\r\n      loginUser(email, password)\r\n      .then((response: any) => fetchUser(response.data[0].email))\r\n      .then((res: any) => {\r\n        localStorage.setItem('username', res.data[0].email);\r\n        setMessage(\"Login successful\");\r\n      })\r\n      .catch((err: any) => setMessage(\"Error: Couldn't login. Try again.\"));\r\n    }\r\n  }\r\n\r\n  responseFacebook = (response: FacebookUser) => {\r\n    const { addUserPicture, fetchUser, setMessage } = this.props;\r\n\r\n    if (response) {\r\n      fetchUser(response.email)\r\n      .then((res: any) => {\r\n        const picture = response.picture.data.url;\r\n        localStorage.setItem('username', res.data[0].email);\r\n        addUserPicture(res.data[0], picture);\r\n        setMessage(\"Login successful\");\r\n      })\r\n      .catch(() => setMessage(\"Error: Couldn't login. Try again.\"));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { loginFB } = this.state;\r\n\r\n    return (\r\n      <div className=\"login\">\r\n        <h1>Login</h1>\r\n        <form className=\"login__form\">\r\n          <TextField\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            onChange={(email: string) => this.setState({ email })} />\r\n          <TextField\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            onChange={(password: string) => this.setState({ password })} />\r\n          <Button onClick={() => this.onClick()} text=\"Login\" />\r\n        </form>\r\n        <hr className=\"login__hr\" />\r\n          <FacebookLogin\r\n            appId={config.fb.appId}\r\n            autoLoad={loginFB}\r\n            fields=\"name,email,picture\"\r\n            scope=\"public_profile,user_friends\"\r\n            onClick={(event) => event && this.setState({ loginFB: true })}\r\n            callback={this.responseFacebook} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = {\r\n  addUserPicture,\r\n  loginUser,\r\n  fetchUser\r\n};\r\n\r\nexport default connect(null, mapDispatchProps)(withRouter<any, React.ComponentClass<any>>(Login));\r\n","export const options = [\r\n  { value: 'en', label: 'English' },\r\n  { value: 'es', label: 'Spanish' },\r\n];\r\n","import React, { Component } from 'react';\r\nimport { MenuProps, MenuState } from './types';\r\n\r\n// import enhanceWithClickOutside from 'react-click-outside';\r\nimport './Menu.scss';\r\n\r\nclass Menu extends Component<MenuProps, MenuState> {\r\n  state = {\r\n    isOpen: false,\r\n  };\r\n\r\n  handleClickOutside() {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  open = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  toggle = () => {\r\n    this.setState({ isOpen: !this.state.isOpen });\r\n  }\r\n\r\n  render() {\r\n    const isOpen = this.state.isOpen ? 'dropdown--is-open' : '';\r\n\r\n    return (\r\n      <div className=\"dropdown\">\r\n        <div className=\"dropdown__label\" onClick={this.toggle}>\r\n          {this.props.label(this.state.isOpen)}\r\n        </div>\r\n        <div className=\"dropdown__content-container\">\r\n          <div className={`dropdown__content ${isOpen}`}>\r\n            {this.props.children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Menu;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { withTranslation } from 'react-i18next';\r\nimport { options } from '../../config/options';\r\n\r\nimport Menu from '../shared/Menu';\r\nimport State from '../../redux/State';\r\nimport { AppsProps } from './types';\r\nimport './Apps.scss';\r\n\r\nclass Apps extends Component<AppsProps, any> {\r\n  state = {\r\n    lang: options[0]\r\n  };\r\n\r\n  changeLang = (lang:any) => {\r\n    const { i18n } = this.props;\r\n\r\n    this.setState({ lang });\r\n    i18n.changeLanguage(lang.value);\r\n  };\r\n\r\n  renderCurrentLanguage = (isOpen: boolean) => {\r\n    const { t } = this.props;\r\n\r\n    return (\r\n      <div className={isOpen ? 'apps__language-open' : 'apps__language'}>\r\n        {t('Language')}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"apps\">\r\n        <div className=\"apps__title\">Apps &amp; extras</div>\r\n        <div className=\"apps__item\"><Link to='/tickets'>Tickets</Link></div>\r\n        <div className=\"apps__item\"><Link to='/support'>Support</Link></div>\r\n        <div className=\"apps__item\"><Link to='/charts'>Charts</Link></div>\r\n        <div className=\"apps__item\"><Link to='/test'>Test</Link></div>\r\n        <hr />\r\n        <div className=\"apps__item\">\r\n          <Menu label={(isOpen: boolean) => this.renderCurrentLanguage(isOpen)}>\r\n            {options.map(option => {\r\n              return (<div key={option.value} className=\"apps__option\" onClick={() => this.changeLang(option)}>{option.label}</div>);\r\n            })}\r\n          </Menu>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(withTranslation()<any>(withRouter<any, React.ComponentClass<any>>(Apps)));\r\n","import React, { Component } from 'react';\r\n\r\nclass Chat extends Component {\r\n\r\n  state = {\r\n    messageList: []\r\n  };\r\n \r\n  onMessageWasSent(message) {\r\n    this.setState({\r\n      messageList: [...this.state.messageList, message]\r\n    })\r\n  }\r\n \r\n  sendMessage(text) {\r\n    if (text.length > 0) {\r\n      this.setState({\r\n        messageList: [...this.state.messageList, {\r\n          author: 'them',\r\n          type: 'text',\r\n          data: { text }\r\n        }]\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>Get new Chat-Window</div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default Chat;\r\n","import axios from 'axios';\r\nimport { map } from 'lodash';\r\nimport routes from './routes';\r\nimport config from './config';\r\n\r\nexport const getStuffList = id_stuffier => (\r\n  axios.get(routes.stuff.listForStuffier(id_stuffier), { headers: config.headers })\r\n);\r\n\r\nexport const getStuffiersList = friends => {\r\n  if (friends.length > 0) {\r\n    const ids = map(friends, friend => { \r\n      return { id_stuffier: friend.id };\r\n    });\r\n  \r\n    return axios.get(routes.stuff.listStuffiers(ids), { headers: config.headers });  \r\n  }\r\n\r\n  return Promise.resolve([]);\r\n};\r\n\r\nexport const getStuff = id => (\r\n  axios.get(routes.stuff.detail(id), { headers: config.headers })\r\n);\r\n\r\nexport const getListStuff = ids => {\r\n  if (ids.length) {\r\n    return axios.get(routes.stuff.listDetail(ids), { headers: config.headers });\r\n  }\r\n\r\n  return Promise.resolve([]);\r\n};\r\n\r\nexport const getCategories = (token = null) => (\r\n  axios.get(routes.category.list(), { headers: config.headers, cancelToken: token })\r\n);\r\n\r\nexport const getSubCategories = (token = null) => (\r\n  axios.get(routes.subcategory.list(), { headers: config.headers, cancelToken: token })\r\n);\r\n\r\nexport const addStuff = ({ name, category, subcategory, fileName }) => (\r\n  axios.post(routes.stuff.addStuff(), { name, category, subcategory, file_name: fileName }, { headers: config.headers })\r\n);\r\n\r\nexport const addStuffStuffier = (id_stuffier, id_stuff) => (\r\n  axios.post(routes.stuff.addStuffiersStuff(), { id_stuffier, id_stuff }, { headers: config.headers })\r\n);\r\n\r\nexport const getStuffFromCategories = (category, subcategory) => (\r\n  axios.get(routes.stuff.detailFromCategories(category, subcategory), { headers: config.headers })\r\n);\r\n\r\nexport const getCategory = id => (\r\n  axios.get(routes.category.detail(id), { headers: config.headers })\r\n);\r\n\r\nexport const getSubcategory = id => (\r\n  axios.get(routes.subcategory.detail(id), { headers: config.headers })\r\n);\r\n\r\nexport const isImageExist = () => (\r\n  axios.get(routes.cloudinary.exist(), { headers: config.cloudinary_headers })\r\n);\r\n\r\nexport const addSubCategoryCall = ({ id, name }) => (\r\n  axios.post(routes.subcategory.add(), { id, name }, { headers: config.headers })\r\n);\r\n\r\nexport const addCategoryCall = ({ id, name }) => (\r\n  axios.post(routes.category.add(), { id, name }, { headers: config.headers })\r\n);\r\n\r\nexport const getPendingProducts = () => (\r\n  axios.get(routes.stuff.listPendingPics(), { headers: config.headers })\r\n);\r\n\r\n/*\r\n* This is to emulate ElasticSearch\r\n*/\r\nexport const getSearchResults = (searchText, products, token) => {\r\n  let results = [];\r\n\r\n  return Promise.all([getCategories(token), getSubCategories(token)]).then(values => {\r\n    values[0].data.forEach(c => {\r\n      if (c.name.toLowerCase().includes(searchText)){\r\n        results.push({ type: 'Category', name: c.name, id: c.id });\r\n      }\r\n    });\r\n\r\n    values[1].data.forEach(s => {\r\n      if (s.name.toLowerCase().includes(searchText)) {\r\n        results.push({ type: 'Subcategory', name: s.name, id: s.id });\r\n      }\r\n    });\r\n\r\n    Object.keys(products).forEach(key => {\r\n      products[key].forEach(p => {\r\n        if (p.name.toLowerCase().includes(searchText)) {\r\n          results.push({ type: 'Product', name: p.name, id: p.id });\r\n        }  \r\n      });\r\n    });\r\n  \r\n    return Promise.resolve(results);\r\n  });\r\n};\r\n\r\n// For Exchange ElasticSearch\r\nexport const getProductResults = (searchText, products) => (\r\n  products.filter(product => product.name.toLowerCase().includes(searchText))\r\n);\r\n","import { makePaginatedApiActionCreator, makeStandardActionCreator } from '../action-helpers';\r\nimport { CATEGORY_ADDED, CATEGORIES_FETCHED, CATEGORY_FETCHED } from './constants';\r\nimport { addCategoryCall, getCategories, getCategory } from '../../services/stuff';\r\n\r\nconst categoriesFetched = makeStandardActionCreator(CATEGORIES_FETCHED);\r\nexport const fetchCategories = makePaginatedApiActionCreator(getCategories, categoriesFetched);\r\n\r\nconst categoryFeteched = makeStandardActionCreator(CATEGORY_FETCHED);\r\nexport const fetchCategory = makePaginatedApiActionCreator(getCategory, categoryFeteched);\r\n\r\nconst categoryAdded = makeStandardActionCreator(CATEGORY_ADDED);\r\nexport const addCategory = makePaginatedApiActionCreator(addCategoryCall, categoryAdded);\r\n","export const CATEGORIES_FETCHED = 'MENU::CATEGORIES_FETCHED';\r\nexport const CATEGORY_FETCHED = 'MENU::CATEGORY_FETCHED';\r\nexport const CATEGORY_ADDED = 'MENU:CATEGORY_ADDED';\r\n","import { makePaginatedApiActionCreator, makeStandardActionCreator } from '../action-helpers';\r\nimport { SUBCATEGORIES_FETCHED, SUBCATEGORY_FETCHED, SUBCATEGORY_ADDED } from './constants';\r\nimport { addSubCategoryCall, getSubCategories, getSubcategory } from '../../services/stuff';\r\n\r\nconst subCategoriesFetched = makeStandardActionCreator(SUBCATEGORIES_FETCHED);\r\nexport const fetchSubCategories = makePaginatedApiActionCreator(getSubCategories, subCategoriesFetched);\r\n\r\nconst subCategoryFetched = makeStandardActionCreator(SUBCATEGORY_FETCHED);\r\nexport const fetchSubCategory = makePaginatedApiActionCreator(getSubcategory, subCategoryFetched);\r\n\r\nconst subCategoryAdded = makeStandardActionCreator(SUBCATEGORY_ADDED);\r\nexport const addSubCategory = makePaginatedApiActionCreator(addSubCategoryCall, subCategoryAdded);\r\n","export const SUBCATEGORIES_FETCHED = 'MENU::SUBCATEGORIES_FETCHED';\r\nexport const SUBCATEGORY_FETCHED = 'MENU::SUBCATEGORY_FETCHED';\r\nexport const SUBCATEGORY_ADDED = 'MENU:SUBCATEGORY_ADDED';\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { map } from 'lodash';\r\n\r\nimport Button from '../shared/Button';\r\nimport Loading from '../shared/Loading';\r\nimport State from '../../redux/State';\r\nimport TextField from '../shared/TextField';\r\nimport { addCategory } from '../../redux/categories/actions';\r\nimport { addSubCategory } from '../../redux/subcategories/actions';\r\n\r\nimport { AddCategoryProps } from './types';\r\nimport './AddCategory.scss';\r\n\r\nconst TYPE = {\r\n  CATEGORY: 'category',\r\n  SUBCATEGORY: 'subcategory'\r\n};\r\n\r\nclass AddCategory extends Component<AddCategoryProps, any> {\r\n  state = {\r\n    isLoading: false,\r\n    id: '',\r\n    name: '',\r\n    categories: [],\r\n    subcategories: [],\r\n    tempObjects: null,\r\n  };\r\n\r\n  componentDidUpdate(prevProps: any) {\r\n    const { type } = this.props;\r\n\r\n    if (prevProps.type === 'subcategory' && type === 'category') {\r\n      this.setState({ label: 'Category' });\r\n    }\r\n\r\n    if (prevProps.type === 'category' && type === 'subcategory') {\r\n      this.setState({ label: 'SubCategory' });\r\n    }\r\n  }\r\n\r\n  createValue = () => {\r\n    const { addCategory, addSubCategory, type } = this.props;\r\n    const { categories, subcategories } = this.state;\r\n\r\n    if (type === TYPE.CATEGORY) {\r\n      this.setState({ isLoading: true});\r\n\r\n      addCategory({ name: this.state.name, id: Number(this.state.id) })\r\n      .then((res: any) => {\r\n        const newCategory =  { _id: res.data._id, id: res.data.id, name: res.data.name };\r\n        this.setState({\r\n          categories: [ ...categories, newCategory ],\r\n          name: '',\r\n          id: ''\r\n        }); \r\n      })\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n      });\r\n    }\r\n\r\n    if (type === TYPE.SUBCATEGORY) {\r\n      this.setState({ isLoading: true });\r\n\r\n      addSubCategory({ name: this.state.name, id: Number(this.state.id) })\r\n      .then((res: any) => {\r\n        const newSubCategory = { _id: res.data._id, id: res.data.id, name: res.data.name };\r\n        this.setState({\r\n          subcategories: [...subcategories, newSubCategory ],\r\n          name: '',\r\n          id: ''\r\n        });\r\n\r\n      })\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n      });\r\n    }\r\n  }\r\n\r\n  renderValues = (typeToRender: string) => {\r\n    const { categories, subcategories } = this.props;\r\n    const objects = typeToRender === TYPE.CATEGORY ? categories : subcategories;\r\n  \r\n    return map(objects, (object: any) => {\r\n      return (\r\n        <li className=\"add-category__item\" key={`${typeToRender}_${object.id}`}>\r\n          <span className=\"add-category__id\">({object.id})</span> - {object.name}\r\n        </li>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { type } = this.props;\r\n    const { isLoading } = this.state;\r\n\r\n    if (isLoading) return <Loading size=\"md\" />\r\n\r\n    const label = type === TYPE.CATEGORY ? 'Category' : 'SubCategory';\r\n    const otherLabel = type !== TYPE.CATEGORY ? 'Category' : 'SubCategory';\r\n    const otherType = type === TYPE.CATEGORY ? TYPE.SUBCATEGORY : TYPE.CATEGORY;\r\n\r\n    return (\r\n      <div className=\"add-category\">\r\n        <form>\r\n          <div className=\"add-category__values\">\r\n            <div>\r\n              <h2>{label}</h2>\r\n              <ul className=\"add-category__list\">\r\n                {this.renderValues(type)}\r\n              </ul>\r\n            </div>\r\n            <div>\r\n              <h2>{otherLabel}</h2>\r\n              <ul className=\"add-category__list\">\r\n                {this.renderValues(otherType)}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <hr />\r\n          <div className=\"add-category__row\">\r\n            <label>Id</label>\r\n            <TextField name=\"id\" type=\"text\" onChange={(id: string) => this.setState({ id })} />\r\n          </div>\r\n          <div className=\"add-category__row\">\r\n            <label>{label}</label>\r\n            <TextField name=\"name\" type=\"text\" onChange={(name: string) => this.setState({ name })} />\r\n          </div>\r\n          <hr />\r\n          <Button onClick={() => this.createValue()} text={\"Send\"} />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = {\r\n  addCategory,\r\n  addSubCategory,\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user,\r\n  categories: state.categories,\r\n  subcategories: state.subcategories\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(AddCategory);\r\n","import React, { Component } from 'react';\r\nimport { find } from 'lodash';\r\nimport { DropDownProps, DropDownState } from './types';\r\n\r\nclass DropDown extends Component<DropDownProps, DropDownState> {\r\n  state = {\r\n    valueSelected: null,\r\n  };\r\n\r\n  updateChange = (event: any) => {\r\n    const { onChange, values } = this.props;\r\n\r\n    const id = Number(event.target.value);\r\n    const object = find(values, value=> value.id === id);\r\n\r\n    this.setState({ valueSelected: id });\r\n    onChange(object);\r\n  }\r\n\r\n  render() {\r\n    const { values } = this.props;\r\n    const { valueSelected } = this.state;\r\n\r\n    const value = values ? values[0] ? values[0].id : null: null;\r\n    const objectSelected = valueSelected ? valueSelected : value;\r\n\r\n    return (\r\n      <select onChange={this.updateChange} value={objectSelected}>\r\n        { \r\n          values && values.map((object: any, index: number) => {\r\n            return <option key={index} value={object.id}>{object.name}</option>;\r\n          })\r\n        }\r\n      </select>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DropDown;\r\n","import React, { Component } from 'react';\r\nimport { WarningMessageProps } from './types';\r\nimport './WarningMessage.scss';\r\n\r\nclass WarningMessage extends Component<WarningMessageProps, any> {\r\n  render() {\r\n    const { message, type } = this.props;\r\n\r\n    if (!message) return <div></div>\r\n\r\n    return (\r\n      <div className={`warning-message warning-message__${type}`}>\r\n        {message}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default WarningMessage;\r\n","import { find, forEach, isEmpty, map } from 'lodash';\r\n\r\nimport Category from '../types/Category';\r\nimport ProductsMap from '../types/ProductsMap';\r\nimport Product from '../types/Product';\r\nimport User from '../types/User';\r\n\r\nexport function mapStuff(stuff: any) {\r\n  return map(stuff, (object: any) => {\r\n    return { id: object.id_stuff };\r\n  });\r\n}\r\n\r\nexport function getProductsMap(categories: Category[], objects: any): ProductsMap {\r\n  let productsMap: ProductsMap = {};\r\n\r\n  forEach(categories, (category: Category) => {\r\n    productsMap = {\r\n      ...productsMap,\r\n      [category.id as number]: [],\r\n    };\r\n  });\r\n\r\n  if (!isEmpty(productsMap)) {\r\n    // Filling products per category\r\n    forEach(objects, (object: any) => {\r\n      productsMap[object.category].push(object);\r\n    });\r\n  }\r\n\r\n  return productsMap;\r\n}\r\n\r\nexport function getProductFromProducts(productId: number, products: ProductsMap) {\r\n  const values = Object.values(products);\r\n  let product = null;\r\n\r\n  for (let i=0; i < values.length; i++) {\r\n    product = values[i].find((p: Product) => p.id === productId);\r\n    if (product) {\r\n      break;\r\n    }\r\n  }\r\n\r\n  return product;\r\n}\r\n\r\nexport function getFriendProducts(friends: User[], products: Product[], stuffiers_stuff: any) {\r\n  let friendsProducts: User[] = [];\r\n\r\n  forEach(friends, friend => {\r\n    const values = stuffiers_stuff.filter((row: any) => row.id_stuffier === friend.id)\r\n    .map((row: any) => find(products, product => product.id === row.id_stuff));\r\n\r\n    friendsProducts.push({ ...friend, products: values });\r\n  });\r\n\r\n  return friendsProducts;\r\n}\r\n\r\nexport function isProductsEmpty(productsMap: ProductsMap) {\r\n  const products = Object.values(productsMap).filter(row => row.length > 0);\r\n  return !products.length;\r\n}\r\n\r\nexport function getProductsList(productsMap: ProductsMap): Product[] {\r\n  return Object.values(productsMap).filter(row => row.length > 0).flat();\r\n}\r\n","export const PRODUCT_FETCHED = 'MENU::PRODUCT_FETCHED';\r\nexport const PRODUCTS_FETCHED = 'MENU::PRODUCTS_FETCHED';\r\n\r\nexport const PRODUCT_ADDED = 'PRODUCTS::PRODUCT_ADDED';\r\n","import { makePaginatedApiActionCreator, makeStandardActionCreator } from '../action-helpers';\r\nimport { PRODUCT_ADDED, PRODUCT_FETCHED, PRODUCTS_FETCHED } from './constants';\r\nimport { addStuff, addStuffStuffier, getListStuff, getStuffList, getStuff } from '../../services/stuff';\r\nimport { mapStuff, getProductsMap } from '../../components/helpers/StuffHelper';\r\n\r\nconst productFetched = makeStandardActionCreator(PRODUCT_FETCHED);\r\nconst productsFetched = makeStandardActionCreator(PRODUCTS_FETCHED);\r\n\r\nconst productAdded = makeStandardActionCreator(PRODUCT_ADDED);\r\nexport const addProduct = (product, user) => dispatch => {\r\n  return addStuff(product)\r\n  .then(res => {\r\n    const product = res.data;\r\n    return addStuffStuffier(user.id, product.id);\r\n  })\r\n  .then(() => {\r\n    dispatch(productAdded(product, user.email));\r\n    return Promise.resolve(product);\r\n  })\r\n  .catch(error => Promise.reject(error));\r\n}\r\n\r\nexport const addRegisteredProduct = (user, product) => dispatch => {\r\n  return addStuffStuffier(user.id, product.id)\r\n  .then(() => {\r\n    dispatch(productAdded(product, user.email));\r\n    return Promise.resolve(product);\r\n  })\r\n  .catch(error => Promise.reject(error));\r\n}\r\n\r\nexport const fetchProduct = makePaginatedApiActionCreator(getStuff, productFetched);\r\nexport const fetchProducts = (user, categories) => dispatch => {  // makePaginatedApiActionCreator(getListStuff, productsFetched);\r\n  return getStuffList(user.id)\r\n         .then(res => getListStuff(mapStuff(res.data)))\r\n         .then(res => {\r\n           const objects = res.data;\r\n           const products = getProductsMap(categories, objects);\r\n           dispatch(productsFetched(products, user.email));\r\n           return Promise.resolve(products);\r\n         });\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { isEmpty } from 'lodash';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Button from '../shared/Button';\r\nimport Category from '../types/Category';\r\nimport Dropdown from '../shared/DropDown';\r\nimport Product from '../types/Product';\r\nimport State from '../../redux/State';\r\nimport Subcategory from '../types/Subcategory';\r\nimport TextField from '../shared/TextField';\r\nimport WarningMessage from '../shared/WarningMessage';\r\nimport { AddProductProps } from '../sections/types';\r\nimport { WarningMessageType } from '../shared/types';\r\nimport { getProductFromProducts } from '../helpers/StuffHelper';\r\nimport { getStuffFromCategories } from '../../services/stuff';\r\nimport { addRegisteredProduct, addProduct } from '../../redux/products/actions';\r\n\r\nimport './AddProduct.scss';\r\n\r\nclass AddProduct extends Component<AddProductProps, any> {\r\n  state = {\r\n    status: WarningMessageType.EMPTY,\r\n    name: null,\r\n    file_name: null,\r\n    category: this.props.categories[0],\r\n    product: { id: null, name: null },\r\n    subcategory: this.props.subcategories[0],\r\n    stuffStuffier: {},\r\n    productsByCategories: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.renderProducts(this.state.category, this.state.subcategory);\r\n  }\r\n\r\n  createProduct = () => {\r\n    const { addProduct, user } = this.props;\r\n    const { name, category, subcategory } = this.state;\r\n\r\n    if (!name || !category || !subcategory) return;\r\n\r\n    addProduct({ name, category: category.id, subcategory: subcategory.id }, user)\r\n      .then((product: Product) => {\r\n        this.setState({ product, stuffStuffier: product, status: WarningMessageType.SUCCESSFUL });\r\n      })\r\n      .catch(() => {\r\n        const product = { name, category: category.id, subcategory: subcategory.id };\r\n        this.setState({ product, stuffStuffier: product, status: WarningMessageType.ERROR });\r\n      });\r\n  }\r\n\r\n  setProduct() {\r\n    const { addRegisteredProduct, history, user } = this.props;\r\n    const { product } = this.state;\r\n\r\n    addRegisteredProduct(user, product).then((p: Product) => {\r\n      this.setState({ stuffStuffier: p, status: WarningMessageType.SUCCESSFUL });\r\n      history.push('/products');\r\n    });\r\n  }\r\n\r\n  clearState = () => {\r\n    this.setState({\r\n      status: WarningMessageType.EMPTY,\r\n      name: null,\r\n      file_name: null,\r\n      category: this.props.categories[0],\r\n      subcategory: this.props.subcategories[0],\r\n      product: {},\r\n      stuffStuffier: {},\r\n    });\r\n  }\r\n\r\n  getMessage = () => {\r\n    const { stuffStuffier, status, product } = this.state;\r\n    const message = status === WarningMessageType.ERROR ? 'was not added' : 'was added successfully!';\r\n\r\n    if (product && !isEmpty(stuffStuffier)) {\r\n      return `Stuff ${product.name} ${message}`;\r\n    }\r\n\r\n    return \"\";\r\n  }\r\n\r\n  renderProducts(category: Category, subcategory: Subcategory) {\r\n    const { products } = this.props;\r\n\r\n    getStuffFromCategories(category.id, subcategory.id).then(res => {\r\n      const product = res.data[0];\r\n      const productsByCategories = res.data.filter((p: Product) => p.id && !getProductFromProducts(p.id, products));\r\n      this.setState({ productsByCategories, product });\r\n    })\r\n  }\r\n\r\n  updateCategory = (category: Category) => {\r\n    this.renderProducts(category, this.state.subcategory);\r\n    this.setState({ category });\r\n  }\r\n\r\n  updateSubcategory = (subcategory: Subcategory) => {\r\n    this.renderProducts(this.state.category, subcategory);\r\n    this.setState({ subcategory });\r\n  }\r\n\r\n  render() {\r\n    const { categories, subcategories } = this.props;\r\n    const { product, productsByCategories, category, status, subcategory } = this.state;\r\n\r\n    return (\r\n      <div className=\"add-product\">\r\n        <h3>Add Stuff</h3>\r\n        <WarningMessage message={this.getMessage()} type={status} />\r\n        <hr/>\r\n        <form>\r\n          <div>Select Product</div>\r\n          <div className=\"add-product__row\">\r\n            <label>Category</label>\r\n            <Dropdown onChange={(category: any) => this.updateCategory(category)} values={categories} />\r\n          </div>\r\n          <div className=\"add-product__row\">\r\n            <label>SubCategory</label>\r\n            <Dropdown onChange={(subcategory: any) => this.updateSubcategory(subcategory)} values={subcategories} />\r\n          </div>\r\n          { !productsByCategories.length && <div>There are no products</div>}\r\n          { productsByCategories.length > 0 && (\r\n            <div className=\"add-product__row\">\r\n              <label>Product</label>\r\n              <Dropdown onChange={(product: Product) => this.setState({ product })} values={productsByCategories} />\r\n            </div>\r\n          )}\r\n          <hr />\r\n          <Button text=\"Add Product\" disabled={!(category && subcategory && product && product.name)}\r\n            onClick={() => this.setProduct()}>\r\n          </Button>\r\n          <hr />\r\n          <div>Create New Product</div>\r\n          <div className=\"add-product__row\">\r\n            <label>Name</label>\r\n            <TextField name=\"name\" type=\"text\" onChange={(name:string) => this.setState({ name })}/>\r\n          </div>\r\n          <div className=\"add-product__row\">\r\n            <label>Category</label>\r\n            <Dropdown onChange={(category:any) => this.setState({ category })} values={categories} />\r\n          </div>\r\n          <div className=\"add-product__row\">\r\n            <label>SubCategory</label>\r\n            <Dropdown onChange={(subcategory:any) => this.setState({ subcategory })} values={subcategories} />\r\n          </div>\r\n          <hr />\r\n          <Button onClick={() => this.createProduct()} text=\"Send\"></Button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapDispatchProps = {\r\n  addProduct,\r\n  addRegisteredProduct,\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user,\r\n  categories: state.categories,\r\n  subcategories: state.subcategories,\r\n  products: state.products\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(withRouter<any, React.ComponentClass<any>>(AddProduct));\r\n","import { makeApiActionCreator,  makeStandardActionCreator } from '../action-helpers';\r\n\r\nimport { USER_REQUESTS_FETCHED, USER_REQUEST_DELETED } from './constants';\r\nimport { getUserRequests, deleteUserRequest } from '../../services/stuffier';\r\n\r\nconst userRequestsFetched = makeStandardActionCreator(USER_REQUESTS_FETCHED);\r\nexport const fetchUserRequests = makeApiActionCreator(getUserRequests, userRequestsFetched);\r\n\r\nconst userRequestDeleted = makeStandardActionCreator(USER_REQUEST_DELETED);\r\nexport const deleteRequest = makeApiActionCreator(deleteUserRequest, userRequestDeleted);\r\n","export const USER_REQUESTS_FETCHED = 'STUFFIE:USER_REQUESTS_FETCHED';\r\nexport const USER_REQUEST_DELETED = 'STUFFIE::USER_REQUEST_DELETED';\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Button from '../shared/Button';\r\nimport Product from '../types/Product';\r\nimport State from '../../redux/State';\r\nimport User from '../types/User';\r\nimport { Link } from 'react-router-dom';\r\nimport { deleteRequest } from '../../redux/user-requests/actions';\r\nimport './Admin.scss';\r\n\r\nclass Admin extends Component<any, any> {\r\n  executeRequest = (user: User, isAccepted = false) => {\r\n    const { deleteRequest } = this.props;\r\n  \r\n    if (isAccepted) {\r\n      deleteRequest(user).then(() => alert('Request Accepted and Deleted'));\r\n    }\r\n  }\r\n\r\n  renderRequests = () => {\r\n    const { userRequests } = this.props;\r\n\r\n    return (\r\n      <div className=\"admin__requests\">\r\n        <hr />\r\n        <h3 className=\"admin__title\">\r\n          <div>User Requests</div>\r\n          <div className=\"admin__warning\">{userRequests.length}</div>\r\n        </h3>\r\n        <ul>\r\n          {userRequests.map((user: User, index: number) => {\r\n            return (\r\n              <li className=\"admin__request\" key={index}>\r\n                <div className=\"admin__request-text\">\r\n                  {user.first_name} {user.last_name} ({user.email})\r\n                </div>\r\n                <div className=\"admin__request-button\">\r\n                  <Button onClick={() => this.executeRequest(user, true)} text=\"Accept\"></Button>\r\n                </div>\r\n              </li>\r\n            )}\r\n          )}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderPendingProducts = () => {\r\n    const { pendingProducts } = this.props;\r\n\r\n    console.log(pendingProducts);\r\n\r\n    return (\r\n      <div className=\"admin__requests\">\r\n        <hr />\r\n        <h3 className=\"admin__title\">\r\n          <div>Products Pending of Pics</div>\r\n          <div className=\"admin__warning\">{pendingProducts.length}</div>\r\n        </h3>\r\n        <ul>\r\n          {pendingProducts.map((product: Product) => {\r\n            return (<li key={product.id} className=\"admin__request\">\r\n              <div>Product: {product.name}</div>\r\n              <div>Id: {product.id} / Category: {product.category} / Subcategory: {product.subcategory}</div>\r\n            </li>)\r\n          })}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { pendingProducts, userRequests } = this.props;\r\n\r\n    return (\r\n      <div className=\"admin\">\r\n        {pendingProducts.length > 0 && this.renderPendingProducts()}\r\n        {userRequests.length > 0 && this.renderRequests()}\r\n        <div className=\"admin__link\"><Link to={`/category/add`}>Add Category</Link></div>\r\n        <hr />\r\n        <div className=\"admin__link\"><Link to={`/subcategory/add`}>Add SubCategory</Link></div>\r\n        <hr />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  userRequests: state.userRequests,\r\n  pendingProducts: state.pendingProducts,\r\n});\r\n\r\nconst mapDispatchProps = {\r\n  deleteRequest\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(Admin);\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { map } from 'lodash';\r\n\r\nimport State from '../../redux/State';\r\nimport { CategoryPageProps } from './types';\r\n\r\nimport Stuff from '../types/Stuff'; \r\n\r\nclass CategoryPage extends Component<CategoryPageProps, any> {\r\n  render() {\r\n    const { location, products, match } = this.props;\r\n\r\n    const id = match.params.id;\r\n    const name = location.category || '';\r\n\r\n    return (\r\n      <div className=\"category-page\">\r\n        <h3>{ name }</h3>\r\n        <ul>\r\n          {map(products[id], (object: Stuff) => {\r\n            return (\r\n              <li key={object.id}><Link to={`/product/${object.id}`}>{object.name}</Link></li>\r\n            )\r\n          })}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  products: state.products\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(CategoryPage);\r\n","import config from './config';\r\nimport axios from 'axios';\r\n\r\nexport const existImage = publicId => (\r\n  axios.get(`${config.cloudinary.url}/${publicId}`)\r\n);\r\n","import React, { Component } from 'react';\r\nimport { Image, Video, Transformation, CloudinaryContext } from 'cloudinary-react';\r\n\r\nimport config from '../../services/config';\r\nimport { existImage } from '../../services/cloudinary-helper';\r\nimport './Media.scss';\r\n\r\nclass Media extends Component {\r\n  state = {\r\n    imageUrl: 'default_product'\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.format !== 'mp4' && this.setUrl();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.fileName !== this.props.fileName) {\r\n      this.props.format !== 'mp4' && this.setUrl();\r\n    }\r\n  }\r\n\r\n  setUrl = () => {\r\n    const { fileName, category, subcategory, isProduct } = this.props;\r\n\r\n    if (isProduct && category && subcategory) {\r\n      const imageUrl = `products/${category}/${subcategory}/${fileName}`;\r\n      existImage(imageUrl)\r\n      .then(() => this.setState({ imageUrl }))\r\n      .catch(() => this.setState({ imageUrl: 'default_product' }))\r\n    } else {\r\n      this.setState({ imageUrl: fileName });\r\n    }\r\n  }\r\n\r\n  renderImage = () => {\r\n    const { format, width } = this.props;\r\n    const { imageUrl } = this.state;\r\n    const f = imageUrl === 'default_product' ? 'png' : format;\r\n\r\n    return (\r\n      <div className=\"media__image\">\r\n        <Image publicId={imageUrl} format={f}>\r\n          <Transformation width={width} fetchFormat=\"auto\" crop=\"scale\" />\r\n      </Image>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderVideo = () => {\r\n    const { fileName, format } = this.props;\r\n    return (<Video publicId={fileName} format={format}></Video>);\r\n  }\r\n  \r\n  render() {\r\n    const isVideo = this.props.format === 'mp4';\r\n\r\n    return (\r\n      <CloudinaryContext cloudName={config.cloudinary.cloudName}>\r\n        {isVideo && this.renderVideo()}\r\n        {!isVideo && this.renderImage()}\r\n      </CloudinaryContext>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Media;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Media from '../shared/Media';\r\nimport State from '../../redux/State';\r\nimport { FeedRowProps } from './types';\r\nimport { fetchProduct } from '../../redux/products/actions';\r\n\r\nimport './FeedRow.scss';\r\n\r\nclass FeedRow extends Component<FeedRowProps, any> {\r\n  getProductType = () => {\r\n    const { feedPost, subcategories } = this.props;\r\n\r\n    let subcategory = subcategories.find(s => s.id === feedPost.product.subcategory);\r\n    return subcategory ? subcategory.name : null;\r\n  }\r\n\r\n  renderMessage() {\r\n    const { feedPost } = this.props;\r\n  \r\n    return (\r\n    <div className=\"feed-row__description\">\r\n      <span className=\"feed-row__name\">{feedPost.friend_firstName} {feedPost.friend_lastName} </span> added <b>{feedPost.product.name}</b> in {this.getProductType()}\r\n    </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { feedPost } = this.props;\r\n    const exchangeTo = { pathname: `/exchange`, product: feedPost.product, friend: feedPost.friend_id };\r\n\r\n    return (\r\n      <div className=\"feed-row\">\r\n        {this.renderMessage()}\r\n        <div className=\"feed-row__image\">\r\n          <Media\r\n            fileName={feedPost.product.id}\r\n            category={feedPost.product.category}\r\n            subcategory={feedPost.product.subcategory}\r\n            format=\"jpg\"\r\n            height=\"100\"\r\n            width=\"100\"\r\n            isProduct=\"true\"\r\n          />\r\n        </div>\r\n        <div className=\"feed-row__actions\">\r\n          <div className=\"feed-row__action feed-row__text\">Ask for:</div>\r\n          <div className=\"feed-row__action feed-row__link\">Loan</div>\r\n          <div className=\"feed-row__action feed-row__link\"><Link to={exchangeTo}>Exchange</Link></div>\r\n          <div className=\"feed-row__action feed-row__link\">Buy</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchProps = {\r\n  fetchProduct,\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  subcategories: state.subcategories\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(FeedRow);\r\n","import { makeStandardActionCreator } from '../action-helpers';\r\nimport { FRIENDS_FETCHED, FRIEND_PRODUCTS_FETCHED } from './constants';\r\n\r\nimport { getFriends, getStuffiers } from '../../services/stuffier';\r\nimport { getListStuff, getStuffiersList } from '../../services/stuff';\r\nimport { mapFriends } from '../../components/helpers/UserHelper';\r\nimport { getFriendProducts, mapStuff } from '../../components/helpers/StuffHelper';\r\n\r\nconst friendsFetched = makeStandardActionCreator(FRIENDS_FETCHED);\r\nexport const fetchFriends = (email) => dispatch => {\r\n  return getFriends(email)\r\n  .then(res => getStuffiers(mapFriends(res.data)))\r\n  .then(res => {\r\n    const friends = res.data || [];   // TODO: Make this call better\r\n    dispatch(friendsFetched(friends, email));\r\n    return Promise.resolve(friends);\r\n  });\r\n}\r\n\r\nconst friendProductsFetched = makeStandardActionCreator(FRIEND_PRODUCTS_FETCHED);\r\nexport const fetchFriendsProducts = (friends) => dispatch => {\r\n  let stuffiers_stuff = [];\r\n\r\n  return getStuffiersList(friends)\r\n  .then(res => {\r\n    stuffiers_stuff = res.data;\r\n    return getListStuff(mapStuff(res.data));\r\n  })\r\n  .then(res => {\r\n    const products = res.data;\r\n    const friendsFilled = getFriendProducts(friends, products, stuffiers_stuff);\r\n    dispatch(friendProductsFetched(friendsFilled))\r\n    return Promise.resolve(friendsFilled);\r\n  });  \r\n}\r\n","export const FRIENDS_FETCHED = 'USER::FRIENDS_FETCHED';\r\nexport const FRIEND_PRODUCTS_FETCHED = 'FRIENDS::PRODUCTS_FETCHED';\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { isEmpty, map, sortBy } from 'lodash';\r\n\r\nimport FeedPost from '../types/FeedPost';\r\nimport FeedRow from './FeedRow';\r\nimport Loading from '../shared/Loading';\r\nimport State from '../../redux/State';\r\nimport User from '../types/User';\r\nimport { ContentProps, ContentState } from './types';\r\nimport { fetchFriendsProducts } from '../../redux/friends/actions';\r\nimport './Content.scss';\r\n\r\nclass Content extends Component<ContentProps, ContentState> {\r\n  state = {\r\n    isLoading: false,\r\n    feed: [],\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    const { fetchFriendsProducts, friends } = this.props;\r\n\r\n    if (isEmpty(this.state.feed)) {\r\n      this.setState({ isLoading: true });\r\n\r\n      fetchFriendsProducts(friends)\r\n      .then((friendsFilled: User[]) => this.generateFeed(friendsFilled))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n    }\r\n  }\r\n\r\n  generateFeed(friends: User[]) {\r\n    let feed: FeedPost[] = [];\r\n\r\n    friends.forEach((friend: User) => {\r\n      if (friend.products) {\r\n        friend.products.forEach(product => {\r\n          feed.push({\r\n            friend_id: friend.id,\r\n            friend_firstName: friend.first_name || '',\r\n            friend_lastName: friend.last_name || '',\r\n            product,\r\n            date: new Date().toString()\r\n            });  \r\n        })\r\n      }\r\n    });\r\n\r\n    this.setState({ feed: sortBy(feed, 'date') });\r\n  }\r\n\r\n  render() {\r\n    const { friends } = this.props;\r\n    const { isLoading, feed } = this.state;\r\n\r\n    if (isLoading) {\r\n      return (\r\n        <div className=\"content__loading\">\r\n          <Loading size=\"xl\" message=\"Loading Feed\" />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (!friends.length || !feed.length) {\r\n      return <div>No Friends! Add friends!</div>\r\n    }\r\n\r\n    return (\r\n      <div className=\"content\">\r\n        <div className=\"content__info\">\r\n          <div className=\"content__rows\">\r\n            {map(feed, (feedPost: FeedPost, index) => (<FeedRow key={index} feedPost={feedPost} />))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapDispatchProps = {\r\n  fetchFriendsProducts,\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user,\r\n  friends: state.friends,\r\n  subcategories: state.subcategories\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(Content);\r\n","export const barChartData = [\r\n  { name: 'Page A', uv: 4000, pv: 2400, amt: 2400 },\r\n  { name: 'Page B', uv: 3000, pv: 1398, amt: 2210 },\r\n  { name: 'Page C', uv: 2000, pv: 9800, amt: 2290 },\r\n  { name: 'Page D', uv: 2780, pv: 3908, amt: 2000 },\r\n  { name: 'Page E', uv: 1890, pv: 4800, amt: 2181 },\r\n  { name: 'Page F', uv: 2390, pv: 3800, amt: 2500 },\r\n  { name: 'Page G', uv: 3490, pv: 4300, amt: 2100 }\r\n];\r\n\r\nexport const treemapChartData = [\r\n  {\r\n    name: 'axis',\r\n    children: [\r\n      { name: 'Axes', size: 1302 },\r\n      { name: 'Axis', size: 24593 },\r\n      { name: 'AxisGridLine', size: 652 },\r\n      { name: 'AxisLabel', size: 636 },\r\n      { name: 'CartesianAxes', size: 6703 },\r\n    ],\r\n  },\r\n  {\r\n    name: 'controls',\r\n    children: [\r\n      { name: 'AnchorControl', size: 2138 },\r\n      { name: 'ClickControl', size: 3824 },\r\n      { name: 'Control', size: 1353 },\r\n      { name: 'ControlList', size: 4665 },\r\n      { name: 'DragControl', size: 2649 },\r\n      { name: 'ExpandControl', size: 2832 },\r\n      { name: 'HoverControl', size: 4896 },\r\n      { name: 'IControl', size: 763 },\r\n      { name: 'PanZoomControl', size: 5222 },\r\n      { name: 'SelectionControl', size: 7862 },\r\n      { name: 'TooltipControl', size: 8435 },\r\n    ],\r\n  },\r\n  {\r\n    name: 'data',\r\n    children: [\r\n      { name: 'Data', size: 20544 },\r\n      { name: 'DataList', size: 19788 },\r\n      { name: 'DataSprite', size: 10349 },\r\n      { name: 'EdgeSprite', size: 3301 },\r\n      { name: 'NodeSprite', size: 19382 },\r\n      {\r\n        name: 'render',\r\n        children: [\r\n          { name: 'ArrowType', size: 698 },\r\n          { name: 'EdgeRenderer', size: 5569 },\r\n          { name: 'IRenderer', size: 353 },\r\n          { name: 'ShapeRenderer', size: 2247 },\r\n        ],\r\n      },\r\n      { name: 'ScaleBinding', size: 11275 },\r\n      { name: 'Tree', size: 7147 },\r\n      { name: 'TreeBuilder', size: 9930 },\r\n    ],\r\n  },\r\n  {\r\n    name: 'events',\r\n    children: [\r\n      { name: 'DataEvent', size: 7313 },\r\n      { name: 'SelectionEvent', size: 6880 },\r\n      { name: 'TooltipEvent', size: 3701 },\r\n      { name: 'VisualizationEvent', size: 2117 },\r\n    ],\r\n  },\r\n  {\r\n    name: 'legend',\r\n    children: [\r\n      { name: 'Legend', size: 20859 },\r\n      { name: 'LegendItem', size: 4614 },\r\n      { name: 'LegendRange', size: 10530 },\r\n    ],\r\n  },\r\n  {\r\n    name: 'operator',\r\n    children: [\r\n      {\r\n        name: 'distortion',\r\n        children: [\r\n          { name: 'BifocalDistortion', size: 4461 },\r\n          { name: 'Distortion', size: 6314 },\r\n          { name: 'FisheyeDistortion', size: 3444 },\r\n        ],\r\n      },\r\n      {\r\n        name: 'encoder',\r\n        children: [\r\n          { name: 'ColorEncoder', size: 3179 },\r\n          { name: 'Encoder', size: 4060 },\r\n          { name: 'PropertyEncoder', size: 4138 },\r\n          { name: 'ShapeEncoder', size: 1690 },\r\n          { name: 'SizeEncoder', size: 1830 },\r\n        ],\r\n      },\r\n      {\r\n        name: 'filter',\r\n        children: [\r\n          { name: 'FisheyeTreeFilter', size: 5219 },\r\n          { name: 'GraphDistanceFilter', size: 3165 },\r\n          { name: 'VisibilityFilter', size: 3509 },\r\n        ],\r\n      },\r\n      { name: 'IOperator', size: 1286 },\r\n      {\r\n        name: 'label',\r\n        children: [\r\n          { name: 'Labeler', size: 9956 },\r\n          { name: 'RadialLabeler', size: 3899 },\r\n          { name: 'StackedAreaLabeler', size: 3202 },\r\n        ],\r\n      },\r\n      {\r\n        name: 'layout',\r\n        children: [\r\n          { name: 'AxisLayout', size: 6725 },\r\n          { name: 'BundledEdgeRouter', size: 3727 },\r\n          { name: 'CircleLayout', size: 9317 },\r\n          { name: 'CirclePackingLayout', size: 12003 },\r\n          { name: 'DendrogramLayout', size: 4853 },\r\n          { name: 'ForceDirectedLayout', size: 8411 },\r\n          { name: 'IcicleTreeLayout', size: 4864 },\r\n          { name: 'IndentedTreeLayout', size: 3174 },\r\n          { name: 'Layout', size: 7881 },\r\n          { name: 'NodeLinkTreeLayout', size: 12870 },\r\n          { name: 'PieLayout', size: 2728 },\r\n          { name: 'RadialTreeLayout', size: 12348 },\r\n          { name: 'RandomLayout', size: 870 },\r\n          { name: 'StackedAreaLayout', size: 9121 },\r\n          { name: 'TreeMapLayout', size: 9191 },\r\n        ],\r\n      },\r\n      { name: 'Operator', size: 2490 },\r\n      { name: 'OperatorList', size: 5248 },\r\n      { name: 'OperatorSequence', size: 4190 },\r\n      { name: 'OperatorSwitch', size: 2581 },\r\n      { name: 'SortOperator', size: 2023 },\r\n    ],\r\n  }\r\n];\r\n\r\nexport const pieChartData01 = [\r\n  { name: 'Group A', value: 400 },\r\n  { name: 'Group B', value: 300 },\r\n  { name: 'Group C', value: 300 },\r\n  { name: 'Group D', value: 200 }\r\n];\r\n\r\nexport const pieChartData02 = [\r\n  { name: 'A1', value: 100 },\r\n  { name: 'A2', value: 300 },\r\n  { name: 'B1', value: 100 },\r\n  { name: 'B2', value: 80 },\r\n  { name: 'B3', value: 40 },\r\n  { name: 'B4', value: 30 },\r\n  { name: 'B5', value: 50 },\r\n  { name: 'C1', value: 100 },\r\n  { name: 'C2', value: 200 },\r\n  { name: 'D1', value: 150 },\r\n  { name: 'D2', value: 50 }\r\n];\r\n\r\nexport const radialChartData = [\r\n  { name: '18-24', uv: 31.47, pv: 2400, fill: '#8884d8' },\r\n  { name: '25-29', uv: 26.69, pv: 4567, fill: '#83a6ed' },\r\n  { name: '30-34', uv: 15.69, pv: 1398, fill: '#8dd1e1' },\r\n  { name: '35-39', uv: 8.22, pv: 9800, fill: '#82ca9d' },\r\n  { name: '40-49', uv: 8.63, pv: 3908, fill: '#a4de6c' },\r\n  { name: '50+', uv: 2.63, pv: 4800, fill: '#d0ed57' },\r\n  { name: 'unknow', uv: 6.67, pv: 4800, fill: '#ffc658' }\r\n];\r\n","import React, { Component } from 'react';\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, LineChart, Line } from 'recharts';\r\nimport { AreaChart, Area } from 'recharts';\r\nimport { Treemap } from 'recharts';\r\nimport { PieChart, Pie } from 'recharts';\r\nimport { ScatterChart, Scatter } from 'recharts';\r\nimport { RadialBarChart, RadialBar } from 'recharts';\r\nimport { barChartData, treemapChartData, pieChartData01, pieChartData02, radialChartData } from '../../services/charts';\r\n\r\nclass Charts extends Component {\r\n  state = {\r\n    barChartData: [],\r\n    treemapChartData: [],\r\n    pieChartData01: [],\r\n    pieChartData02: [],\r\n    radialChartData: [],  \r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <BarChart width={600} height={300} data={barChartData}\r\n          margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\r\n          <XAxis dataKey=\"name\" />\r\n          <YAxis />\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <Tooltip />\r\n          <Legend />\r\n          <Bar dataKey=\"pv\" fill=\"#8884d8\" />\r\n          <Bar dataKey=\"uv\" fill=\"#82ca9d\" />\r\n        </BarChart>\r\n\r\n        <LineChart width={600} height={300} data={barChartData}>\r\n          <XAxis dataKey=\"name\" padding={{ left: 30, right: 30 }} />\r\n          <YAxis />\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <Tooltip />\r\n          <Legend />\r\n          <Line type=\"monotone\" dataKey=\"pv\" stroke=\"#8884d8\" activeDot={{ r: 8 }} />\r\n          <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#82ca9d\" />\r\n        </LineChart>\r\n\r\n        <AreaChart width={730} height={250} data={barChartData}\r\n          margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>\r\n          <defs>\r\n            <linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n              <stop offset=\"5%\" stopColor=\"#8884d8\" stopOpacity={0.8} />\r\n              <stop offset=\"95%\" stopColor=\"#8884d8\" stopOpacity={0} />\r\n            </linearGradient>\r\n            <linearGradient id=\"colorPv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n              <stop offset=\"5%\" stopColor=\"#82ca9d\" stopOpacity={0.8} />\r\n              <stop offset=\"95%\" stopColor=\"#82ca9d\" stopOpacity={0} />\r\n            </linearGradient>\r\n          </defs>\r\n          <XAxis dataKey=\"name\" />\r\n          <YAxis />\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <Tooltip />\r\n          <Area type=\"monotone\" dataKey=\"uv\" stroke=\"#8884d8\" fillOpacity={1} fill=\"url(#colorUv)\" />\r\n          <Area type=\"monotone\" dataKey=\"pv\" stroke=\"#82ca9d\" fillOpacity={1} fill=\"url(#colorPv)\" />\r\n        </AreaChart>\r\n\r\n        <Treemap\r\n          width={730}\r\n          height={250}\r\n          data={treemapChartData}\r\n          dataKey=\"size\"\r\n          aspectRatio={4 / 3}\r\n          stroke=\"#fff\"\r\n          fill=\"#8884d8\"\r\n        />\r\n\r\n        <PieChart width={800} height={400}>\r\n          <Pie dataKey=\"value\" data={pieChartData01} cx={200} cy={200} outerRadius={60} fill=\"#8884d8\" />\r\n          <Pie dataKey=\"value\" data={pieChartData02} cx={200} cy={200} innerRadius={70} outerRadius={90} fill=\"#82ca9d\" label />\r\n        </PieChart>\r\n\r\n        <ScatterChart width={730} height={250}\r\n          margin={{ top: 20, right: 20, bottom: 10, left: 10 }}>\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis dataKey=\"value\" name=\"stature\" unit=\"cm\" />\r\n          <YAxis dataKey=\"value\" name=\"weight\" unit=\"cm\" />\r\n          <Tooltip cursor={{ strokeDasharray: '3 3' }} />\r\n          <Legend />\r\n          <Scatter name=\"Data01\" data={pieChartData01} fill=\"#8884d8\" />\r\n          <Scatter name=\"Data02\" data={pieChartData02} fill=\"#82ca9d\" />\r\n        </ScatterChart>\r\n\r\n        <RadialBarChart width={730} height={250} innerRadius=\"10%\" outerRadius=\"80%\" data={radialChartData} startAngle={180} endAngle={0}>\r\n          <RadialBar angleAxisId={15} label={{ fill: '#666', position: 'insideStart' }} background dataKey='uv' />\r\n          <Legend iconSize={10} width={120} height={140} layout='vertical' verticalAlign='middle' align=\"right\" />\r\n          <Tooltip />\r\n        </RadialBarChart>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Charts;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Loading from '../shared/Loading';\r\nimport TextField from '../shared/TextField';\r\nimport { getSearchResults, getProductResults } from '../../services/stuff';\r\nimport './SearchBar.scss';\r\n\r\nclass SearchBar extends Component<any, any> {\r\n  source: any = null;\r\n\r\n  state = {\r\n    isLoading: false,\r\n    isOpen: false,\r\n    results: []\r\n  };\r\n\r\n  handleClickOutside() {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  open = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  toggle = () => {\r\n    this.setState({ isOpen: !this.state.isOpen });\r\n  }\r\n\r\n  fetchResults = (searchText: string) => {\r\n    const { products, selectProduct } = this.props;\r\n\r\n    this.source && this.source.cancel('Cancel pending requests.');\r\n    this.source = axios.CancelToken.source();\r\n    this.setState({ isOpen: true, isLoading: true });\r\n\r\n    if (searchText) {\r\n      if (selectProduct) {\r\n        this.setState({ results: getProductResults(searchText, products), isOpen: true, isLoading: false });\r\n      } else {\r\n        getSearchResults(searchText, products, this.source.token).then((results: any) => {\r\n          if (results.length) {\r\n            this.setState({ results, isOpen: true, isLoading: false });\r\n          } else {\r\n            this.setState({ isOpen: false, isLoading: false });\r\n          }\r\n        });  \r\n      }\r\n    } else {\r\n      this.setState({ isOpen: false, isLoading: false });\r\n    }\r\n  }\r\n\r\n  getLinkTo = (result: any) => {\r\n    return { pathname: `/${result.type.toLowerCase()}/${result.id}`, [result.type.toLowerCase()]: result.name };\r\n  }\r\n\r\n  renderResults() {\r\n    const { results } = this.state;\r\n    const { selectProduct } = this.props;\r\n\r\n    if (results.length) {\r\n      return (\r\n        <div className=\"search__results\">\r\n          {results.map((result: any, index: number) => {\r\n            return (\r\n              <div className=\"search__result\" key={index}>\r\n              {!selectProduct &&\r\n                <Link key={index} className=\"search__result-link\" to={this.getLinkTo(result)}>\r\n                  {this.renderResultName(result)}\r\n                </Link>\r\n              }\r\n              {selectProduct && \r\n                <button key={index} onClick={event => event && selectProduct(result)}>\r\n                  {this.renderResultName(result)}\r\n                </button>\r\n              }\r\n              </div>);\r\n          })}\r\n        </div>\r\n      );  \r\n    }\r\n  }\r\n\r\n  renderResultName = (result: any) => {\r\n    const type = result.type ? result.type[0] : 'P';\r\n\r\n    return (\r\n      <div className=\"search__result-info\">\r\n        <div className=\"search__result-name\">{result.name}</div>\r\n        <div className={`search__result-type search__result-${type}`}>| {type}</div>\r\n      </div>                 \r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n    const isOpen = this.state.isOpen ? 'dropdown--is-open' : '';\r\n\r\n    return (\r\n      <div className=\"search-bar\">\r\n        <div className=\"search-bar__form\">\r\n          <TextField \r\n            name=\"search\"\r\n            type=\"input\"\r\n            placeholder=\"Find stuff...\"\r\n            onChange={(value: string) => this.fetchResults(value)}\r\n          >\r\n          </TextField>\r\n          <div className=\"search-bar__button\">\r\n            <i className=\"fas fa-search\"></i>\r\n          </div>\r\n        </div>\r\n        <div className=\"search-bar__content-container\">\r\n          <div className={`search-bar__content ${isOpen}`}>\r\n            {isLoading && <Loading size=\"md\"></Loading>}\r\n            {!isLoading && this.renderResults()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","import { makeStandardActionCreator } from '../action-helpers';\r\nimport { EXCHANGES_FETCHED, EXCHANGE_REQUESTED, EXCHANGE_DELETED } from './constants';\r\nimport { addExchangeRequest, getExchangeRequests, deleteExchangeRequest } from '../../services/exchange';\r\n\r\nconst requestExchange = makeStandardActionCreator(EXCHANGE_REQUESTED);\r\nexport const exchangeRequest = (idOwner, idStuff, idRequestor, idRequestorStuff) => dispatch => {\r\n  return addExchangeRequest(idOwner, idStuff, idRequestor, idRequestorStuff)\r\n  .then(res => {\r\n    dispatch(requestExchange(res.data, idOwner));\r\n    Promise.resolve(res.data);\r\n  })\r\n  .catch(error => Promise.reject(error));\r\n}\r\n\r\nconst requestExchanges = makeStandardActionCreator(EXCHANGES_FETCHED);\r\nexport const fetchExchangeRequests = userId => dispatch => {\r\n  return getExchangeRequests(userId)\r\n  .then(res => {\r\n    dispatch(requestExchanges(res.data, userId));\r\n    Promise.resolve(res.data);\r\n  })\r\n  .catch(error => Promise.reject(error));\r\n}\r\n\r\nconst requestDelete = makeStandardActionCreator(EXCHANGE_DELETED);\r\nexport const deleteRequest = _id => dispatch => {\r\n  return deleteExchangeRequest(_id)\r\n  .then(res => {\r\n    const result = res.data.result[0];\r\n    dispatch(requestDelete(result))\r\n    Promise.resolve(result);\r\n  })\r\n  .catch(error => Promise.reject(error));\r\n}\r\n","export const EXCHANGE_REQUESTED = 'EXCHANGE::REQUESTED';\r\nexport const EXCHANGES_FETCHED = 'EXCHANGES::FETCHED';\r\nexport const EXCHANGE_DELETED = 'EXCHANGE::DELETED';\r\n","import React, { Component } from 'react';\r\nimport { Redirect, withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { get, isEmpty } from 'lodash';\r\n\r\nimport Button from '../shared/Button';\r\nimport Category from '../types/Category';\r\nimport Media from '../shared/Media';\r\nimport Product from '../types/Product';\r\nimport State from '../../redux/State';\r\nimport Subcategory from '../types/Subcategory';\r\nimport SearchBar from '../shared/SearchBar';\r\nimport WarningMessage from '../shared/WarningMessage';\r\nimport { WarningMessageType } from '../shared/types';\r\nimport { ExchangeProps } from './types';\r\nimport { exchangeRequest } from '../../redux/exchange-requests/actions';\r\nimport { getProductsList } from '../helpers/StuffHelper';\r\n\r\nimport './Exchange.scss';\r\n\r\nclass Exchange extends Component<ExchangeProps, any> {\r\n  state = {\r\n    userProducts: [],\r\n    selectedProduct: {},\r\n    message: '',\r\n    type: WarningMessageType.EMPTY\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { location, products } = this.props;\r\n    const product: Product = location.product;\r\n    const userProducts = getProductsList(products)\r\n      .filter(p => p.category === product.category || p.subcategory === product.subcategory);\r\n\r\n    this.setState({ userProducts });\r\n  }\r\n\r\n  requestExchange = () => {\r\n    const { exchangeRequest, history, location, user } = this.props;\r\n    const { selectedProduct } = this.state;\r\n\r\n    const idOwner = location.friend;\r\n\r\n    console.log('This is to execute request exchange');\r\n\r\n    exchangeRequest(idOwner, location.product.id, user.id, get(selectedProduct, 'id'))\r\n    .then(() => this.setState({ message: 'Exchange request successfully', type: WarningMessageType.SUCCESSFUL }))\r\n    .catch(() => this.setState({ message: 'Exchange request failed', type: WarningMessageType.SUCCESSFUL }))\r\n    .finally(() => history.push('/'));\r\n  }\r\n\r\n  selectProduct = (product: Product) => {\r\n    this.setState({ selectedProduct: product });\r\n  }\r\n\r\n  renderProduct = (product: Product) => {\r\n    const { categories, subcategories } = this.props;\r\n\r\n    const category: Category = categories.filter(c => c.id === product.category)[0];\r\n    const subcategory: Subcategory = subcategories.filter(s => s.id === product.subcategory)[0];\r\n\r\n    return (\r\n      <div className=\"exchange__product\">\r\n        <Media\r\n          fileName={product.id}\r\n          category={product.category}\r\n          subcategory={product.subcategory}\r\n          format=\"jpg\"\r\n          height=\"100\"\r\n          width=\"100\"\r\n          isProduct=\"true\"\r\n        />\r\n        <div className=\"exchange__product-info\">\r\n          <div>{product.name}</div>\r\n          <div>{category.name}</div>\r\n          <div>{subcategory.name}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { location } = this.props;\r\n    const { selectedProduct, userProducts, message, type } = this.state;\r\n    const product = location.product;\r\n\r\n    if (!userProducts) return;\r\n\r\n    if (!product) return <Redirect to='/'/>\r\n\r\n    return (\r\n      <div className=\"exchange\">\r\n        <WarningMessage message={message} type={type} />\r\n        <div className=\"exchange__header\">\r\n          <SearchBar products={userProducts} selectProduct={(p: Product) => this.selectProduct(p)} />\r\n        </div>\r\n        { !isEmpty(selectedProduct) &&\r\n          <div className=\"exchange__content\">\r\n            <div className=\"exchange__compare\">\r\n              {this.renderProduct(selectedProduct)}\r\n              <div className=\"exchange__line\"></div>\r\n              {this.renderProduct(product)}\r\n            </div>\r\n            <Button\r\n              type=\"submit\"\r\n              onClick={this.requestExchange}\r\n              text=\"Request Exchange\">\r\n            </Button>\r\n          </div>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  categories: state.categories,\r\n  products: state.products,\r\n  subcategories: state.subcategories,\r\n  user: state.user\r\n});\r\n\r\nconst mapDispatchProps = {\r\n  exchangeRequest\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(withRouter<any, React.ComponentClass<any>>(Exchange));\r\n","import axios from 'axios';\r\nimport routes from './routes';\r\nimport config from './config';\r\n\r\nexport const addExchangeRequest = (id_stuffier, id_stuff, id_friend, id_friend_stuff) => (\r\n  axios.post(routes.exchange.request(), { id_stuffier, id_friend, id_stuff, id_friend_stuff }, { headers: config.headers })\r\n);\r\n\r\nexport const getExchangeRequests = id_stuffier => (\r\n  axios.get(routes.exchange.list(id_stuffier), { headers: config.headers })\r\n);\r\n\r\nexport const deleteExchangeRequest = _id => (\r\n  axios.delete(routes.exchange.deleteRequest(_id), { headers: config.headers })\r\n);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nimport Button from '../shared/Button';\r\nimport State from '../../redux/State';\r\nimport TextField from '../shared/TextField';\r\nimport User from '../types/User';\r\nimport WarningMessage from '../shared/WarningMessage';\r\nimport { addFriend, deleteRequest, getStuffiers, requestToBeFriend } from '../../services/stuffier';\r\nimport { mapIds } from '../helpers/UserHelper';\r\nimport { FriendsProps } from './types';\r\nimport { WarningMessageType } from '../shared/types';\r\n\r\nimport './Friends.scss';\r\n\r\nclass Friends extends Component<FriendsProps, any> {\r\n  textField = React.createRef<TextField>();\r\n\r\n  state = {\r\n    requests: [],\r\n    emailToRequest: '',\r\n    message: null,\r\n    textfield: null,\r\n    executeStatus: WarningMessageType.EMPTY\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { friendsRequests } = this.props;\r\n\r\n    if (friendsRequests.length > 0) {\r\n      getStuffiers(mapIds(friendsRequests))\r\n      .then((res: any) => this.setState({ requests: res.data }));\r\n    }\r\n  }\r\n\r\n  executeRequest = (friend: User, isAccepted = false) => {\r\n    const { user } = this.props;\r\n    let promises = [deleteRequest(user.email, friend.id)];\r\n    isAccepted && promises.push(addFriend(user.email, friend.id));\r\n\r\n    Promise.all(promises)\r\n    .then((values: any) => {\r\n      !isAccepted && this.setState({ executeStatus: WarningMessageType.WARNING });\r\n      console.log(values[0].data);\r\n      isAccepted && this.setState({ executeStatus: WarningMessageType.SUCCESSFUL });\r\n      isAccepted && console.log(values[1].data);\r\n    })\r\n    .catch(() => this.setState({ executeStatus: WarningMessageType.ERROR }));\r\n  }\r\n\r\n  renderRequests = () => {\r\n    const { requests } = this.state;\r\n\r\n    return (\r\n      <div className=\"friends__requests\">\r\n        <hr />\r\n        <h3 className=\"friends__title\">\r\n          <div>Requests</div>\r\n          <div className=\"friends__warning\">{requests.length}</div>\r\n        </h3>\r\n        <ul>\r\n          {requests.map((friend: User, index: number) => {\r\n            return (\r\n              <li className=\"friends__request\" key={index}>\r\n                <div className=\"friends__request-text\">\r\n                  {friend.first_name} {friend.last_name} ({friend.email})\r\n                </div>\r\n                <div className=\"friends__request-button\">\r\n                  <Button onClick={() => this.executeRequest(friend, true)} text=\"Accept\"></Button>\r\n                </div>\r\n                <div className=\"friends__request-button\">\r\n                  <Button onClick={() => this.executeRequest(friend)} text=\"Reject\"></Button>\r\n                </div>\r\n              </li>\r\n            )}\r\n          )}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleRequest = () => {\r\n    const { user } = this.props;\r\n    const { emailToRequest } = this.state;\r\n\r\n    requestToBeFriend(emailToRequest, user.id)\r\n    .then(() => this.setState({ message: 'Request sent succesfully', emailToRequest: '' }))\r\n    .catch(() => this.setState({ message: 'Request couldnt be sent', emailToRequest: '' }))\r\n  }\r\n\r\n  getMessage = () => {\r\n    const { emailToRequest, executeStatus } = this.state;\r\n    const message =\r\n      executeStatus === WarningMessageType.ERROR ? 'was not added' :\r\n      executeStatus === WarningMessageType.WARNING ? 'was rejected!' :\r\n      executeStatus === WarningMessageType.SUCCESSFUL ? 'was accepted!' : null;\r\n\r\n    if (!message) return '';\r\n\r\n    return `Friend ${emailToRequest} ${message}`;\r\n  }\r\n\r\n  render() {\r\n    const { friends, t, user } = this.props;\r\n    const { requests, message, emailToRequest, executeStatus } = this.state;\r\n\r\n    return (\r\n      <div className=\"friends\">\r\n        <h2 className=\"friends__title\">{t('Friends-Title', { first_name: user.first_name })}</h2>\r\n        <WarningMessage message={this.getMessage()} type={executeStatus}/>\r\n        <ul>\r\n          {friends.map((friend: any) => (<li key={friend.id}>{friend.first_name} {friend.last_name} - {friend.email}</li>))}\r\n        </ul>\r\n        {requests.length > 0 && this.renderRequests()}\r\n        <hr />\r\n        <div>\r\n          <h3 className=\"friends__title\">{t('Add-Friend')}</h3>\r\n          <div className=\"friends__form\">\r\n            <TextField\r\n              placeholder=\"Friend Email\"\r\n              type=\"text\"\r\n              name=\"friend_email\"\r\n              value={emailToRequest}\r\n              onChange={(emailToRequest: string) => this.setState({ emailToRequest })}\r\n            >\r\n            </TextField>\r\n            <div className=\"friends__button\">\r\n              <Button text=\"Request\" onClick={() => this.handleRequest()}></Button>\r\n            </div>\r\n          </div>\r\n          {message && (<div className=\"friends__message\">{message}</div>)}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user,\r\n  friends: state.friends,\r\n  friendsRequests: state.friendsRequests\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(withTranslation()<any>(Friends));\r\n","import { map } from 'lodash';\r\n\r\nexport function mapFriends(friends: any) {\r\n  return map(friends, friend => {\r\n    return { id: friend.id_friend };\r\n  });\r\n}\r\n\r\nexport function mapIds(collection: any) {\r\n  return map(collection, collection => {\r\n    return { id: collection.id_friend };\r\n  });\r\n}\r\n","import XLSX from 'xlsx';\r\nimport Product from '../types/Product';\r\n\r\n// const excelType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\r\nconst excelfileExtension = '.xlsx';\r\n\r\nfunction capitalize(word: string) {\r\n  return word.charAt(0).toUpperCase() + word.slice(1);\r\n}\r\n\r\nfunction getArrayofArrays(productsArray: Array<Product>) {\r\n  return productsArray.map((product: Product) => {\r\n    return [product.id, product.name, product.category, product.subcategory];\r\n  });\r\n}\r\n\r\nfunction getColsName(product: any) {\r\n  return Object.keys(product).map((key: string) => capitalize(key))\r\n}\r\n\r\n/*\r\n*  This is to convert \r\n*  Products = { [category.id]: [ {id: 1, name: 'Product' ...} ] to\r\n*  Res = [ ['Id', 'Name', ...], [1, 'Product', ...] ]\r\n*  needed for XLSX.\r\n*/\r\nexport function getDataToExport(products: any) {\r\n  let data: Array<any> = [];\r\n\r\n  Object.keys(products).forEach(key => {\r\n    if (products[key].length > 0) {\r\n\r\n      // Setting cols names first\r\n      // [ ['id', 'name', ...]]\r\n      if (!data.length) {\r\n        data = [getColsName({\r\n          id: products[key][0].id,\r\n          name: products[key][0].name,\r\n          category: products[key][0].category,\r\n          subcategory: products[key][0].subcategory\r\n        })];\r\n      }\r\n\r\n      let arrayOfCategory = getArrayofArrays(products[key]);\r\n      data = [...data, ...arrayOfCategory];\r\n    }\r\n  });\r\n\r\n  return data;\r\n}\r\n\r\n/*\r\n*  XLSX GitHub project\r\n*  https://github.com/SheetJS/sheetjs\r\n*  Example: https://sheetjs.com/demos/writexlsx.html \r\n*/\r\nexport function downloadExcel(products: any, fileName: string) {\r\n  const data = getDataToExport(products);\r\n\r\n  let worsheet_name = \"Products_Sheet\";\r\n  let worksheet_book = XLSX.utils.book_new();\r\n\r\n  /* convert from array of arrays to workbook */\r\n  let worksheet = XLSX.utils.aoa_to_sheet(data);\r\n\r\n  /* add worksheet to workbook */\r\n  XLSX.utils.book_append_sheet(worksheet_book, worksheet, worsheet_name);\r\n  XLSX.writeFile(worksheet_book, `${fileName}${excelfileExtension}`);\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { map } from 'lodash';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Button from '../shared/Button';\r\nimport Category from '../types/Category';\r\nimport ExchangeRequest from '../types/ExchangeRequest';\r\nimport State from '../../redux/State';\r\nimport Product from '../types/Product';\r\nimport User from '../types/User';\r\nimport { ProductsProps } from '../sections/types';\r\nimport { downloadExcel } from '../helpers/DownloadHelper';\r\nimport { deleteRequest } from '../../redux/exchange-requests/actions';\r\nimport { isProductsEmpty } from '../helpers/StuffHelper';\r\nimport './Products.scss';\r\n\r\nclass Products extends Component<ProductsProps, any> {\r\n  generateReport = () => {\r\n    const { products, user } = this.props;\r\n\r\n    downloadExcel(products, `${user.first_name}_products`);\r\n  }\r\n\r\n  executeDeleteExchange = (_id: number) => {\r\n    const { deleteRequest } = this.props;\r\n\r\n    deleteRequest(_id)\r\n    .then((res: any) => console.log(res))\r\n    .catch((error: any) => console.log(error));\r\n  }\r\n\r\n  renderRequests = () => {\r\n    const { exchangeRequests, friends, user } = this.props;\r\n    \r\n    return (\r\n      <div className=\"products__requests\">\r\n        <hr />\r\n        <h3 className=\"products__requests-title\">\r\n          <div>Exchange Requests</div>\r\n          <div className=\"products__warning\">{exchangeRequests.length}</div>\r\n        </h3>\r\n        <ul>\r\n          {exchangeRequests.map((request: ExchangeRequest, index: number) => {\r\n            const owner = request.id_stuffier === user.id ? user : friends.filter((f: User) => f.id === request.id_stuffier)[0];\r\n            const requestor = request.id_friend === user.id ? user : friends.filter((f: User) => f.id === request.id_friend)[0];\r\n            const isUserRequestor = user === requestor;\r\n            const isUserOwner = user === owner;\r\n            const rejectText = isUserRequestor ? 'Cancel' : 'Reject';\r\n\r\n            return (\r\n              <li className=\"products__request\" key={index}>\r\n                <div className=\"products__request-group\">\r\n                  <div className=\"products__request-text\">\r\n                    Owner: {isUserOwner ? 'Me' : `${owner.first_name} ${owner.last_name} (${owner.email})`}\r\n                  </div>\r\n                  <div className=\"products__request-text\">\r\n                    Requestor: {isUserRequestor ? 'Me' : `${requestor.first_name} ${requestor.last_name} (${requestor.email})`}\r\n                  </div>\r\n                </div>\r\n                <div className=\"products__request-buttons\">\r\n                  {!isUserRequestor && <div className=\"products__request-button\">\r\n                    <Button onClick={() => console.log(\"Accept Exchange\")} text=\"Accept\"></Button>\r\n                  </div>}\r\n                  <div className=\"products__request-button\">\r\n                    <Button onClick={() => this.executeDeleteExchange(request._id)} text={rejectText}></Button>\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            )}\r\n          )}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { categories, exchangeRequests, history, products, user } = this.props;\r\n\r\n    return (\r\n      <div className=\"products\">\r\n        <div className=\"products__title\">\r\n          <h2>{user.first_name} Stuff</h2>\r\n          <div className=\"products__add-product\">\r\n            <Button text=\"Add Product\" onClick={() => history.push('/product/add')}></Button>\r\n          </div>\r\n        </div>\r\n        {exchangeRequests.length > 0 && this.renderRequests()}\r\n        <hr />\r\n        {isProductsEmpty(products) && (<div>No Stuff! Add Products!</div>)}\r\n        {!isProductsEmpty(products) &&\r\n          (<div>\r\n            {categories.map((category: Category) => {\r\n              if (!products[category.id] || !products[category.id].length) return;\r\n\r\n              return (\r\n                <div key={category.id}>\r\n                  <h4>{category.name}</h4>\r\n                  <ul>\r\n                    {map(products[category.id as number], (product: Product) => {\r\n                      return (\r\n                        <li key={`${category.id}_${product.id}`}><Link to={`/product/${product.id}`}>{product.name}</Link></li>\r\n                      )\r\n                    })}\r\n                  </ul>\r\n                </div>\r\n              )\r\n            })}\r\n            <hr />\r\n            <Button onClick={() => this.generateReport()} text=\"Generate Report\"></Button>\r\n          </div>)\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user,\r\n  categories: state.categories,\r\n  friends: state.friends,\r\n  exchangeRequests: state.exchangeRequests,\r\n  products: state.products\r\n});\r\n\r\nconst mapDispatchProps = {\r\n  deleteRequest\r\n};\r\n\r\nexport { Products as ProductsComponent };\r\nexport default connect(mapStateToProps, mapDispatchProps)(Products);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { find } from 'lodash';\r\n\r\nimport Loading from '../shared/Loading';\r\nimport Media from '../shared/Media';\r\nimport State from '../../redux/State';\r\nimport { ProductProps, ProductState } from '../sections/types';\r\nimport { getProductFromProducts } from '../helpers/StuffHelper';\r\n\r\nclass Product extends Component<ProductProps, ProductState> {\r\n  state = {\r\n    id: null,\r\n    product: { name: null, id: null, category: null, subcategory: null }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { match, products } = this.props;\r\n    const id = parseInt(match.params.id);\r\n    this.setState({ id, product: getProductFromProducts(id, products) });\r\n  }\r\n\r\n  componentDidUpdate(prevProps: ProductProps, prevState: any) {\r\n    const { match, products } = this.props;\r\n    const id = parseInt(match.params.id);\r\n\r\n    if (id !== prevState.id) {\r\n      this.setState({ id: match.params.id, product: getProductFromProducts(id, products) });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { categories, subcategories } = this.props;\r\n    const { product } = this.state;\r\n\r\n    if (!product) return <Loading size=\"lg\" message=\"Loading product...\" />;\r\n\r\n    const category = find(categories, c => c.id === product.category);\r\n    const subcategory = find(subcategories, s => s.id === product.subcategory);\r\n\r\n    return (\r\n      <div className=\"product\">\r\n        <h3>{ product.name }</h3>\r\n        <hr />\r\n          <Media\r\n            fileName={product.id}\r\n            category={product.category}\r\n            subcategory={product.subcategory}\r\n            isProduct=\"true\"\r\n            height=\"200\"\r\n            width=\"100\" />\r\n        <hr />\r\n        <div>Category: { category && category.name } </div>\r\n        <div>Subcategory: { subcategory && subcategory.name } </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  categories: state.categories,\r\n  products: state.products,\r\n  subcategories: state.subcategories\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(Product);\r\n","import React, { Component } from 'react';\r\n\r\nclass Support extends Component {\r\n  render() {\r\n    return (\r\n      <iframe \r\n      src='https://webchat.botframework.com/embed/StuffieBot?s=fkpQavtTB78.cwA.pjM.9djZJuhRob4Mt-Lb5-1Wk7yrsHtLAxOKIL6w3gE4910'\r\n      title='WebChat' />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Support;\r\n","import React, { Component } from 'react';\r\nimport Tesseract from 'tesseract.js';\r\n\r\nclass Tickets extends Component<any, any> {\r\n  state = {\r\n    file: '',\r\n    progressValue: 0\r\n  }\r\n\r\n  handleChange(event: any) {\r\n    if (event && event.target && event.target.files) {\r\n      const file = event.target.files[0] as File;\r\n      this.setState({ file });\r\n    }\r\n  }\r\n\r\n  handleSubmit(event: any) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    Tesseract.recognize(this.state.file, 'eng')\r\n      .progress(this.progressUpdate)\r\n      .then(this.result)\r\n  }\r\n\r\n  result(res: any) {\r\n    var log = document.getElementById('info') as HTMLElement;\r\n    var result = document.getElementById('result') as HTMLElement;\r\n\r\n    log.innerHTML = 'Finished!';\r\n    result.innerHTML = res ? res.text : '';\r\n  }\r\n\r\n  progressUpdate(packet: any) {\r\n    if ('progress' in packet) {\r\n      var progress = document.querySelector('progress') as any;\r\n      progress.value = packet.progress;\r\n      progress.max = 1;\r\n      (document.getElementById(\"info\") as HTMLElement).innerHTML = `Analyzing file...`;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"tickets\">\r\n        <h3>Tickets</h3>\r\n        <div className=\"ticketsForm\">\r\n          <form onSubmit={event => this.handleSubmit(event)}>\r\n            <input type='file' id='fileId' name='fileName'\r\n              onChange={event => this.handleChange(event)} />\r\n            <hr />\r\n            <input type=\"submit\" value=\"Analyze\" disabled={!this.state.file} />\r\n          </form>\r\n        </div>\r\n        <hr />\r\n        <div id=\"status\" className=\"ticketsStatus\">\r\n          <progress value={this.state.progressValue} max=\"100\"></progress>\r\n          <span id=\"statusInfo\" className=\"statusInfo\">\r\n            Status: <span id=\"info\" />\r\n          </span>\r\n        </div>\r\n        <hr />\r\n        <div id=\"result\"></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tickets;\r\n","import React, { Component } from 'react';\r\nimport crypto from '../../config/crypto';\r\n\r\nclass Test extends Component<any, any> {\r\n\r\n  authenticate = () => {\r\n    // TEST - ENCRYPT\r\n    console.log(`secreto: ${crypto.encrypt(\"secreto\")}`);\r\n    console.log(`mario: ${crypto.encrypt(\"mario\")}`);\r\n    console.log(`doc: ${crypto.encrypt(\"secrdoceto\")}`);\r\n    console.log(`merol: ${crypto.encrypt(\"merol\")}`);\r\n  }\r\n\r\n  getStuff = () => {\r\n    let stuff = [\r\n      { id: 1, name: 'Carlos Reyes 1' },\r\n      { id: 2, name: 'Carlos Reyes 2' },\r\n      { id: 1, name: 'Carlos Reyes 1' },\r\n      { id: 3, name: 'Carlos Reyes 3' },\r\n    ];\r\n\r\n    let r = [1, 1, 2, 3, 4, 5];\r\n\r\n    return r.filter((item, index) => {\r\n      return r.indexOf(item) === index;\r\n    });\r\n  }\r\n\r\n  reverseStuff(name: string) {\r\n    return name.split('').reverse().join('');\r\n  }\r\n\r\n  render() {\r\n    this.authenticate();\r\n    const x = this.getStuff();\r\n    const a = this.reverseStuff('unodostres');\r\n    return (\r\n      <div>\r\n        <span>This is my test = {a}</span>\r\n        <span>This is my other test = {x}</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Test;\r\n","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport AddCategory from '../content/AddCategory';\r\nimport AddProduct from '../content/AddProduct';\r\nimport Admin from '../admin/Admin';\r\nimport CategoryPage from '../content/CategoryPage';\r\nimport Content from '../content/Content';\r\nimport Charts from '../apps/Charts';\r\nimport Exchange from '../apps/Exchange';\r\nimport Friends from '../content/Friends';\r\nimport Products from '../content/Products';\r\nimport Product from '../content/Product';\r\nimport Support from '../apps/Support';\r\nimport Tickets from '../apps/Tickets';\r\nimport Test from '../apps/Test';\r\nimport { MainRoutesProps } from './types';\r\n\r\nclass MainRoutes extends Component<MainRoutesProps, any> {\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Content} />\r\n        <Route path=\"/admin\" component={Admin} />\r\n        <Route path=\"/friends\" component={Friends} />\r\n        <Route path=\"/products\" component={Products} />\r\n        <Route path=\"/product/add\" component={AddProduct} />\r\n        <Route path=\"/product/:id\" render={props => <Product { ...props } />} />\r\n        <Route path=\"/category/add\" render={()=> <AddCategory type='category' />} />\r\n        <Route path=\"/category/:id\" render={props => <CategoryPage { ...props } { ...this.props } />} />\r\n        <Route path=\"/subcategory/add\" render={()=> <AddCategory type='subcategory' />} />\r\n        <Route path=\"/exchange\" render={props => <Exchange { ...props } {...this.props } />} />\r\n        <Route path=\"/charts\" component={Charts} />\r\n        <Route path=\"/support\" component={Support} />\r\n        <Route path=\"/tickets\" component={Tickets} />\r\n        <Route path=\"/test\" component={Test} />        \r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MainRoutes;\r\n","import React, { Component } from 'react';\r\nimport './Footer.scss';\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"footer\">\r\n        <hr />\r\n        Stuffie&trade; is a platform coded and registered by &nbsp;\r\n        <a href=\"http://stuffie.azurewebsites.net/PM_Carlos-Reyes2.html\" target=\"_blank\">Carlos Reyes-Rico</a>.\r\n  </div>\r\n\r\n    );\r\n  }\r\n};\r\n\r\nexport default Footer;\r\n","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nimport Apps from '../sections/Apps';\r\nimport Media from '../shared/Media';\r\nimport SearchBar from '../shared/SearchBar';\r\nimport State from '../../redux/State';\r\nimport { HeaderProps, HeaderState } from './types';\r\nimport { logout } from '../../redux/user/actions';\r\nimport './Header.scss';\r\n\r\nclass Header extends Component<HeaderProps, any> {\r\n  handleLogout = (event: any) => {\r\n    const { logout, history } = this.props;\r\n\r\n    event.preventDefault();\r\n\r\n    logout();\r\n    history.push('/');\r\n  }\r\n\r\n  /* Toggle between showing and hiding the navigation menu links when the user clicks on the hamburger menu / bar icon */\r\n  toggleMenu = () => {\r\n    let x: any = document.getElementById(\"apps\");\r\n    if (x.style.display === \"block\") {\r\n      x.style.display = \"none\";\r\n    } else {\r\n      x.style.cssText = `\r\n        display: block;\r\n        float: right;\r\n        top: 28px; right: 0px;\r\n        position: absolute; background-color: white;\r\n        width: 146px;\r\n        padding: 8px;\r\n        box-shadow: 5px 5px #888888;\r\n        border-radius: 6px;      \r\n      `; \r\n    }    \r\n  }\r\n\r\n  render() {\r\n    const { friendsRequests, exchangeRequests, pendingProducts, products, t, user, userRequests } = this.props;\r\n    const exchangeClass = exchangeRequests.length > 0 ? \"stuffie-header__section-exchange\" : \"\";\r\n\r\n    if (!t) return;\r\n\r\n    return (\r\n      <div className=\"stuffie-header\">\r\n        <div className=\"stuffie-header__left\">\r\n          <div className=\"stuffie-header__info\">\r\n            <div className=\"stuffie-header__logo\">\r\n              <Media fileName=\"logo_2020\" format=\"jpg\" height=\"50\" width=\"50\" />\r\n            </div>\r\n            <div className='stuffie-header__user'>Stuffie</div>\r\n          </div>\r\n          <div className='stuffie-header__sections'>\r\n            <div className='stuffie-header__section-item'><Link to='/'>{t('Feed')}</Link></div>\r\n            <div className='stuffie-header__section-item'>\r\n              <Link to='/friends'>{t('Friends')}</Link>\r\n              {friendsRequests.length > 0 && (<div className=\"stuffie-header__warning\">{friendsRequests.length}</div>)}\r\n            </div>\r\n            <div className={`stuffie-header__section-item ${exchangeClass}`}>\r\n              <Link to='/products'>{window.innerWidth >= 1024 ? \"Products\" : \"Prods\"}</Link>\r\n              {exchangeRequests.length > 0 && (<div className=\"stuffie-header__warning\">{exchangeRequests.length}</div>)}\r\n            </div>\r\n            {user.admin && (\r\n              <div className='stuffie-header__section-item'>\r\n                <Link to='/admin'>{t('Admin')}</Link>\r\n                { (userRequests.length > 0 || pendingProducts.length > 0) &&\r\n                  (<div className=\"stuffie-header__warning\">{userRequests.length + pendingProducts.length}</div>)\r\n                }\r\n              </div>\r\n            )}\r\n            <div className=\"stuffie-header__logout\"><a onClick={this.handleLogout}>{t('Logout')}</a></div>\r\n          </div>\r\n        </div>\r\n        <div className=\"stuffie-header__search\">\r\n          <SearchBar products={products}></SearchBar>\r\n\r\n          {/* https://www.w3schools.com/howto/howto_js_mobile_navbar.asp */}\r\n          <div className=\"stuffie-header__menu\">\r\n            <div id=\"apps\"><Apps /></div>\r\n            <a className=\"icon\" onClick={event => event && this.toggleMenu()}>\r\n              <i className=\"fa fa-bars\"></i>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user,\r\n  userRequests: state.userRequests,\r\n  friendsRequests: state.friendsRequests,\r\n  products: state.products,\r\n  exchangeRequests: state.exchangeRequests,\r\n  pendingProducts: state.pendingProducts,\r\n});\r\n\r\nconst mapDispatchProps = {\r\n  logout\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(withTranslation()<any>(withRouter<any, React.ComponentClass<any>>(Header)));\r\n","export const REVOKE_USER = 'STUFFIE::REVOKE_USER';\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nimport Category from '../types/Category';\r\nimport State from '../../redux/State';\r\nimport { MenuProps, MenuState } from './types';\r\nimport { isProductsEmpty } from '../../components/helpers/StuffHelper';\r\nimport './Menu.scss';\r\n\r\nclass Menu extends Component<MenuProps, MenuState> {\r\n  renderCategories = () => {\r\n    const { categories, products } = this.props;\r\n\r\n    if (!categories) return;\r\n\r\n    if (!products) return;\r\n\r\n    return categories\r\n            .filter((category: Category) => products[category.id] && products[category.id].length)\r\n            .map(category => {\r\n              const newTo = { pathname: `/category/${category.id}`, category: category.name };\r\n              return (\r\n              <div key={category.id} className=\"menu__category\">\r\n                <Link className=\"\" key={category.id} to={newTo}>{category.name}</Link>\r\n              </div>);\r\n            });\r\n  }\r\n\r\n  render() {\r\n    const { products, t } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <div className='menu__title'>{t('Summary')}</div>\r\n        {isProductsEmpty(products) && <div>No products</div>}\r\n        <div className=\"menu__list\">\r\n          { this.renderCategories() }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user,\r\n  categories: state.categories,\r\n  products: state.products\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(withTranslation()<any>(Menu));\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nimport Apps from '../sections/Apps';\r\nimport Chat from '../sections/Chat';\r\nimport MainRoutes from './MainRoutes';\r\nimport Footer from '../sections/Footer';\r\nimport Header from '../sections/Header';\r\nimport Menu from '../sections/Menu';\r\nimport State from '../../redux/State';\r\n\r\nimport { MainProps } from './types'; \r\nimport './Main.scss';\r\n\r\nclass Main extends Component<MainProps, any> {\r\n  render() {\r\n    const { user, t } = this.props;\r\n\r\n    return (\r\n      <div className=\"stuffie\">\r\n        <div className=\"stuffie__header\">\r\n          <Header />\r\n        </div>\r\n        <div className=\"stuffie__main\">\r\n          <div className=\"stuffie__menu\">\r\n            <Menu />\r\n          </div>\r\n          <div className=\"stuffie__content\">\r\n            <MainRoutes />\r\n          </div>\r\n          <div className=\"stuffie__right\">\r\n            <div className=\"stuffie__user\">\r\n              {user.picture && (<img src={user.picture}></img>)}\r\n              <div className=\"stuffie__welcome\">{t('Welcome')} {user.first_name}</div>\r\n            </div>\r\n            <div className=\"stuffie__apps\">\r\n              <Apps />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"stuffie_footer\">\r\n          <Footer />\r\n        </div>\r\n        <Chat />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(withTranslation()<any>(Main));\r\n","import { makeStandardActionCreator } from '../action-helpers';\r\nimport { FRIENDS_REQUESTS_FETCHED } from './constants';\r\nimport { getFriendsRequests } from '../../services/stuffier';\r\n\r\nconst friendsRequestsFetched = makeStandardActionCreator(FRIENDS_REQUESTS_FETCHED);\r\nexport const fetchFriendsRequests = () => dispatch => {\r\n  return getFriendsRequests()\r\n  .then(res => {\r\n    dispatch(friendsRequestsFetched(res.data));\r\n    return Promise.resolve(res.data);\r\n  });\r\n}\r\n","export const FRIENDS_REQUESTS_FETCHED = 'MENU::FRIENDS_REQUESTS_FETCHED';\r\n","import { makeStandardActionCreator } from '../action-helpers';\r\nimport { PENDING_PRODUCTS_FETCHED } from './constants';\r\nimport { getPendingProducts } from '../../services/stuff';\r\n\r\nconst pendingProductsFetched = makeStandardActionCreator(PENDING_PRODUCTS_FETCHED);\r\nexport const fetchPendingProducts = () => dispatch => {\r\n  return getPendingProducts()\r\n  .then(res => {\r\n    dispatch(pendingProductsFetched(res.data));\r\n    return Promise.resolve(res.data);\r\n  })\r\n  .catch(error => Promise.reject(error));\r\n}\r\n","export const PENDING_PRODUCTS_FETCHED = 'ADMIN::PENDING_PRODUCTS_FETCHED';\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Loading from '../shared/Loading';\r\nimport Main from './Main';\r\nimport State from '../../redux/State';\r\nimport { FetchDataProps } from './types';\r\n\r\nimport { fetchCategories } from '../../redux/categories/actions';\r\nimport { fetchFriends } from '../../redux/friends/actions';\r\nimport { fetchFriendsRequests } from '../../redux/friends-requests/actions';\r\nimport { fetchProducts } from '../../redux/products/actions';\r\nimport { fetchSubCategories } from '../../redux/subcategories/actions';\r\nimport { fetchExchangeRequests } from '../../redux/exchange-requests/actions';\r\nimport { fetchPendingProducts } from '../../redux/pending-products/actions';\r\nimport { fetchUserRequests } from '../../redux/user-requests/actions';\r\n\r\nimport './FetchData.scss';\r\n\r\nclass FetchData extends Component<FetchDataProps, any> {\r\n  state = {\r\n    isLoading: true\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  fetchData = () => {\r\n    const { user, fetchCategories, fetchFriends, fetchSubCategories, fetchProducts,\r\n      fetchFriendsRequests, fetchExchangeRequests,   fetchPendingProducts, fetchUserRequests } = this.props;\r\n\r\n    let promises = [\r\n      fetchCategories(),                  // values[0]\r\n      fetchSubCategories(),               // values[1]\r\n      fetchFriends(user.email),           // values[2]\r\n      fetchFriendsRequests(user.email),   // values[3]\r\n      fetchExchangeRequests(user.id)      // values[4]\r\n    ];\r\n\r\n    let adminPromises = [\r\n      fetchUserRequests(),                  // values[5]\r\n      fetchPendingProducts()                // values[6]\r\n    ];\r\n\r\n    if (user.admin) {\r\n      promises = [...promises, ...adminPromises];\r\n    }\r\n\r\n    Promise.all(promises)\r\n    .then((values: any) => fetchProducts(user, values[0].data))\r\n    .catch((error: any) => console.log(error))\r\n    .finally(() => this.setState({ isLoading: false }));\r\n  }\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n\r\n    if (isLoading) {\r\n      return (\r\n        <div className=\"fetch-data__loading\">\r\n          <Loading size=\"xl\" message=\"Loading data and products...\" />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Main />);\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user,\r\n});\r\n\r\nconst mapDispatchProps = {\r\n  fetchCategories,\r\n  fetchFriends,\r\n  fetchFriendsRequests,\r\n  fetchProducts,\r\n  fetchSubCategories,\r\n  fetchExchangeRequests,\r\n  fetchPendingProducts,\r\n  fetchUserRequests\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(FetchData);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Button from '../shared/Button';\r\nimport Loading from '../shared/Loading';\r\nimport State from '../../redux/State';\r\nimport TextField from '../shared/TextField';\r\nimport User from '../types/User';\r\nimport { RegisterProps } from './types';\r\nimport { registerUser } from '../../redux/user/actions';\r\n\r\nimport './Register.scss';\r\n\r\nclass Register extends Component<RegisterProps, any> {\r\n  state = {\r\n    email: '',\r\n    password: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    isLoading: false\r\n  }\r\n\r\n  enableButton() {\r\n    const { email, password, firstName, lastName } = this.state;\r\n\r\n    return email.length > 0 &&\r\n      password.length > 0 &&\r\n      firstName.length > 0 &&\r\n      lastName.length > 0;\r\n  }\r\n\r\n  handleSubmit = (event: React.FormEvent<EventTarget>) => {\r\n    const { registerUser, setMessage } = this.props;\r\n    const { email, password, firstName, lastName } = this.state;\r\n    const user: User = { email, password, first_name: firstName, last_name: lastName, admin: false };\r\n\r\n    event.preventDefault();\r\n    this.setState({ isLoading: true });\r\n\r\n    registerUser(user)\r\n    .then((res: any) => {\r\n      localStorage.setItem('username', res.email);\r\n      setMessage(\"Register Successful. Request to be accepted by Admin. Do not login yet!\");\r\n    })\r\n    .catch((error: any) => setMessage(\"Error: Couldn't register. Try again.\"))\r\n    .finally(() => this.setState({ isLoading: false }));\r\n  }\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n\r\n    return (\r\n      <div className=\"register\">\r\n        <h1>Register</h1>\r\n        <form className=\"register__form\" onSubmit={event => this.handleSubmit(event)} >\r\n          <div className=\"register__content\">\r\n            <div className=\"register__row\">\r\n              <div className=\"register__text\">Email</div>\r\n              <TextField\r\n                type=\"text\"\r\n                name=\"email\"\r\n                placeholder=\"Email\"\r\n                disabled={isLoading}\r\n                onChange={(email: string) => this.setState({ email })} />\r\n            </div>\r\n            <div className=\"register__row\">\r\n              <div className=\"register__text\">Password</div>\r\n              <TextField\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Password\"\r\n                disabled={isLoading}\r\n                onChange={(password: string) => this.setState({ password })} />\r\n            </div>\r\n            <div className=\"register__row\">\r\n              <div className=\"register__text\">First Name</div>\r\n              <TextField\r\n                type=\"text\"\r\n                name=\"firstName\"\r\n                placeholder=\"First Name\"\r\n                disabled={isLoading}\r\n                onChange={(firstName: string) => this.setState({ firstName })} />\r\n            </div>\r\n            <div className=\"register__row\">\r\n              <div className=\"register__text\">Last Name</div>\r\n              <TextField\r\n                type=\"text\"\r\n                name=\"lastName\"\r\n                placeholder=\"Last Name\"\r\n                disabled={isLoading}\r\n                onChange={(lastName: string) => this.setState({ lastName })} />\r\n            </div>\r\n          </div>\r\n          <div className=\"register__button\">\r\n            <Button type=\"submit\" text=\"Register\" disabled={!this.enableButton() || isLoading}></Button>\r\n            {isLoading && (<div className=\"register__loading\"><Loading size=\"md\" /></div>)}\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user\r\n});\r\n\r\nconst mapDispatchProps = {\r\n  registerUser\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(withRouter<any, React.ComponentClass<any>>(Register));\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { get, isEmpty } from 'lodash';\r\n\r\nimport Loading from '../shared/Loading';\r\nimport Login from './Login';\r\nimport FetchData from './FetchData';\r\nimport Media from '../shared/Media';\r\nimport Register from './Register';\r\nimport State from '../../redux/State';\r\nimport WarningMessage from '../shared/WarningMessage';\r\nimport { WarningMessageType } from '../shared/types';\r\nimport { fetchUser } from '../../redux/user/actions';\r\nimport './Auth.scss';\r\n\r\nclass Auth extends Component<any, any> {\r\n  state = {\r\n    isLoading: true,\r\n    message: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { fetchUser } = this.props;\r\n\r\n    if(localStorage.getItem('username')) {\r\n      fetchUser(localStorage.getItem('username'))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n    } else {\r\n      this.setState({ isLoading: false });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: any, prevState: any) {\r\n    if (prevProps.user !== this.props.user) {\r\n      this.setState({ message: '' });\r\n    }\r\n  }\r\n\r\n  getMessageType = (message: string) => {\r\n    if (message.toLowerCase().includes('Error')) {\r\n      return WarningMessageType.ERROR;\r\n    } else if(message.toLowerCase().includes('successful')) {\r\n      return WarningMessageType.SUCCESSFUL;\r\n    }\r\n\r\n    return WarningMessageType.EMPTY;\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.props;\r\n    const { isLoading, message } = this.state;\r\n    const request = get(user, 'request');\r\n    let msg = request ? \"User already registered, wait for authorization. Don't register again.\" : message;\r\n\r\n    if (isLoading) {\r\n      return (\r\n        <div className=\"auth__loading\">\r\n          <Loading size=\"xl\" message=\"Loading\" />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (isEmpty(user) || request) {  \r\n      return (\r\n        <div className=\"auth\">\r\n          <div className=\"auth__header\">\r\n            <Media fileName=\"logo_2020_2\" format=\"jpg\" height=\"50\" width=\"50\" />\r\n            <h1 className=\"auth__title\">\r\n              <span className=\"auth__stuffie\">Stuffie</span>\r\n              <span className=\"auth__slogan\">Connecting Life</span>\r\n            </h1>\r\n          </div>\r\n          <div className=\"auth__horizontal-line\"></div>\r\n          <WarningMessage message={msg} type={this.getMessageType(msg)} />\r\n          <div className=\"auth__content\">\r\n            <Register setMessage={(message: string) => this.setState({ message })} />\r\n            <div className=\"auth__line\"></div>\r\n            <Login setMessage={(message: string) => this.setState({ message })} />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (!isEmpty(user)) {\r\n      return <FetchData />\r\n    }\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({\r\n  user: state.user\r\n});\r\n\r\nconst mapDispatchProps = {\r\n  fetchUser\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(Auth);\r\n","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nimport Auth from './Auth';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\n\r\nclass Routes extends Component<any, any> {  \r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route path=\"/\" component={Auth} />\r\n        <Route path=\"/login\" component={Login} />\r\n        <Route path=\"/register\" component={Register} />\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTranslation()<any>(Routes);\r\n","import React, { Component } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { I18nextProvider, withTranslation } from 'react-i18next';\nimport { Provider } from 'react-redux';\n\nimport i18n from './config/i18n';\nimport Routes from './components/main/Routes';\nimport './App.scss';\nimport '../node_modules/@fortawesome/fontawesome-free/css/all.css';\n\nclass App extends Component<any, any>{\n\trender() {\n\t\tconst { store } = this.props;\n\n\t\treturn (\n\t\t\t<div className=\"stuffie__app\">\n\t\t\t\t<Provider store={store}>\n\t\t\t\t\t<I18nextProvider i18n={ i18n }>\n\t\t\t\t\t\t<BrowserRouter>\n\t\t\t\t\t\t\t<Routes />\n\t\t\t\t\t\t</BrowserRouter>\n\t\t\t\t\t</I18nextProvider>\n\t\t\t\t</Provider>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default withTranslation()<any>(App);\n","import { combineReducers } from 'redux';\r\nimport { REVOKE_USER } from './constants';\r\n\r\n// For reducers\r\nimport categories from './categories/reducer';\r\nimport friends from './friends/reducer';\r\nimport products from './products/reducer';\r\nimport subcategories from './subcategories/reducer';\r\nimport user from './user/reducer';\r\nimport userRequests from './user-requests/reducer';\r\nimport friendsRequests from './friends-requests/reducer';\r\nimport exchangeRequests from './exchange-requests/reducer';\r\nimport pendingProducts from './pending-products/reducer';\r\n\r\n// To add object in state:\r\n// 1. Add reducer here\r\n// 2. Add type in State.ts\r\nconst appReducer = combineReducers({\r\n  user,\r\n  userRequests,\r\n  categories,\r\n  friends,\r\n  friendsRequests,\r\n  products,\r\n  subcategories,\r\n  exchangeRequests,\r\n  pendingProducts\r\n});\r\n\r\nconst rootReducer = (state, action) => {\r\n  if (action.type === REVOKE_USER) {\r\n    // Reducers are supposed to return the initial state when\r\n    // they are called with undefined as the first argument.\r\n    state = undefined;\r\n  }\r\n\r\n  return appReducer(state, action);\r\n};\r\n\r\nexport default rootReducer;\r\n","import { LOGIN_USER_FETCHED, USER_FETCHED, USER_PICTURE_ADDED } from './constants';\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case LOGIN_USER_FETCHED:\r\n      return action.payload;\r\n    case USER_FETCHED:\r\n      return action.payload;\r\n    case USER_PICTURE_ADDED:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { USER_REQUESTS_FETCHED, USER_REQUEST_DELETED } from './constants';\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case USER_REQUESTS_FETCHED:\r\n      return action.payload;\r\n    case USER_REQUEST_DELETED:\r\n      const userRequests = state.filter(item => item._id !== action.payload._id);\r\n      return userRequests;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { CATEGORY_ADDED, CATEGORIES_FETCHED, CATEGORY_FETCHED } from './constants';\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case CATEGORY_ADDED:\r\n      const category = action.payload;\r\n      return [...state, category];\r\n    case CATEGORIES_FETCHED:\r\n      return action.payload;\r\n    case CATEGORY_FETCHED:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FRIENDS_FETCHED, FRIEND_PRODUCTS_FETCHED } from './constants';\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case FRIENDS_FETCHED:\r\n      return action.payload;\r\n    case FRIEND_PRODUCTS_FETCHED:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FRIENDS_REQUESTS_FETCHED } from './constants';\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case FRIENDS_REQUESTS_FETCHED:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { PRODUCT_ADDED, PRODUCTS_FETCHED } from './constants';\r\n\r\n//PRODUCT_FETCHED,\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case PRODUCT_ADDED:\r\n      const product = action.payload;\r\n      let products = state[product.category];\r\n\r\n      return {\r\n        ...state,\r\n        [product.category]: [...products, product]\r\n      };\r\n\r\n    // case PRODUCT_FETCHED:\r\n    //   return action.payload || null;\r\n    case PRODUCTS_FETCHED:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { SUBCATEGORY_ADDED, SUBCATEGORIES_FETCHED, SUBCATEGORY_FETCHED } from './constants';\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case SUBCATEGORY_ADDED:\r\n      const subcategory = action.payload;\r\n      return [...state, subcategory];\r\n    case SUBCATEGORIES_FETCHED:\r\n      return action.payload;\r\n    case SUBCATEGORY_FETCHED:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { EXCHANGES_FETCHED, EXCHANGE_DELETED, EXCHANGE_REQUESTED } from './constants';\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case EXCHANGE_REQUESTED:\r\n      return [...state, action.payload];\r\n    case EXCHANGES_FETCHED:\r\n      return action.payload;\r\n    case EXCHANGE_DELETED:\r\n      const requests = state.filter(item => item._id !== action.payload);\r\n      return requests;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { PENDING_PRODUCTS_FETCHED } from './constants';\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case PENDING_PRODUCTS_FETCHED:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { applyMiddleware, createStore, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport App from './App';\nimport reducersApp from './redux/reducers';\nimport { unregister } from './serviceWorker';\n\nimport './sass/main.scss';\nimport './index.css';\n\nlet middleware = [thunk];\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\nmiddleware.push(require('redux-freeze'));\nconst store = createStore(reducersApp, composeEnhancers(applyMiddleware(...middleware)));\n\nReactDOM.render(\n  <App store={ store }/>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nunregister();\n"],"sourceRoot":""}